(self["webpackChunkgalaxy_web"]=self["webpackChunkgalaxy_web"]||[]).push([[998],{9662:function(t,e,r){"use strict";var n=r(614),i=r(6330),s=TypeError;t.exports=function(t){if(n(t))return t;throw s(i(t)+" is not a function")}},6077:function(t,e,r){"use strict";var n=r(614),i=String,s=TypeError;t.exports=function(t){if("object"==typeof t||n(t))return t;throw s("Can't set "+i(t)+" as a prototype")}},5787:function(t,e,r){"use strict";var n=r(7976),i=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw i("Incorrect invocation")}},9670:function(t,e,r){"use strict";var n=r(111),i=String,s=TypeError;t.exports=function(t){if(n(t))return t;throw s(i(t)+" is not an object")}},3013:function(t){"use strict";t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(t,e,r){"use strict";var n,i,s,o=r(3013),a=r(9781),l=r(7854),h=r(614),u=r(111),c=r(2597),f=r(648),d=r(6330),p=r(8880),m=r(8052),g=r(7045),w=r(7976),b=r(9518),y=r(7674),v=r(5112),_=r(9711),x=r(9909),k=x.enforce,M=x.get,E=l.Int8Array,A=E&&E.prototype,S=l.Uint8ClampedArray,R=S&&S.prototype,P=E&&b(E),T=A&&b(A),I=Object.prototype,C=l.TypeError,D=v("toStringTag"),O=_("TYPED_ARRAY_TAG"),B="TypedArrayConstructor",U=o&&!!y&&"Opera"!==f(l.opera),N=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},z=function(t){if(!u(t))return!1;var e=f(t);return"DataView"===e||c(F,e)||c(L,e)},j=function(t){var e=b(t);if(u(e)){var r=M(e);return r&&c(r,B)?r[B]:j(e)}},V=function(t){if(!u(t))return!1;var e=f(t);return c(F,e)||c(L,e)},Y=function(t){if(V(t))return t;throw C("Target is not a typed array")},X=function(t){if(h(t)&&(!y||w(P,t)))return t;throw C(d(t)+" is not a typed array constructor")},G=function(t,e,r,n){if(a){if(r)for(var i in F){var s=l[i];if(s&&c(s.prototype,t))try{delete s.prototype[t]}catch(o){try{s.prototype[t]=e}catch(h){}}}T[t]&&!r||m(T,t,r?e:U&&A[t]||e,n)}},q=function(t,e,r){var n,i;if(a){if(y){if(r)for(n in F)if(i=l[n],i&&c(i,t))try{delete i[t]}catch(s){}if(P[t]&&!r)return;try{return m(P,t,r?e:U&&P[t]||e)}catch(s){}}for(n in F)i=l[n],!i||i[t]&&!r||m(i,t,e)}};for(n in F)i=l[n],s=i&&i.prototype,s?k(s)[B]=i:U=!1;for(n in L)i=l[n],s=i&&i.prototype,s&&(k(s)[B]=i);if((!U||!h(P)||P===Function.prototype)&&(P=function(){throw C("Incorrect invocation")},U))for(n in F)l[n]&&y(l[n],P);if((!U||!T||T===I)&&(T=P.prototype,U))for(n in F)l[n]&&y(l[n].prototype,T);if(U&&b(R)!==T&&y(R,T),a&&!c(T,D))for(n in N=!0,g(T,D,{configurable:!0,get:function(){return u(this)?this[O]:void 0}}),F)l[n]&&p(l[n],O,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:U,TYPED_ARRAY_TAG:N&&O,aTypedArray:Y,aTypedArrayConstructor:X,exportTypedArrayMethod:G,exportTypedArrayStaticMethod:q,getTypedArrayConstructor:j,isView:z,isTypedArray:V,TypedArray:P,TypedArrayPrototype:T}},7745:function(t,e,r){"use strict";var n=r(6244);t.exports=function(t,e){var r=0,i=n(e),s=new t(i);while(i>r)s[r]=e[r++];return s}},1318:function(t,e,r){"use strict";var n=r(5656),i=r(1400),s=r(6244),o=function(t){return function(e,r,o){var a,l=n(e),h=s(l),u=i(o,h);if(t&&r!==r){while(h>u)if(a=l[u++],a!==a)return!0}else for(;h>u;u++)if((t||u in l)&&l[u]===r)return t||u||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},3658:function(t,e,r){"use strict";var n=r(9781),i=r(3157),s=TypeError,o=Object.getOwnPropertyDescriptor,a=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(i(t)&&!o(t,"length").writable)throw s("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},1843:function(t,e,r){"use strict";var n=r(6244);t.exports=function(t,e){for(var r=n(t),i=new e(r),s=0;s<r;s++)i[s]=t[r-s-1];return i}},1572:function(t,e,r){"use strict";var n=r(6244),i=r(9303),s=RangeError;t.exports=function(t,e,r,o){var a=n(t),l=i(r),h=l<0?a+l:l;if(h>=a||h<0)throw s("Incorrect index");for(var u=new e(a),c=0;c<a;c++)u[c]=c===h?o:t[c];return u}},4326:function(t,e,r){"use strict";var n=r(1702),i=n({}.toString),s=n("".slice);t.exports=function(t){return s(i(t),8,-1)}},648:function(t,e,r){"use strict";var n=r(1694),i=r(614),s=r(4326),o=r(5112),a=o("toStringTag"),l=Object,h="Arguments"===s(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(r){}};t.exports=n?s:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=u(e=l(t),a))?r:h?s(e):"Object"===(n=s(e))&&i(e.callee)?"Arguments":n}},9920:function(t,e,r){"use strict";var n=r(2597),i=r(3887),s=r(1236),o=r(3070);t.exports=function(t,e,r){for(var a=i(e),l=o.f,h=s.f,u=0;u<a.length;u++){var c=a[u];n(t,c)||r&&n(r,c)||l(t,c,h(e,c))}}},8544:function(t,e,r){"use strict";var n=r(7293);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},8880:function(t,e,r){"use strict";var n=r(9781),i=r(3070),s=r(9114);t.exports=n?function(t,e,r){return i.f(t,e,s(1,r))}:function(t,e,r){return t[e]=r,t}},9114:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7045:function(t,e,r){"use strict";var n=r(6339),i=r(3070);t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),i.f(t,e,r)}},8052:function(t,e,r){"use strict";var n=r(614),i=r(3070),s=r(6339),o=r(3072);t.exports=function(t,e,r,a){a||(a={});var l=a.enumerable,h=void 0!==a.name?a.name:e;if(n(r)&&s(r,h,a),a.global)l?t[e]=r:o(e,r);else{try{a.unsafe?t[e]&&(l=!0):delete t[e]}catch(u){}l?t[e]=r:i.f(t,e,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},3072:function(t,e,r){"use strict";var n=r(7854),i=Object.defineProperty;t.exports=function(t,e){try{i(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},9781:function(t,e,r){"use strict";var n=r(7293);t.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(t){"use strict";var e="object"==typeof document&&document.all,r="undefined"==typeof e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:r}},317:function(t,e,r){"use strict";var n=r(7854),i=r(111),s=n.document,o=i(s)&&i(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},7207:function(t){"use strict";var e=TypeError,r=9007199254740991;t.exports=function(t){if(t>r)throw e("Maximum allowed index exceeded");return t}},3678:function(t){"use strict";t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8113:function(t){"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:function(t,e,r){"use strict";var n,i,s=r(7854),o=r(8113),a=s.process,l=s.Deno,h=a&&a.versions||l&&l.version,u=h&&h.v8;u&&(n=u.split("."),i=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&o&&(n=o.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/),n&&(i=+n[1]))),t.exports=i},748:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:function(t,e,r){"use strict";var n=r(1702),i=Error,s=n("".replace),o=function(t){return String(i(t).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(o);t.exports=function(t,e){if(l&&"string"==typeof t&&!i.prepareStackTrace)while(e--)t=s(t,a,"");return t}},2109:function(t,e,r){"use strict";var n=r(7854),i=r(1236).f,s=r(8880),o=r(8052),a=r(3072),l=r(9920),h=r(4705);t.exports=function(t,e){var r,u,c,f,d,p,m=t.target,g=t.global,w=t.stat;if(u=g?n:w?n[m]||a(m,{}):(n[m]||{}).prototype,u)for(c in e){if(d=e[c],t.dontCallGetSet?(p=i(u,c),f=p&&p.value):f=u[c],r=h(g?c:m+(w?".":"#")+c,t.forced),!r&&void 0!==f){if(typeof d==typeof f)continue;l(d,f)}(t.sham||f&&f.sham)&&s(d,"sham",!0),o(u,c,d,t)}}},7293:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},4374:function(t,e,r){"use strict";var n=r(7293);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,r){"use strict";var n=r(4374),i=Function.prototype.call;t.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(t,e,r){"use strict";var n=r(9781),i=r(2597),s=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,a=i(s,"name"),l=a&&"something"===function(){}.name,h=a&&(!n||n&&o(s,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:h}},5668:function(t,e,r){"use strict";var n=r(1702),i=r(9662);t.exports=function(t,e,r){try{return n(i(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(s){}}},1702:function(t,e,r){"use strict";var n=r(4374),i=Function.prototype,s=i.call,o=n&&i.bind.bind(s,s);t.exports=n?o:function(t){return function(){return s.apply(t,arguments)}}},5005:function(t,e,r){"use strict";var n=r(7854),i=r(614),s=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?s(n[t]):n[t]&&n[t][e]}},8173:function(t,e,r){"use strict";var n=r(9662),i=r(8554);t.exports=function(t,e){var r=t[e];return i(r)?void 0:n(r)}},7854:function(t,e,r){"use strict";var n=function(t){return t&&t.Math===Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||this||Function("return this")()},2597:function(t,e,r){"use strict";var n=r(1702),i=r(7908),s=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(i(t),e)}},3501:function(t){"use strict";t.exports={}},4664:function(t,e,r){"use strict";var n=r(9781),i=r(7293),s=r(317);t.exports=!n&&!i((function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,r){"use strict";var n=r(1702),i=r(7293),s=r(4326),o=Object,a=n("".split);t.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"===s(t)?a(t,""):o(t)}:o},9587:function(t,e,r){"use strict";var n=r(614),i=r(111),s=r(7674);t.exports=function(t,e,r){var o,a;return s&&n(o=e.constructor)&&o!==r&&i(a=o.prototype)&&a!==r.prototype&&s(t,a),t}},2788:function(t,e,r){"use strict";var n=r(1702),i=r(614),s=r(5465),o=n(Function.toString);i(s.inspectSource)||(s.inspectSource=function(t){return o(t)}),t.exports=s.inspectSource},9909:function(t,e,r){"use strict";var n,i,s,o=r(4811),a=r(7854),l=r(111),h=r(8880),u=r(2597),c=r(5465),f=r(6200),d=r(3501),p="Object already initialized",m=a.TypeError,g=a.WeakMap,w=function(t){return s(t)?i(t):n(t,{})},b=function(t){return function(e){var r;if(!l(e)||(r=i(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return r}};if(o||c.state){var y=c.state||(c.state=new g);y.get=y.get,y.has=y.has,y.set=y.set,n=function(t,e){if(y.has(t))throw m(p);return e.facade=t,y.set(t,e),e},i=function(t){return y.get(t)||{}},s=function(t){return y.has(t)}}else{var v=f("state");d[v]=!0,n=function(t,e){if(u(t,v))throw m(p);return e.facade=t,h(t,v,e),e},i=function(t){return u(t,v)?t[v]:{}},s=function(t){return u(t,v)}}t.exports={set:n,get:i,has:s,enforce:w,getterFor:b}},3157:function(t,e,r){"use strict";var n=r(4326);t.exports=Array.isArray||function(t){return"Array"===n(t)}},4067:function(t,e,r){"use strict";var n=r(648);t.exports=function(t){var e=n(t);return"BigInt64Array"===e||"BigUint64Array"===e}},614:function(t,e,r){"use strict";var n=r(4154),i=n.all;t.exports=n.IS_HTMLDDA?function(t){return"function"==typeof t||t===i}:function(t){return"function"==typeof t}},4705:function(t,e,r){"use strict";var n=r(7293),i=r(614),s=/#|\.prototype\./,o=function(t,e){var r=l[a(t)];return r===u||r!==h&&(i(e)?n(e):!!e)},a=o.normalize=function(t){return String(t).replace(s,".").toLowerCase()},l=o.data={},h=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},8554:function(t){"use strict";t.exports=function(t){return null===t||void 0===t}},111:function(t,e,r){"use strict";var n=r(614),i=r(4154),s=i.all;t.exports=i.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:n(t)||t===s}:function(t){return"object"==typeof t?null!==t:n(t)}},1913:function(t){"use strict";t.exports=!1},2190:function(t,e,r){"use strict";var n=r(5005),i=r(614),s=r(7976),o=r(3307),a=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return i(e)&&s(e.prototype,a(t))}},6244:function(t,e,r){"use strict";var n=r(7466);t.exports=function(t){return n(t.length)}},6339:function(t,e,r){"use strict";var n=r(1702),i=r(7293),s=r(614),o=r(2597),a=r(9781),l=r(6530).CONFIGURABLE,h=r(2788),u=r(9909),c=u.enforce,f=u.get,d=String,p=Object.defineProperty,m=n("".slice),g=n("".replace),w=n([].join),b=a&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),y=String(String).split("String"),v=t.exports=function(t,e,r){"Symbol("===m(d(e),0,7)&&(e="["+g(d(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!o(t,"name")||l&&t.name!==e)&&(a?p(t,"name",{value:e,configurable:!0}):t.name=e),b&&r&&o(r,"arity")&&t.length!==r.arity&&p(t,"length",{value:r.arity});try{r&&o(r,"constructor")&&r.constructor?a&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(i){}var n=c(t);return o(n,"source")||(n.source=w(y,"string"==typeof e?e:"")),t};Function.prototype.toString=v((function(){return s(this)&&f(this).source||h(this)}),"toString")},4758:function(t){"use strict";var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},6277:function(t,e,r){"use strict";var n=r(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},3070:function(t,e,r){"use strict";var n=r(9781),i=r(4664),s=r(3353),o=r(9670),a=r(4948),l=TypeError,h=Object.defineProperty,u=Object.getOwnPropertyDescriptor,c="enumerable",f="configurable",d="writable";e.f=n?s?function(t,e,r){if(o(t),e=a(e),o(r),"function"===typeof t&&"prototype"===e&&"value"in r&&d in r&&!r[d]){var n=u(t,e);n&&n[d]&&(t[e]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:c in r?r[c]:n[c],writable:!1})}return h(t,e,r)}:h:function(t,e,r){if(o(t),e=a(e),o(r),i)try{return h(t,e,r)}catch(n){}if("get"in r||"set"in r)throw l("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},1236:function(t,e,r){"use strict";var n=r(9781),i=r(6916),s=r(5296),o=r(9114),a=r(5656),l=r(4948),h=r(2597),u=r(4664),c=Object.getOwnPropertyDescriptor;e.f=n?c:function(t,e){if(t=a(t),e=l(e),u)try{return c(t,e)}catch(r){}if(h(t,e))return o(!i(s.f,t,e),t[e])}},8006:function(t,e,r){"use strict";var n=r(6324),i=r(748),s=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,s)}},5181:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},9518:function(t,e,r){"use strict";var n=r(2597),i=r(614),s=r(7908),o=r(6200),a=r(8544),l=o("IE_PROTO"),h=Object,u=h.prototype;t.exports=a?h.getPrototypeOf:function(t){var e=s(t);if(n(e,l))return e[l];var r=e.constructor;return i(r)&&e instanceof r?r.prototype:e instanceof h?u:null}},7976:function(t,e,r){"use strict";var n=r(1702);t.exports=n({}.isPrototypeOf)},6324:function(t,e,r){"use strict";var n=r(1702),i=r(2597),s=r(5656),o=r(1318).indexOf,a=r(3501),l=n([].push);t.exports=function(t,e){var r,n=s(t),h=0,u=[];for(r in n)!i(a,r)&&i(n,r)&&l(u,r);while(e.length>h)i(n,r=e[h++])&&(~o(u,r)||l(u,r));return u}},5296:function(t,e){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},7674:function(t,e,r){"use strict";var n=r(5668),i=r(9670),s=r(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{t=n(Object.prototype,"__proto__","set"),t(r,[]),e=r instanceof Array}catch(o){}return function(r,n){return i(r),s(n),e?t(r,n):r.__proto__=n,r}}():void 0)},2140:function(t,e,r){"use strict";var n=r(6916),i=r(614),s=r(111),o=TypeError;t.exports=function(t,e){var r,a;if("string"===e&&i(r=t.toString)&&!s(a=n(r,t)))return a;if(i(r=t.valueOf)&&!s(a=n(r,t)))return a;if("string"!==e&&i(r=t.toString)&&!s(a=n(r,t)))return a;throw o("Can't convert object to primitive value")}},3887:function(t,e,r){"use strict";var n=r(5005),i=r(1702),s=r(8006),o=r(5181),a=r(9670),l=i([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=s.f(a(t)),r=o.f;return r?l(e,r(t)):e}},7066:function(t,e,r){"use strict";var n=r(9670);t.exports=function(){var t=n(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},4488:function(t,e,r){"use strict";var n=r(8554),i=TypeError;t.exports=function(t){if(n(t))throw i("Can't call method on "+t);return t}},6200:function(t,e,r){"use strict";var n=r(2309),i=r(9711),s=n("keys");t.exports=function(t){return s[t]||(s[t]=i(t))}},5465:function(t,e,r){"use strict";var n=r(7854),i=r(3072),s="__core-js_shared__",o=n[s]||i(s,{});t.exports=o},2309:function(t,e,r){"use strict";var n=r(1913),i=r(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.32.1",mode:n?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:function(t,e,r){"use strict";var n=r(7392),i=r(7293),s=r(7854),o=s.String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},1400:function(t,e,r){"use strict";var n=r(9303),i=Math.max,s=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):s(r,e)}},4599:function(t,e,r){"use strict";var n=r(7593),i=TypeError;t.exports=function(t){var e=n(t,"number");if("number"==typeof e)throw i("Can't convert number to bigint");return BigInt(e)}},5656:function(t,e,r){"use strict";var n=r(8361),i=r(4488);t.exports=function(t){return n(i(t))}},9303:function(t,e,r){"use strict";var n=r(4758);t.exports=function(t){var e=+t;return e!==e||0===e?0:n(e)}},7466:function(t,e,r){"use strict";var n=r(9303),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},7908:function(t,e,r){"use strict";var n=r(4488),i=Object;t.exports=function(t){return i(n(t))}},7593:function(t,e,r){"use strict";var n=r(6916),i=r(111),s=r(2190),o=r(8173),a=r(2140),l=r(5112),h=TypeError,u=l("toPrimitive");t.exports=function(t,e){if(!i(t)||s(t))return t;var r,l=o(t,u);if(l){if(void 0===e&&(e="default"),r=n(l,t,e),!i(r)||s(r))return r;throw h("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},4948:function(t,e,r){"use strict";var n=r(7593),i=r(2190);t.exports=function(t){var e=n(t,"string");return i(e)?e:e+""}},1694:function(t,e,r){"use strict";var n=r(5112),i=n("toStringTag"),s={};s[i]="z",t.exports="[object z]"===String(s)},1340:function(t,e,r){"use strict";var n=r(648),i=String;t.exports=function(t){if("Symbol"===n(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},6330:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(r){return"Object"}}},9711:function(t,e,r){"use strict";var n=r(1702),i=0,s=Math.random(),o=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++i+s,36)}},3307:function(t,e,r){"use strict";var n=r(6293);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,r){"use strict";var n=r(9781),i=r(7293);t.exports=n&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:function(t){"use strict";var e=TypeError;t.exports=function(t,r){if(t<r)throw e("Not enough arguments");return t}},4811:function(t,e,r){"use strict";var n=r(7854),i=r(614),s=n.WeakMap;t.exports=i(s)&&/native code/.test(String(s))},5112:function(t,e,r){"use strict";var n=r(7854),i=r(2309),s=r(2597),o=r(9711),a=r(6293),l=r(3307),h=n.Symbol,u=i("wks"),c=l?h["for"]||h:h&&h.withoutSetter||o;t.exports=function(t){return s(u,t)||(u[t]=a&&s(h,t)?h[t]:c("Symbol."+t)),u[t]}},7658:function(t,e,r){"use strict";var n=r(2109),i=r(7908),s=r(6244),o=r(3658),a=r(7207),l=r(7293),h=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},c=h||!u();n({target:"Array",proto:!0,arity:1,forced:c},{push:function(t){var e=i(this),r=s(e),n=arguments.length;a(r+n);for(var l=0;l<n;l++)e[r]=arguments[l],r++;return o(e,r),r}})},2087:function(t,e,r){"use strict";var n=r(7854),i=r(9781),s=r(7045),o=r(7066),a=r(7293),l=n.RegExp,h=l.prototype,u=i&&a((function(){var t=!0;try{l(".","d")}catch(u){t=!1}var e={},r="",n=t?"dgimsy":"gimsy",i=function(t,n){Object.defineProperty(e,t,{get:function(){return r+=n,!0}})},s={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in t&&(s.hasIndices="d"),s)i(o,s[o]);var a=Object.getOwnPropertyDescriptor(h,"flags").get.call(e);return a!==n||r!==n}));u&&s(h,"flags",{configurable:!0,get:o})},1439:function(t,e,r){"use strict";var n=r(1843),i=r(260),s=i.aTypedArray,o=i.exportTypedArrayMethod,a=i.getTypedArrayConstructor;o("toReversed",(function(){return n(s(this),a(this))}))},7585:function(t,e,r){"use strict";var n=r(260),i=r(1702),s=r(9662),o=r(7745),a=n.aTypedArray,l=n.getTypedArrayConstructor,h=n.exportTypedArrayMethod,u=i(n.TypedArrayPrototype.sort);h("toSorted",(function(t){void 0!==t&&s(t);var e=a(this),r=o(l(e),e);return u(r,t)}))},5315:function(t,e,r){"use strict";var n=r(1572),i=r(260),s=r(4067),o=r(9303),a=r(4599),l=i.aTypedArray,h=i.getTypedArrayConstructor,u=i.exportTypedArrayMethod,c=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();u("with",{with:function(t,e){var r=l(this),i=o(t),u=s(r)?a(e):+e;return n(r,h(r),i,u)}}["with"],!c)},2801:function(t,e,r){"use strict";var n=r(2109),i=r(7854),s=r(5005),o=r(9114),a=r(3070).f,l=r(2597),h=r(5787),u=r(9587),c=r(6277),f=r(3678),d=r(1060),p=r(9781),m=r(1913),g="DOMException",w=s("Error"),b=s(g),y=function(){h(this,v);var t=arguments.length,e=c(t<1?void 0:arguments[0]),r=c(t<2?void 0:arguments[1],"Error"),n=new b(e,r),i=w(e);return i.name=g,a(n,"stack",o(1,d(i.stack,1))),u(n,this,y),n},v=y.prototype=b.prototype,_="stack"in w(g),x="stack"in new b(1,2),k=b&&p&&Object.getOwnPropertyDescriptor(i,g),M=!!k&&!(k.writable&&k.configurable),E=_&&!M&&!x;n({global:!0,constructor:!0,forced:m||E},{DOMException:E?y:b});var A=s(g),S=A.prototype;if(S.constructor!==A)for(var R in m||a(S,"constructor",o(1,A)),f)if(l(f,R)){var P=f[R],T=P.s;l(A,T)||a(A,T,o(6,P.c))}},6229:function(t,e,r){"use strict";var n=r(8052),i=r(1702),s=r(1340),o=r(8053),a=URLSearchParams,l=a.prototype,h=i(l.append),u=i(l["delete"]),c=i(l.forEach),f=i([].push),d=new a("a=1&a=2&b=3");d["delete"]("a",1),d["delete"]("b",void 0),d+""!=="a=2"&&n(l,"delete",(function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return u(this,t);var n=[];c(this,(function(t,e){f(n,{key:e,value:t})})),o(e,1);var i,a=s(t),l=s(r),d=0,p=0,m=!1,g=n.length;while(d<g)i=n[d++],m||i.key===a?(m=!0,u(this,i.key)):p++;while(p<g)i=n[p++],i.key===a&&i.value===l||h(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},7330:function(t,e,r){"use strict";var n=r(8052),i=r(1702),s=r(1340),o=r(8053),a=URLSearchParams,l=a.prototype,h=i(l.getAll),u=i(l.has),c=new a("a=1");!c.has("a",2)&&c.has("a",void 0)||n(l,"has",(function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return u(this,t);var n=h(this,t);o(e,1);var i=s(r),a=0;while(a<n.length)if(n[a++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},2062:function(t,e,r){"use strict";var n=r(9781),i=r(1702),s=r(7045),o=URLSearchParams.prototype,a=i(o.forEach);n&&!("size"in o)&&s(o,"size",{get:function(){var t=0;return a(this,(function(){t++})),t},configurable:!0,enumerable:!0})},4870:function(t,e,r){"use strict";r.d(e,{Bj:function(){return s},Fl:function(){return jt},IU:function(){return Tt},Jd:function(){return M},PG:function(){return At},Um:function(){return kt},WL:function(){return Lt},X$:function(){return R},X3:function(){return Pt},Xl:function(){return It},dq:function(){return Ut},j:function(){return A},lk:function(){return E},nZ:function(){return a},qj:function(){return xt},qq:function(){return v},yT:function(){return Rt}});r(7658);var n=r(7139);let i;class s{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=i,!t&&i&&(this.index=(i.scopes||(i.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=i;try{return i=this,t()}finally{i=e}}else 0}on(){i=this}off(){i=this.parent}stop(t){if(this._active){let e,r;for(e=0,r=this.effects.length;e<r;e++)this.effects[e].stop();for(e=0,r=this.cleanups.length;e<r;e++)this.cleanups[e]();if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this._active=!1}}}function o(t,e=i){e&&e.active&&e.effects.push(t)}function a(){return i}const l=t=>{const e=new Set(t);return e.w=0,e.n=0,e},h=t=>(t.w&m)>0,u=t=>(t.n&m)>0,c=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=m},f=t=>{const{deps:e}=t;if(e.length){let r=0;for(let n=0;n<e.length;n++){const i=e[n];h(i)&&!u(i)?i.delete(t):e[r++]=i,i.w&=~m,i.n&=~m}e.length=r}},d=new WeakMap;let p=0,m=1;const g=30;let w;const b=Symbol(""),y=Symbol("");class v{constructor(t,e=null,r){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,o(this,r)}run(){if(!this.active)return this.fn();let t=w,e=x;while(t){if(t===this)return;t=t.parent}try{return this.parent=w,w=this,x=!0,m=1<<++p,p<=g?c(this):_(this),this.fn()}finally{p<=g&&f(this),m=1<<--p,w=this.parent,x=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){w===this?this.deferStop=!0:this.active&&(_(this),this.onStop&&this.onStop(),this.active=!1)}}function _(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let x=!0;const k=[];function M(){k.push(x),x=!1}function E(){const t=k.pop();x=void 0===t||t}function A(t,e,r){if(x&&w){let e=d.get(t);e||d.set(t,e=new Map);let n=e.get(r);n||e.set(r,n=l());const i=void 0;S(n,i)}}function S(t,e){let r=!1;p<=g?u(t)||(t.n|=m,r=!h(t)):r=!t.has(w),r&&(t.add(w),w.deps.push(t))}function R(t,e,r,i,s,o){const a=d.get(t);if(!a)return;let h=[];if("clear"===e)h=[...a.values()];else if("length"===r&&(0,n.kJ)(t)){const t=Number(i);a.forEach(((e,r)=>{("length"===r||r>=t)&&h.push(e)}))}else switch(void 0!==r&&h.push(a.get(r)),e){case"add":(0,n.kJ)(t)?(0,n.S0)(r)&&h.push(a.get("length")):(h.push(a.get(b)),(0,n._N)(t)&&h.push(a.get(y)));break;case"delete":(0,n.kJ)(t)||(h.push(a.get(b)),(0,n._N)(t)&&h.push(a.get(y)));break;case"set":(0,n._N)(t)&&h.push(a.get(b));break}if(1===h.length)h[0]&&P(h[0]);else{const t=[];for(const e of h)e&&t.push(...e);P(l(t))}}function P(t,e){const r=(0,n.kJ)(t)?t:[...t];for(const n of r)n.computed&&T(n,e);for(const n of r)n.computed||T(n,e)}function T(t,e){(t!==w||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const I=(0,n.fY)("__proto__,__v_isRef,__isVue"),C=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(n.yk)),D=L(),O=L(!1,!0),B=L(!0),U=N();function N(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const r=Tt(this);for(let e=0,i=this.length;e<i;e++)A(r,"get",e+"");const n=r[e](...t);return-1===n||!1===n?r[e](...t.map(Tt)):n}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){M();const r=Tt(this)[e].apply(this,t);return E(),r}})),t}function F(t){const e=Tt(this);return A(e,"has",t),e.hasOwnProperty(t)}function L(t=!1,e=!1){return function(r,i,s){if("__v_isReactive"===i)return!t;if("__v_isReadonly"===i)return t;if("__v_isShallow"===i)return e;if("__v_raw"===i&&s===(t?e?yt:bt:e?wt:gt).get(r))return r;const o=(0,n.kJ)(r);if(!t){if(o&&(0,n.RI)(U,i))return Reflect.get(U,i,s);if("hasOwnProperty"===i)return F}const a=Reflect.get(r,i,s);return((0,n.yk)(i)?C.has(i):I(i))?a:(t||A(r,"get",i),e?a:Ut(a)?o&&(0,n.S0)(i)?a:a.value:(0,n.Kn)(a)?t?Mt(a):xt(a):a)}}const z=V(),j=V(!0);function V(t=!1){return function(e,r,i,s){let o=e[r];if(St(o)&&Ut(o)&&!Ut(i))return!1;if(!t&&(Rt(i)||St(i)||(o=Tt(o),i=Tt(i)),!(0,n.kJ)(e)&&Ut(o)&&!Ut(i)))return o.value=i,!0;const a=(0,n.kJ)(e)&&(0,n.S0)(r)?Number(r)<e.length:(0,n.RI)(e,r),l=Reflect.set(e,r,i,s);return e===Tt(s)&&(a?(0,n.aU)(i,o)&&R(e,"set",r,i,o):R(e,"add",r,i)),l}}function Y(t,e){const r=(0,n.RI)(t,e),i=t[e],s=Reflect.deleteProperty(t,e);return s&&r&&R(t,"delete",e,void 0,i),s}function X(t,e){const r=Reflect.has(t,e);return(0,n.yk)(e)&&C.has(e)||A(t,"has",e),r}function G(t){return A(t,"iterate",(0,n.kJ)(t)?"length":b),Reflect.ownKeys(t)}const q={get:D,set:z,deleteProperty:Y,has:X,ownKeys:G},$={get:B,set(t,e){return!0},deleteProperty(t,e){return!0}},H=(0,n.l7)({},q,{get:O,set:j}),Z=t=>t,W=t=>Reflect.getPrototypeOf(t);function K(t,e,r=!1,n=!1){t=t["__v_raw"];const i=Tt(t),s=Tt(e);r||(e!==s&&A(i,"get",e),A(i,"get",s));const{has:o}=W(i),a=n?Z:r?Dt:Ct;return o.call(i,e)?a(t.get(e)):o.call(i,s)?a(t.get(s)):void(t!==i&&t.get(e))}function J(t,e=!1){const r=this["__v_raw"],n=Tt(r),i=Tt(t);return e||(t!==i&&A(n,"has",t),A(n,"has",i)),t===i?r.has(t):r.has(t)||r.has(i)}function Q(t,e=!1){return t=t["__v_raw"],!e&&A(Tt(t),"iterate",b),Reflect.get(t,"size",t)}function tt(t){t=Tt(t);const e=Tt(this),r=W(e),n=r.has.call(e,t);return n||(e.add(t),R(e,"add",t,t)),this}function et(t,e){e=Tt(e);const r=Tt(this),{has:i,get:s}=W(r);let o=i.call(r,t);o||(t=Tt(t),o=i.call(r,t));const a=s.call(r,t);return r.set(t,e),o?(0,n.aU)(e,a)&&R(r,"set",t,e,a):R(r,"add",t,e),this}function rt(t){const e=Tt(this),{has:r,get:n}=W(e);let i=r.call(e,t);i||(t=Tt(t),i=r.call(e,t));const s=n?n.call(e,t):void 0,o=e.delete(t);return i&&R(e,"delete",t,void 0,s),o}function nt(){const t=Tt(this),e=0!==t.size,r=void 0,n=t.clear();return e&&R(t,"clear",void 0,void 0,r),n}function it(t,e){return function(r,n){const i=this,s=i["__v_raw"],o=Tt(s),a=e?Z:t?Dt:Ct;return!t&&A(o,"iterate",b),s.forEach(((t,e)=>r.call(n,a(t),a(e),i)))}}function st(t,e,r){return function(...i){const s=this["__v_raw"],o=Tt(s),a=(0,n._N)(o),l="entries"===t||t===Symbol.iterator&&a,h="keys"===t&&a,u=s[t](...i),c=r?Z:e?Dt:Ct;return!e&&A(o,"iterate",h?y:b),{next(){const{value:t,done:e}=u.next();return e?{value:t,done:e}:{value:l?[c(t[0]),c(t[1])]:c(t),done:e}},[Symbol.iterator](){return this}}}}function ot(t){return function(...e){return"delete"!==t&&this}}function at(){const t={get(t){return K(this,t)},get size(){return Q(this)},has:J,add:tt,set:et,delete:rt,clear:nt,forEach:it(!1,!1)},e={get(t){return K(this,t,!1,!0)},get size(){return Q(this)},has:J,add:tt,set:et,delete:rt,clear:nt,forEach:it(!1,!0)},r={get(t){return K(this,t,!0)},get size(){return Q(this,!0)},has(t){return J.call(this,t,!0)},add:ot("add"),set:ot("set"),delete:ot("delete"),clear:ot("clear"),forEach:it(!0,!1)},n={get(t){return K(this,t,!0,!0)},get size(){return Q(this,!0)},has(t){return J.call(this,t,!0)},add:ot("add"),set:ot("set"),delete:ot("delete"),clear:ot("clear"),forEach:it(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{t[i]=st(i,!1,!1),r[i]=st(i,!0,!1),e[i]=st(i,!1,!0),n[i]=st(i,!0,!0)})),[t,r,e,n]}const[lt,ht,ut,ct]=at();function ft(t,e){const r=e?t?ct:ut:t?ht:lt;return(e,i,s)=>"__v_isReactive"===i?!t:"__v_isReadonly"===i?t:"__v_raw"===i?e:Reflect.get((0,n.RI)(r,i)&&i in e?r:e,i,s)}const dt={get:ft(!1,!1)},pt={get:ft(!1,!0)},mt={get:ft(!0,!1)};const gt=new WeakMap,wt=new WeakMap,bt=new WeakMap,yt=new WeakMap;function vt(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _t(t){return t["__v_skip"]||!Object.isExtensible(t)?0:vt((0,n.W7)(t))}function xt(t){return St(t)?t:Et(t,!1,q,dt,gt)}function kt(t){return Et(t,!1,H,pt,wt)}function Mt(t){return Et(t,!0,$,mt,bt)}function Et(t,e,r,i,s){if(!(0,n.Kn)(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const o=s.get(t);if(o)return o;const a=_t(t);if(0===a)return t;const l=new Proxy(t,2===a?i:r);return s.set(t,l),l}function At(t){return St(t)?At(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function St(t){return!(!t||!t["__v_isReadonly"])}function Rt(t){return!(!t||!t["__v_isShallow"])}function Pt(t){return At(t)||St(t)}function Tt(t){const e=t&&t["__v_raw"];return e?Tt(e):t}function It(t){return(0,n.Nj)(t,"__v_skip",!0),t}const Ct=t=>(0,n.Kn)(t)?xt(t):t,Dt=t=>(0,n.Kn)(t)?Mt(t):t;function Ot(t){x&&w&&(t=Tt(t),S(t.dep||(t.dep=l())))}function Bt(t,e){t=Tt(t);const r=t.dep;r&&P(r)}function Ut(t){return!(!t||!0!==t.__v_isRef)}function Nt(t){return Ut(t)?t.value:t}const Ft={get:(t,e,r)=>Nt(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return Ut(i)&&!Ut(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function Lt(t){return At(t)?t:new Proxy(t,Ft)}class zt{constructor(t,e,r,n){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this["__v_isReadonly"]=!1,this._dirty=!0,this.effect=new v(t,(()=>{this._dirty||(this._dirty=!0,Bt(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!n,this["__v_isReadonly"]=r}get value(){const t=Tt(this);return Ot(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function jt(t,e,r=!1){let i,s;const o=(0,n.mf)(t);o?(i=t,s=n.dG):(i=t.get,s=t.set);const a=new zt(i,s,o||!s,r);return a}},3396:function(t,e,r){"use strict";r.d(e,{$d:function(){return o},Cn:function(){return U},FN:function(){return gr},HY:function(){return Be},Ko:function(){return Nt},P$:function(){return it},Q6:function(){return ut},U2:function(){return ot},Uk:function(){return ir},Us:function(){return Pe},Wm:function(){return tr},Y8:function(){return tt},_:function(){return Qe},dD:function(){return B},h:function(){return Ur},iD:function(){return qe},ic:function(){return Et},kq:function(){return or},nJ:function(){return rt},nK:function(){return ht},uE:function(){return sr},up:function(){return Dt},wg:function(){return je},wy:function(){return J}});r(7658);var n=r(4870),i=r(7139);function s(t,e,r,n){let i;try{i=n?t(...n):t()}catch(s){a(s,e,r)}return i}function o(t,e,r,n){if((0,i.mf)(t)){const o=s(t,e,r,n);return o&&(0,i.tI)(o)&&o.catch((t=>{a(t,e,r)})),o}const l=[];for(let i=0;i<t.length;i++)l.push(o(t[i],e,r,n));return l}function a(t,e,r,n=!0){const i=e?e.vnode:null;if(e){let n=e.parent;const i=e.proxy,o=r;while(n){const e=n.ec;if(e)for(let r=0;r<e.length;r++)if(!1===e[r](t,i,o))return;n=n.parent}const a=e.appContext.config.errorHandler;if(a)return void s(a,null,10,[t,i,o])}l(t,r,i,n)}function l(t,e,r,n=!0){console.error(t)}let h=!1,u=!1;const c=[];let f=0;const d=[];let p=null,m=0;const g=Promise.resolve();let w=null;function b(t){const e=w||g;return t?e.then(this?t.bind(this):t):e}function y(t){let e=f+1,r=c.length;while(e<r){const n=e+r>>>1,i=A(c[n]);i<t?e=n+1:r=n}return e}function v(t){c.length&&c.includes(t,h&&t.allowRecurse?f+1:f)||(null==t.id?c.push(t):c.splice(y(t.id),0,t),_())}function _(){h||u||(u=!0,w=g.then(R))}function x(t){const e=c.indexOf(t);e>f&&c.splice(e,1)}function k(t){(0,i.kJ)(t)?d.push(...t):p&&p.includes(t,t.allowRecurse?m+1:m)||d.push(t),_()}function M(t,e=(h?f+1:0)){for(0;e<c.length;e++){const t=c[e];t&&t.pre&&(c.splice(e,1),e--,t())}}function E(t){if(d.length){const t=[...new Set(d)];if(d.length=0,p)return void p.push(...t);for(p=t,p.sort(((t,e)=>A(t)-A(e))),m=0;m<p.length;m++)p[m]();p=null,m=0}}const A=t=>null==t.id?1/0:t.id,S=(t,e)=>{const r=A(t)-A(e);if(0===r){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function R(t){u=!1,h=!0,c.sort(S);i.dG;try{for(f=0;f<c.length;f++){const t=c[f];t&&!1!==t.active&&s(t,null,14)}}finally{f=0,c.length=0,E(t),h=!1,w=null,(c.length||d.length)&&R(t)}}function P(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||i.kT;let s=r;const a=e.startsWith("update:"),l=a&&e.slice(7);if(l&&l in n){const t=`${"modelValue"===l?"model":l}Modifiers`,{number:e,trim:o}=n[t]||i.kT;o&&(s=r.map((t=>(0,i.HD)(t)?t.trim():t))),e&&(s=r.map(i.h5))}let h;let u=n[h=(0,i.hR)(e)]||n[h=(0,i.hR)((0,i._A)(e))];!u&&a&&(u=n[h=(0,i.hR)((0,i.rs)(e))]),u&&o(u,t,6,s);const c=n[h+"Once"];if(c){if(t.emitted){if(t.emitted[h])return}else t.emitted={};t.emitted[h]=!0,o(c,t,6,s)}}function T(t,e,r=!1){const n=e.emitsCache,s=n.get(t);if(void 0!==s)return s;const o=t.emits;let a={},l=!1;if(!(0,i.mf)(t)){const n=t=>{const r=T(t,e,!0);r&&(l=!0,(0,i.l7)(a,r))};!r&&e.mixins.length&&e.mixins.forEach(n),t.extends&&n(t.extends),t.mixins&&t.mixins.forEach(n)}return o||l?((0,i.kJ)(o)?o.forEach((t=>a[t]=null)):(0,i.l7)(a,o),(0,i.Kn)(t)&&n.set(t,a),a):((0,i.Kn)(t)&&n.set(t,null),null)}function I(t,e){return!(!t||!(0,i.F7)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,i.RI)(t,e[0].toLowerCase()+e.slice(1))||(0,i.RI)(t,(0,i.rs)(e))||(0,i.RI)(t,e))}let C=null,D=null;function O(t){const e=C;return C=t,D=t&&t.type.__scopeId||null,e}function B(t){D=t}function U(){D=null}function N(t,e=C,r){if(!e)return t;if(t._n)return t;const n=(...r)=>{n._d&&Xe(-1);const i=O(e);let s;try{s=t(...r)}finally{O(i),n._d&&Xe(1)}return s};return n._n=!0,n._c=!0,n._d=!0,n}function F(t){const{type:e,vnode:r,proxy:n,withProxy:s,props:o,propsOptions:[l],slots:h,attrs:u,emit:c,render:f,renderCache:d,data:p,setupState:m,ctx:g,inheritAttrs:w}=t;let b,y;const v=O(t);try{if(4&r.shapeFlag){const t=s||n;b=ar(f.call(t,t,d,o,m,p,g)),y=u}else{const t=e;0,b=ar(t.length>1?t(o,{attrs:u,slots:h,emit:c}):t(o,null)),y=e.props?u:L(u)}}catch(x){Le.length=0,a(x,t,1),b=tr(Ne)}let _=b;if(y&&!1!==w){const t=Object.keys(y),{shapeFlag:e}=_;t.length&&7&e&&(l&&t.some(i.tR)&&(y=z(y,l)),_=nr(_,y))}return r.dirs&&(_=nr(_),_.dirs=_.dirs?_.dirs.concat(r.dirs):r.dirs),r.transition&&(_.transition=r.transition),b=_,O(v),b}const L=t=>{let e;for(const r in t)("class"===r||"style"===r||(0,i.F7)(r))&&((e||(e={}))[r]=t[r]);return e},z=(t,e)=>{const r={};for(const n in t)(0,i.tR)(n)&&n.slice(9)in e||(r[n]=t[n]);return r};function j(t,e,r){const{props:n,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,h=s.emitsOptions;if(e.dirs||e.transition)return!0;if(!(r&&l>=0))return!(!i&&!a||a&&a.$stable)||n!==o&&(n?!o||V(n,o,h):!!o);if(1024&l)return!0;if(16&l)return n?V(n,o,h):!!o;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const r=t[e];if(o[r]!==n[r]&&!I(h,r))return!0}}return!1}function V(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(e[s]!==t[s]&&!I(r,s))return!0}return!1}function Y({vnode:t,parent:e},r){while(e&&e.subTree===t)(t=e.vnode).el=r,e=e.parent}const X=t=>t.__isSuspense;function G(t,e){e&&e.pendingBranch?(0,i.kJ)(t)?e.effects.push(...t):e.effects.push(t):k(t)}const q={};function $(t,e,r){return H(t,e,r)}function H(t,e,{immediate:r,deep:a,flush:l,onTrack:h,onTrigger:u}=i.kT){var c;const f=(0,n.nZ)()===(null==(c=mr)?void 0:c.scope)?mr:null;let d,p,m=!1,g=!1;if((0,n.dq)(t)?(d=()=>t.value,m=(0,n.yT)(t)):(0,n.PG)(t)?(d=()=>t,a=!0):(0,i.kJ)(t)?(g=!0,m=t.some((t=>(0,n.PG)(t)||(0,n.yT)(t))),d=()=>t.map((t=>(0,n.dq)(t)?t.value:(0,n.PG)(t)?K(t):(0,i.mf)(t)?s(t,f,2):void 0))):d=(0,i.mf)(t)?e?()=>s(t,f,2):()=>{if(!f||!f.isUnmounted)return p&&p(),o(t,f,3,[b])}:i.dG,e&&a){const t=d;d=()=>K(t())}let w,b=t=>{p=k.onStop=()=>{s(t,f,4)}};if(Er){if(b=i.dG,e?r&&o(e,f,3,[d(),g?[]:void 0,b]):d(),"sync"!==l)return i.dG;{const t=Fr();w=t.__watcherHandles||(t.__watcherHandles=[])}}let y=g?new Array(t.length).fill(q):q;const _=()=>{if(k.active)if(e){const t=k.run();(a||m||(g?t.some(((t,e)=>(0,i.aU)(t,y[e]))):(0,i.aU)(t,y)))&&(p&&p(),o(e,f,3,[t,y===q?void 0:g&&y[0]===q?[]:y,b]),y=t)}else k.run()};let x;_.allowRecurse=!!e,"sync"===l?x=_:"post"===l?x=()=>Re(_,f&&f.suspense):(_.pre=!0,f&&(_.id=f.uid),x=()=>v(_));const k=new n.qq(d,x);e?r?_():y=k.run():"post"===l?Re(k.run.bind(k),f&&f.suspense):k.run();const M=()=>{k.stop(),f&&f.scope&&(0,i.Od)(f.scope.effects,k)};return w&&w.push(M),M}function Z(t,e,r){const n=this.proxy,s=(0,i.HD)(t)?t.includes(".")?W(n,t):()=>n[t]:t.bind(n,n);let o;(0,i.mf)(e)?o=e:(o=e.handler,r=e);const a=mr;vr(this);const l=H(s,o.bind(n),r);return a?vr(a):_r(),l}function W(t,e){const r=e.split(".");return()=>{let e=t;for(let t=0;t<r.length&&e;t++)e=e[r[t]];return e}}function K(t,e){if(!(0,i.Kn)(t)||t["__v_skip"])return t;if(e=e||new Set,e.has(t))return t;if(e.add(t),(0,n.dq)(t))K(t.value,e);else if((0,i.kJ)(t))for(let r=0;r<t.length;r++)K(t[r],e);else if((0,i.DM)(t)||(0,i._N)(t))t.forEach((t=>{K(t,e)}));else if((0,i.PO)(t))for(const r in t)K(t[r],e);return t}function J(t,e){const r=C;if(null===r)return t;const n=Cr(r)||r.proxy,s=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[t,r,a,l=i.kT]=e[o];t&&((0,i.mf)(t)&&(t={mounted:t,updated:t}),t.deep&&K(r),s.push({dir:t,instance:n,value:r,oldValue:void 0,arg:a,modifiers:l}))}return t}function Q(t,e,r,i){const s=t.dirs,a=e&&e.dirs;for(let l=0;l<s.length;l++){const h=s[l];a&&(h.oldValue=a[l].value);let u=h.dir[i];u&&((0,n.Jd)(),o(u,r,8,[t.el,h,t,e]),(0,n.lk)())}}function tt(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return kt((()=>{t.isMounted=!0})),At((()=>{t.isUnmounting=!0})),t}const et=[Function,Array],rt={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:et,onEnter:et,onAfterEnter:et,onEnterCancelled:et,onBeforeLeave:et,onLeave:et,onAfterLeave:et,onLeaveCancelled:et,onBeforeAppear:et,onAppear:et,onAfterAppear:et,onAppearCancelled:et},nt={name:"BaseTransition",props:rt,setup(t,{slots:e}){const r=gr(),i=tt();let s;return()=>{const o=e.default&&ut(e.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){let t=!1;for(const e of o)if(e.type!==Ne){0,a=e,t=!0;break}}const l=(0,n.IU)(t),{mode:h}=l;if(i.isLeaving)return at(a);const u=lt(a);if(!u)return at(a);const c=ot(u,l,i,r);ht(u,c);const f=r.subTree,d=f&&lt(f);let p=!1;const{getTransitionKey:m}=u.type;if(m){const t=m();void 0===s?s=t:t!==s&&(s=t,p=!0)}if(d&&d.type!==Ne&&(!Ze(u,d)||p)){const t=ot(d,l,i,r);if(ht(d,t),"out-in"===h)return i.isLeaving=!0,t.afterLeave=()=>{i.isLeaving=!1,!1!==r.update.active&&r.update()},at(a);"in-out"===h&&u.type!==Ne&&(t.delayLeave=(t,e,r)=>{const n=st(i,d);n[String(d.key)]=d,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=r})}return a}}},it=nt;function st(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function ot(t,e,r,n){const{appear:s,mode:a,persisted:l=!1,onBeforeEnter:h,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:p,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:w,onAppear:b,onAfterAppear:y,onAppearCancelled:v}=e,_=String(t.key),x=st(r,t),k=(t,e)=>{t&&o(t,n,9,e)},M=(t,e)=>{const r=e[1];k(t,e),(0,i.kJ)(t)?t.every((t=>t.length<=1))&&r():t.length<=1&&r()},E={mode:a,persisted:l,beforeEnter(e){let n=h;if(!r.isMounted){if(!s)return;n=w||h}e._leaveCb&&e._leaveCb(!0);const i=x[_];i&&Ze(t,i)&&i.el._leaveCb&&i.el._leaveCb(),k(n,[e])},enter(t){let e=u,n=c,i=f;if(!r.isMounted){if(!s)return;e=b||u,n=y||c,i=v||f}let o=!1;const a=t._enterCb=e=>{o||(o=!0,k(e?i:n,[t]),E.delayedLeave&&E.delayedLeave(),t._enterCb=void 0)};e?M(e,[t,a]):a()},leave(e,n){const i=String(t.key);if(e._enterCb&&e._enterCb(!0),r.isUnmounting)return n();k(d,[e]);let s=!1;const o=e._leaveCb=r=>{s||(s=!0,n(),k(r?g:m,[e]),e._leaveCb=void 0,x[i]===t&&delete x[i])};x[i]=t,p?M(p,[e,o]):o()},clone(t){return ot(t,e,r,n)}};return E}function at(t){if(ft(t))return t=nr(t),t.children=null,t}function lt(t){return ft(t)?t.children?t.children[0]:void 0:t}function ht(t,e){6&t.shapeFlag&&t.component?ht(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ut(t,e=!1,r){let n=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=null==r?o.key:String(r)+String(null!=o.key?o.key:s);o.type===Be?(128&o.patchFlag&&i++,n=n.concat(ut(o.children,e,a))):(e||o.type!==Ne)&&n.push(null!=a?nr(o,{key:a}):o)}if(i>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}const ct=t=>!!t.type.__asyncLoader;const ft=t=>t.type.__isKeepAlive;RegExp,RegExp;function dt(t,e){return(0,i.kJ)(t)?t.some((t=>dt(t,e))):(0,i.HD)(t)?t.split(",").includes(e):!!(0,i.Kj)(t)&&t.test(e)}function pt(t,e){gt(t,"a",e)}function mt(t,e){gt(t,"da",e)}function gt(t,e,r=mr){const n=t.__wdc||(t.__wdc=()=>{let e=r;while(e){if(e.isDeactivated)return;e=e.parent}return t()});if(vt(e,n,r),r){let t=r.parent;while(t&&t.parent)ft(t.parent.vnode)&&wt(n,e,r,t),t=t.parent}}function wt(t,e,r,n){const s=vt(e,t,n,!0);St((()=>{(0,i.Od)(n[e],s)}),r)}function bt(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function yt(t){return 128&t.shapeFlag?t.ssContent:t}function vt(t,e,r=mr,i=!1){if(r){const s=r[t]||(r[t]=[]),a=e.__weh||(e.__weh=(...i)=>{if(r.isUnmounted)return;(0,n.Jd)(),vr(r);const s=o(e,r,t,i);return _r(),(0,n.lk)(),s});return i?s.unshift(a):s.push(a),a}}const _t=t=>(e,r=mr)=>(!Er||"sp"===t)&&vt(t,((...t)=>e(...t)),r),xt=_t("bm"),kt=_t("m"),Mt=_t("bu"),Et=_t("u"),At=_t("bum"),St=_t("um"),Rt=_t("sp"),Pt=_t("rtg"),Tt=_t("rtc");function It(t,e=mr){vt("ec",t,e)}const Ct="components";function Dt(t,e){return Bt(Ct,t,!0,e)||t}const Ot=Symbol.for("v-ndc");function Bt(t,e,r=!0,n=!1){const s=C||mr;if(s){const r=s.type;if(t===Ct){const t=Dr(r,!1);if(t&&(t===e||t===(0,i._A)(e)||t===(0,i.kC)((0,i._A)(e))))return r}const o=Ut(s[t]||r[t],e)||Ut(s.appContext[t],e);return!o&&n?r:o}}function Ut(t,e){return t&&(t[e]||t[(0,i._A)(e)]||t[(0,i.kC)((0,i._A)(e))])}function Nt(t,e,r,n){let s;const o=r&&r[n];if((0,i.kJ)(t)||(0,i.HD)(t)){s=new Array(t.length);for(let r=0,n=t.length;r<n;r++)s[r]=e(t[r],r,void 0,o&&o[r])}else if("number"===typeof t){0,s=new Array(t);for(let r=0;r<t;r++)s[r]=e(r+1,r,void 0,o&&o[r])}else if((0,i.Kn)(t))if(t[Symbol.iterator])s=Array.from(t,((t,r)=>e(t,r,void 0,o&&o[r])));else{const r=Object.keys(t);s=new Array(r.length);for(let n=0,i=r.length;n<i;n++){const i=r[n];s[n]=e(t[i],i,n,o&&o[n])}}else s=[];return r&&(r[n]=s),s}const Ft=t=>t?xr(t)?Cr(t)||t.proxy:Ft(t.parent):null,Lt=(0,i.l7)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ft(t.parent),$root:t=>Ft(t.root),$emit:t=>t.emit,$options:t=>Ht(t),$forceUpdate:t=>t.f||(t.f=()=>v(t.update)),$nextTick:t=>t.n||(t.n=b.bind(t.proxy)),$watch:t=>Z.bind(t)}),zt=(t,e)=>t!==i.kT&&!t.__isScriptSetup&&(0,i.RI)(t,e),jt={get({_:t},e){const{ctx:r,setupState:s,data:o,props:a,accessCache:l,type:h,appContext:u}=t;let c;if("$"!==e[0]){const n=l[e];if(void 0!==n)switch(n){case 1:return s[e];case 2:return o[e];case 4:return r[e];case 3:return a[e]}else{if(zt(s,e))return l[e]=1,s[e];if(o!==i.kT&&(0,i.RI)(o,e))return l[e]=2,o[e];if((c=t.propsOptions[0])&&(0,i.RI)(c,e))return l[e]=3,a[e];if(r!==i.kT&&(0,i.RI)(r,e))return l[e]=4,r[e];Yt&&(l[e]=0)}}const f=Lt[e];let d,p;return f?("$attrs"===e&&(0,n.j)(t,"get",e),f(t)):(d=h.__cssModules)&&(d=d[e])?d:r!==i.kT&&(0,i.RI)(r,e)?(l[e]=4,r[e]):(p=u.config.globalProperties,(0,i.RI)(p,e)?p[e]:void 0)},set({_:t},e,r){const{data:n,setupState:s,ctx:o}=t;return zt(s,e)?(s[e]=r,!0):n!==i.kT&&(0,i.RI)(n,e)?(n[e]=r,!0):!(0,i.RI)(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=r,!0))},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:s,propsOptions:o}},a){let l;return!!r[a]||t!==i.kT&&(0,i.RI)(t,a)||zt(e,a)||(l=o[0])&&(0,i.RI)(l,a)||(0,i.RI)(n,a)||(0,i.RI)(Lt,a)||(0,i.RI)(s.config.globalProperties,a)},defineProperty(t,e,r){return null!=r.get?t._.accessCache[e]=0:(0,i.RI)(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Vt(t){return(0,i.kJ)(t)?t.reduce(((t,e)=>(t[e]=null,t)),{}):t}let Yt=!0;function Xt(t){const e=Ht(t),r=t.proxy,s=t.ctx;Yt=!1,e.beforeCreate&&qt(e.beforeCreate,t,"bc");const{data:o,computed:a,methods:l,watch:h,provide:u,inject:c,created:f,beforeMount:d,mounted:p,beforeUpdate:m,updated:g,activated:w,deactivated:b,beforeDestroy:y,beforeUnmount:v,destroyed:_,unmounted:x,render:k,renderTracked:M,renderTriggered:E,errorCaptured:A,serverPrefetch:S,expose:R,inheritAttrs:P,components:T,directives:I,filters:C}=e,D=null;if(c&&Gt(c,s,D),l)for(const n in l){const t=l[n];(0,i.mf)(t)&&(s[n]=t.bind(r))}if(o){0;const e=o.call(r,r);0,(0,i.Kn)(e)&&(t.data=(0,n.qj)(e))}if(Yt=!0,a)for(const n in a){const t=a[n],e=(0,i.mf)(t)?t.bind(r,r):(0,i.mf)(t.get)?t.get.bind(r,r):i.dG;0;const o=!(0,i.mf)(t)&&(0,i.mf)(t.set)?t.set.bind(r):i.dG,l=Br({get:e,set:o});Object.defineProperty(s,n,{enumerable:!0,configurable:!0,get:()=>l.value,set:t=>l.value=t})}if(h)for(const n in h)$t(h[n],s,r,n);if(u){const t=(0,i.mf)(u)?u.call(r):u;Reflect.ownKeys(t).forEach((e=>{le(e,t[e])}))}function O(t,e){(0,i.kJ)(e)?e.forEach((e=>t(e.bind(r)))):e&&t(e.bind(r))}if(f&&qt(f,t,"c"),O(xt,d),O(kt,p),O(Mt,m),O(Et,g),O(pt,w),O(mt,b),O(It,A),O(Tt,M),O(Pt,E),O(At,v),O(St,x),O(Rt,S),(0,i.kJ)(R))if(R.length){const e=t.exposed||(t.exposed={});R.forEach((t=>{Object.defineProperty(e,t,{get:()=>r[t],set:e=>r[t]=e})}))}else t.exposed||(t.exposed={});k&&t.render===i.dG&&(t.render=k),null!=P&&(t.inheritAttrs=P),T&&(t.components=T),I&&(t.directives=I)}function Gt(t,e,r=i.dG){(0,i.kJ)(t)&&(t=Qt(t));for(const s in t){const r=t[s];let o;o=(0,i.Kn)(r)?"default"in r?he(r.from||s,r.default,!0):he(r.from||s):he(r),(0,n.dq)(o)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:t=>o.value=t}):e[s]=o}}function qt(t,e,r){o((0,i.kJ)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,r)}function $t(t,e,r,n){const s=n.includes(".")?W(r,n):()=>r[n];if((0,i.HD)(t)){const r=e[t];(0,i.mf)(r)&&$(s,r)}else if((0,i.mf)(t))$(s,t.bind(r));else if((0,i.Kn)(t))if((0,i.kJ)(t))t.forEach((t=>$t(t,e,r,n)));else{const n=(0,i.mf)(t.handler)?t.handler.bind(r):e[t.handler];(0,i.mf)(n)&&$(s,n,t)}else 0}function Ht(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:a}}=t.appContext,l=o.get(e);let h;return l?h=l:s.length||r||n?(h={},s.length&&s.forEach((t=>Zt(h,t,a,!0))),Zt(h,e,a)):h=e,(0,i.Kn)(e)&&o.set(e,h),h}function Zt(t,e,r,n=!1){const{mixins:i,extends:s}=e;s&&Zt(t,s,r,!0),i&&i.forEach((e=>Zt(t,e,r,!0)));for(const o in e)if(n&&"expose"===o);else{const n=Wt[o]||r&&r[o];t[o]=n?n(t[o],e[o]):e[o]}return t}const Wt={data:Kt,props:re,emits:re,methods:ee,computed:ee,beforeCreate:te,created:te,beforeMount:te,mounted:te,beforeUpdate:te,updated:te,beforeDestroy:te,beforeUnmount:te,destroyed:te,unmounted:te,activated:te,deactivated:te,errorCaptured:te,serverPrefetch:te,components:ee,directives:ee,watch:ne,provide:Kt,inject:Jt};function Kt(t,e){return e?t?function(){return(0,i.l7)((0,i.mf)(t)?t.call(this,this):t,(0,i.mf)(e)?e.call(this,this):e)}:e:t}function Jt(t,e){return ee(Qt(t),Qt(e))}function Qt(t){if((0,i.kJ)(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function te(t,e){return t?[...new Set([].concat(t,e))]:e}function ee(t,e){return t?(0,i.l7)(Object.create(null),t,e):e}function re(t,e){return t?(0,i.kJ)(t)&&(0,i.kJ)(e)?[...new Set([...t,...e])]:(0,i.l7)(Object.create(null),Vt(t),Vt(null!=e?e:{})):e}function ne(t,e){if(!t)return e;if(!e)return t;const r=(0,i.l7)(Object.create(null),t);for(const n in e)r[n]=te(t[n],e[n]);return r}function ie(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let se=0;function oe(t,e){return function(r,n=null){(0,i.mf)(r)||(r=(0,i.l7)({},r)),null==n||(0,i.Kn)(n)||(n=null);const s=ie();const o=new Set;let a=!1;const l=s.app={_uid:se++,_component:r,_props:n,_container:null,_context:s,_instance:null,version:Lr,get config(){return s.config},set config(t){0},use(t,...e){return o.has(t)||(t&&(0,i.mf)(t.install)?(o.add(t),t.install(l,...e)):(0,i.mf)(t)&&(o.add(t),t(l,...e))),l},mixin(t){return s.mixins.includes(t)||s.mixins.push(t),l},component(t,e){return e?(s.components[t]=e,l):s.components[t]},directive(t,e){return e?(s.directives[t]=e,l):s.directives[t]},mount(i,o,h){if(!a){0;const u=tr(r,n);return u.appContext=s,o&&e?e(u,i):t(u,i,h),a=!0,l._container=i,i.__vue_app__=l,Cr(u.component)||u.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(t,e){return s.provides[t]=e,l},runWithContext(t){ae=l;try{return t()}finally{ae=null}}};return l}}let ae=null;function le(t,e){if(mr){let r=mr.provides;const n=mr.parent&&mr.parent.provides;n===r&&(r=mr.provides=Object.create(n)),r[t]=e}else 0}function he(t,e,r=!1){const n=mr||C;if(n||ae){const s=n?null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:ae._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return r&&(0,i.mf)(e)?e.call(n&&n.proxy):e}else 0}function ue(t,e,r,s=!1){const o={},a={};(0,i.Nj)(a,We,1),t.propsDefaults=Object.create(null),fe(t,e,o,a);for(const n in t.propsOptions[0])n in o||(o[n]=void 0);r?t.props=s?o:(0,n.Um)(o):t.type.props?t.props=o:t.props=a,t.attrs=a}function ce(t,e,r,s){const{props:o,attrs:a,vnode:{patchFlag:l}}=t,h=(0,n.IU)(o),[u]=t.propsOptions;let c=!1;if(!(s||l>0)||16&l){let n;fe(t,e,o,a)&&(c=!0);for(const s in h)e&&((0,i.RI)(e,s)||(n=(0,i.rs)(s))!==s&&(0,i.RI)(e,n))||(u?!r||void 0===r[s]&&void 0===r[n]||(o[s]=de(u,h,s,void 0,t,!0)):delete o[s]);if(a!==h)for(const t in a)e&&(0,i.RI)(e,t)||(delete a[t],c=!0)}else if(8&l){const r=t.vnode.dynamicProps;for(let n=0;n<r.length;n++){let s=r[n];if(I(t.emitsOptions,s))continue;const l=e[s];if(u)if((0,i.RI)(a,s))l!==a[s]&&(a[s]=l,c=!0);else{const e=(0,i._A)(s);o[e]=de(u,h,e,l,t,!1)}else l!==a[s]&&(a[s]=l,c=!0)}}c&&(0,n.X$)(t,"set","$attrs")}function fe(t,e,r,s){const[o,a]=t.propsOptions;let l,h=!1;if(e)for(let n in e){if((0,i.Gg)(n))continue;const u=e[n];let c;o&&(0,i.RI)(o,c=(0,i._A)(n))?a&&a.includes(c)?(l||(l={}))[c]=u:r[c]=u:I(t.emitsOptions,n)||n in s&&u===s[n]||(s[n]=u,h=!0)}if(a){const e=(0,n.IU)(r),s=l||i.kT;for(let n=0;n<a.length;n++){const l=a[n];r[l]=de(o,e,l,s[l],t,!(0,i.RI)(s,l))}}return h}function de(t,e,r,n,s,o){const a=t[r];if(null!=a){const t=(0,i.RI)(a,"default");if(t&&void 0===n){const t=a.default;if(a.type!==Function&&!a.skipFactory&&(0,i.mf)(t)){const{propsDefaults:i}=s;r in i?n=i[r]:(vr(s),n=i[r]=t.call(null,e),_r())}else n=t}a[0]&&(o&&!t?n=!1:!a[1]||""!==n&&n!==(0,i.rs)(r)||(n=!0))}return n}function pe(t,e,r=!1){const n=e.propsCache,s=n.get(t);if(s)return s;const o=t.props,a={},l=[];let h=!1;if(!(0,i.mf)(t)){const n=t=>{h=!0;const[r,n]=pe(t,e,!0);(0,i.l7)(a,r),n&&l.push(...n)};!r&&e.mixins.length&&e.mixins.forEach(n),t.extends&&n(t.extends),t.mixins&&t.mixins.forEach(n)}if(!o&&!h)return(0,i.Kn)(t)&&n.set(t,i.Z6),i.Z6;if((0,i.kJ)(o))for(let c=0;c<o.length;c++){0;const t=(0,i._A)(o[c]);me(t)&&(a[t]=i.kT)}else if(o){0;for(const t in o){const e=(0,i._A)(t);if(me(e)){const r=o[t],n=a[e]=(0,i.kJ)(r)||(0,i.mf)(r)?{type:r}:(0,i.l7)({},r);if(n){const t=be(Boolean,n.type),r=be(String,n.type);n[0]=t>-1,n[1]=r<0||t<r,(t>-1||(0,i.RI)(n,"default"))&&l.push(e)}}}}const u=[a,l];return(0,i.Kn)(t)&&n.set(t,u),u}function me(t){return"$"!==t[0]}function ge(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:null===t?"null":""}function we(t,e){return ge(t)===ge(e)}function be(t,e){return(0,i.kJ)(e)?e.findIndex((e=>we(e,t))):(0,i.mf)(e)&&we(e,t)?0:-1}const ye=t=>"_"===t[0]||"$stable"===t,ve=t=>(0,i.kJ)(t)?t.map(ar):[ar(t)],_e=(t,e,r)=>{if(e._n)return e;const n=N(((...t)=>ve(e(...t))),r);return n._c=!1,n},xe=(t,e,r)=>{const n=t._ctx;for(const s in t){if(ye(s))continue;const r=t[s];if((0,i.mf)(r))e[s]=_e(s,r,n);else if(null!=r){0;const t=ve(r);e[s]=()=>t}}},ke=(t,e)=>{const r=ve(e);t.slots.default=()=>r},Me=(t,e)=>{if(32&t.vnode.shapeFlag){const r=e._;r?(t.slots=(0,n.IU)(e),(0,i.Nj)(e,"_",r)):xe(e,t.slots={})}else t.slots={},e&&ke(t,e);(0,i.Nj)(t.slots,We,1)},Ee=(t,e,r)=>{const{vnode:n,slots:s}=t;let o=!0,a=i.kT;if(32&n.shapeFlag){const t=e._;t?r&&1===t?o=!1:((0,i.l7)(s,e),r||1!==t||delete s._):(o=!e.$stable,xe(e,s)),a=e}else e&&(ke(t,e),a={default:1});if(o)for(const i in s)ye(i)||i in a||delete s[i]};function Ae(t,e,r,o,a=!1){if((0,i.kJ)(t))return void t.forEach(((t,n)=>Ae(t,e&&((0,i.kJ)(e)?e[n]:e),r,o,a)));if(ct(o)&&!a)return;const l=4&o.shapeFlag?Cr(o.component)||o.component.proxy:o.el,h=a?null:l,{i:u,r:c}=t;const f=e&&e.r,d=u.refs===i.kT?u.refs={}:u.refs,p=u.setupState;if(null!=f&&f!==c&&((0,i.HD)(f)?(d[f]=null,(0,i.RI)(p,f)&&(p[f]=null)):(0,n.dq)(f)&&(f.value=null)),(0,i.mf)(c))s(c,u,12,[h,d]);else{const e=(0,i.HD)(c),s=(0,n.dq)(c);if(e||s){const n=()=>{if(t.f){const r=e?(0,i.RI)(p,c)?p[c]:d[c]:c.value;a?(0,i.kJ)(r)&&(0,i.Od)(r,l):(0,i.kJ)(r)?r.includes(l)||r.push(l):e?(d[c]=[l],(0,i.RI)(p,c)&&(p[c]=d[c])):(c.value=[l],t.k&&(d[t.k]=c.value))}else e?(d[c]=h,(0,i.RI)(p,c)&&(p[c]=h)):s&&(c.value=h,t.k&&(d[t.k]=h))};h?(n.id=-1,Re(n,r)):n()}else 0}}function Se(){}const Re=G;function Pe(t){return Te(t)}function Te(t,e){Se();const r=(0,i.E9)();r.__VUE__=!0;const{insert:s,remove:o,patchProp:a,createElement:l,createText:h,createComment:u,setText:c,setElementText:f,parentNode:d,nextSibling:p,setScopeId:m=i.dG,insertStaticContent:g}=t,w=(t,e,r,n=null,i=null,s=null,o=!1,a=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!Ze(t,e)&&(n=J(t),$(t,i,s,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:h,ref:u,shapeFlag:c}=e;switch(h){case Ue:b(t,e,r,n);break;case Ne:y(t,e,r,n);break;case Fe:null==t&&_(e,r,n,o);break;case Be:O(t,e,r,n,i,s,o,a,l);break;default:1&c?S(t,e,r,n,i,s,o,a,l):6&c?B(t,e,r,n,i,s,o,a,l):(64&c||128&c)&&h.process(t,e,r,n,i,s,o,a,l,et)}null!=u&&i&&Ae(u,t&&t.ref,s,e||t,!e)},b=(t,e,r,n)=>{if(null==t)s(e.el=h(e.children),r,n);else{const r=e.el=t.el;e.children!==t.children&&c(r,e.children)}},y=(t,e,r,n)=>{null==t?s(e.el=u(e.children||""),r,n):e.el=t.el},_=(t,e,r,n)=>{[t.el,t.anchor]=g(t.children,e,r,n,t.el,t.anchor)},k=({el:t,anchor:e},r,n)=>{let i;while(t&&t!==e)i=p(t),s(t,r,n),t=i;s(e,r,n)},A=({el:t,anchor:e})=>{let r;while(t&&t!==e)r=p(t),o(t),t=r;o(e)},S=(t,e,r,n,i,s,o,a,l)=>{o=o||"svg"===e.type,null==t?R(e,r,n,i,s,o,a,l):I(t,e,i,s,o,a,l)},R=(t,e,r,n,o,h,u,c)=>{let d,p;const{type:m,props:g,shapeFlag:w,transition:b,dirs:y}=t;if(d=t.el=l(t.type,h,g&&g.is,g),8&w?f(d,t.children):16&w&&T(t.children,d,null,n,o,h&&"foreignObject"!==m,u,c),y&&Q(t,null,n,"created"),P(d,t,t.scopeId,u,n),g){for(const e in g)"value"===e||(0,i.Gg)(e)||a(d,e,null,g[e],h,t.children,n,o,K);"value"in g&&a(d,"value",null,g.value),(p=g.onVnodeBeforeMount)&&cr(p,n,t)}y&&Q(t,null,n,"beforeMount");const v=(!o||o&&!o.pendingBranch)&&b&&!b.persisted;v&&b.beforeEnter(d),s(d,e,r),((p=g&&g.onVnodeMounted)||v||y)&&Re((()=>{p&&cr(p,n,t),v&&b.enter(d),y&&Q(t,null,n,"mounted")}),o)},P=(t,e,r,n,i)=>{if(r&&m(t,r),n)for(let s=0;s<n.length;s++)m(t,n[s]);if(i){let r=i.subTree;if(e===r){const e=i.vnode;P(t,e,e.scopeId,e.slotScopeIds,i.parent)}}},T=(t,e,r,n,i,s,o,a,l=0)=>{for(let h=l;h<t.length;h++){const l=t[h]=a?lr(t[h]):ar(t[h]);w(null,l,e,r,n,i,s,o,a)}},I=(t,e,r,n,s,o,l)=>{const h=e.el=t.el;let{patchFlag:u,dynamicChildren:c,dirs:d}=e;u|=16&t.patchFlag;const p=t.props||i.kT,m=e.props||i.kT;let g;r&&Ie(r,!1),(g=m.onVnodeBeforeUpdate)&&cr(g,r,e,t),d&&Q(e,t,r,"beforeUpdate"),r&&Ie(r,!0);const w=s&&"foreignObject"!==e.type;if(c?C(t.dynamicChildren,c,h,r,n,w,o):l||V(t,e,h,null,r,n,w,o,!1),u>0){if(16&u)D(h,e,p,m,r,n,s);else if(2&u&&p.class!==m.class&&a(h,"class",null,m.class,s),4&u&&a(h,"style",p.style,m.style,s),8&u){const i=e.dynamicProps;for(let e=0;e<i.length;e++){const o=i[e],l=p[o],u=m[o];u===l&&"value"!==o||a(h,o,l,u,s,t.children,r,n,K)}}1&u&&t.children!==e.children&&f(h,e.children)}else l||null!=c||D(h,e,p,m,r,n,s);((g=m.onVnodeUpdated)||d)&&Re((()=>{g&&cr(g,r,e,t),d&&Q(e,t,r,"updated")}),n)},C=(t,e,r,n,i,s,o)=>{for(let a=0;a<e.length;a++){const l=t[a],h=e[a],u=l.el&&(l.type===Be||!Ze(l,h)||70&l.shapeFlag)?d(l.el):r;w(l,h,u,null,n,i,s,o,!0)}},D=(t,e,r,n,s,o,l)=>{if(r!==n){if(r!==i.kT)for(const h in r)(0,i.Gg)(h)||h in n||a(t,h,r[h],null,l,e.children,s,o,K);for(const h in n){if((0,i.Gg)(h))continue;const u=n[h],c=r[h];u!==c&&"value"!==h&&a(t,h,c,u,l,e.children,s,o,K)}"value"in n&&a(t,"value",r.value,n.value)}},O=(t,e,r,n,i,o,a,l,u)=>{const c=e.el=t?t.el:h(""),f=e.anchor=t?t.anchor:h("");let{patchFlag:d,dynamicChildren:p,slotScopeIds:m}=e;m&&(l=l?l.concat(m):m),null==t?(s(c,r,n),s(f,r,n),T(e.children,r,f,i,o,a,l,u)):d>0&&64&d&&p&&t.dynamicChildren?(C(t.dynamicChildren,p,r,i,o,a,l),(null!=e.key||i&&e===i.subTree)&&Ce(t,e,!0)):V(t,e,r,f,i,o,a,l,u)},B=(t,e,r,n,i,s,o,a,l)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?i.ctx.activate(e,r,n,o,l):U(e,r,n,i,s,o,l):N(t,e,l)},U=(t,e,r,n,i,s,o)=>{const a=t.component=pr(t,n,i);if(ft(t)&&(a.ctx.renderer=et),Ar(a),a.asyncDep){if(i&&i.registerDep(a,L),!t.el){const t=a.subTree=tr(Ne);y(null,t,e,r)}}else L(a,t,e,r,i,s,o)},N=(t,e,r)=>{const n=e.component=t.component;if(j(t,e,r)){if(n.asyncDep&&!n.asyncResolved)return void z(n,e,r);n.next=e,x(n.update),n.update()}else e.el=t.el,n.vnode=e},L=(t,e,r,s,o,a,l)=>{const h=()=>{if(t.isMounted){let e,{next:r,bu:n,u:s,parent:h,vnode:u}=t,c=r;0,Ie(t,!1),r?(r.el=u.el,z(t,r,l)):r=u,n&&(0,i.ir)(n),(e=r.props&&r.props.onVnodeBeforeUpdate)&&cr(e,h,r,u),Ie(t,!0);const f=F(t);0;const p=t.subTree;t.subTree=f,w(p,f,d(p.el),J(p),t,o,a),r.el=f.el,null===c&&Y(t,f.el),s&&Re(s,o),(e=r.props&&r.props.onVnodeUpdated)&&Re((()=>cr(e,h,r,u)),o)}else{let n;const{el:l,props:h}=e,{bm:u,m:c,parent:f}=t,d=ct(e);if(Ie(t,!1),u&&(0,i.ir)(u),!d&&(n=h&&h.onVnodeBeforeMount)&&cr(n,f,e),Ie(t,!0),l&&nt){const r=()=>{t.subTree=F(t),nt(l,t.subTree,t,o,null)};d?e.type.__asyncLoader().then((()=>!t.isUnmounted&&r())):r()}else{0;const n=t.subTree=F(t);0,w(null,n,r,s,t,o,a),e.el=n.el}if(c&&Re(c,o),!d&&(n=h&&h.onVnodeMounted)){const t=e;Re((()=>cr(n,f,t)),o)}(256&e.shapeFlag||f&&ct(f.vnode)&&256&f.vnode.shapeFlag)&&t.a&&Re(t.a,o),t.isMounted=!0,e=r=s=null}},u=t.effect=new n.qq(h,(()=>v(c)),t.scope),c=t.update=()=>u.run();c.id=t.uid,Ie(t,!0),c()},z=(t,e,r)=>{e.component=t;const i=t.vnode.props;t.vnode=e,t.next=null,ce(t,e.props,i,r),Ee(t,e.children,r),(0,n.Jd)(),M(),(0,n.lk)()},V=(t,e,r,n,i,s,o,a,l=!1)=>{const h=t&&t.children,u=t?t.shapeFlag:0,c=e.children,{patchFlag:d,shapeFlag:p}=e;if(d>0){if(128&d)return void G(h,c,r,n,i,s,o,a,l);if(256&d)return void X(h,c,r,n,i,s,o,a,l)}8&p?(16&u&&K(h,i,s),c!==h&&f(r,c)):16&u?16&p?G(h,c,r,n,i,s,o,a,l):K(h,i,s,!0):(8&u&&f(r,""),16&p&&T(c,r,n,i,s,o,a,l))},X=(t,e,r,n,s,o,a,l,h)=>{t=t||i.Z6,e=e||i.Z6;const u=t.length,c=e.length,f=Math.min(u,c);let d;for(d=0;d<f;d++){const n=e[d]=h?lr(e[d]):ar(e[d]);w(t[d],n,r,null,s,o,a,l,h)}u>c?K(t,s,o,!0,!1,f):T(e,r,n,s,o,a,l,h,f)},G=(t,e,r,n,s,o,a,l,h)=>{let u=0;const c=e.length;let f=t.length-1,d=c-1;while(u<=f&&u<=d){const n=t[u],i=e[u]=h?lr(e[u]):ar(e[u]);if(!Ze(n,i))break;w(n,i,r,null,s,o,a,l,h),u++}while(u<=f&&u<=d){const n=t[f],i=e[d]=h?lr(e[d]):ar(e[d]);if(!Ze(n,i))break;w(n,i,r,null,s,o,a,l,h),f--,d--}if(u>f){if(u<=d){const t=d+1,i=t<c?e[t].el:n;while(u<=d)w(null,e[u]=h?lr(e[u]):ar(e[u]),r,i,s,o,a,l,h),u++}}else if(u>d)while(u<=f)$(t[u],s,o,!0),u++;else{const p=u,m=u,g=new Map;for(u=m;u<=d;u++){const t=e[u]=h?lr(e[u]):ar(e[u]);null!=t.key&&g.set(t.key,u)}let b,y=0;const v=d-m+1;let _=!1,x=0;const k=new Array(v);for(u=0;u<v;u++)k[u]=0;for(u=p;u<=f;u++){const n=t[u];if(y>=v){$(n,s,o,!0);continue}let i;if(null!=n.key)i=g.get(n.key);else for(b=m;b<=d;b++)if(0===k[b-m]&&Ze(n,e[b])){i=b;break}void 0===i?$(n,s,o,!0):(k[i-m]=u+1,i>=x?x=i:_=!0,w(n,e[i],r,null,s,o,a,l,h),y++)}const M=_?De(k):i.Z6;for(b=M.length-1,u=v-1;u>=0;u--){const t=m+u,i=e[t],f=t+1<c?e[t+1].el:n;0===k[u]?w(null,i,r,f,s,o,a,l,h):_&&(b<0||u!==M[b]?q(i,r,f,2):b--)}}},q=(t,e,r,n,i=null)=>{const{el:o,type:a,transition:l,children:h,shapeFlag:u}=t;if(6&u)return void q(t.component.subTree,e,r,n);if(128&u)return void t.suspense.move(e,r,n);if(64&u)return void a.move(t,e,r,et);if(a===Be){s(o,e,r);for(let t=0;t<h.length;t++)q(h[t],e,r,n);return void s(t.anchor,e,r)}if(a===Fe)return void k(t,e,r);const c=2!==n&&1&u&&l;if(c)if(0===n)l.beforeEnter(o),s(o,e,r),Re((()=>l.enter(o)),i);else{const{leave:t,delayLeave:n,afterLeave:i}=l,a=()=>s(o,e,r),h=()=>{t(o,(()=>{a(),i&&i()}))};n?n(o,a,h):h()}else s(o,e,r)},$=(t,e,r,n=!1,i=!1)=>{const{type:s,props:o,ref:a,children:l,dynamicChildren:h,shapeFlag:u,patchFlag:c,dirs:f}=t;if(null!=a&&Ae(a,null,r,t,!0),256&u)return void e.ctx.deactivate(t);const d=1&u&&f,p=!ct(t);let m;if(p&&(m=o&&o.onVnodeBeforeUnmount)&&cr(m,e,t),6&u)W(t.component,r,n);else{if(128&u)return void t.suspense.unmount(r,n);d&&Q(t,null,e,"beforeUnmount"),64&u?t.type.remove(t,e,r,i,et,n):h&&(s!==Be||c>0&&64&c)?K(h,e,r,!1,!0):(s===Be&&384&c||!i&&16&u)&&K(l,e,r),n&&H(t)}(p&&(m=o&&o.onVnodeUnmounted)||d)&&Re((()=>{m&&cr(m,e,t),d&&Q(t,null,e,"unmounted")}),r)},H=t=>{const{type:e,el:r,anchor:n,transition:i}=t;if(e===Be)return void Z(r,n);if(e===Fe)return void A(t);const s=()=>{o(r),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&t.shapeFlag&&i&&!i.persisted){const{leave:e,delayLeave:n}=i,o=()=>e(r,s);n?n(t.el,s,o):o()}else s()},Z=(t,e)=>{let r;while(t!==e)r=p(t),o(t),t=r;o(e)},W=(t,e,r)=>{const{bum:n,scope:s,update:o,subTree:a,um:l}=t;n&&(0,i.ir)(n),s.stop(),o&&(o.active=!1,$(a,t,e,r)),l&&Re(l,e),Re((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},K=(t,e,r,n=!1,i=!1,s=0)=>{for(let o=s;o<t.length;o++)$(t[o],e,r,n,i)},J=t=>6&t.shapeFlag?J(t.component.subTree):128&t.shapeFlag?t.suspense.next():p(t.anchor||t.el),tt=(t,e,r)=>{null==t?e._vnode&&$(e._vnode,null,null,!0):w(e._vnode||null,t,e,null,null,null,r),M(),E(),e._vnode=t},et={p:w,um:$,m:q,r:H,mt:U,mc:T,pc:V,pbc:C,n:J,o:t};let rt,nt;return e&&([rt,nt]=e(et)),{render:tt,hydrate:rt,createApp:oe(tt,rt)}}function Ie({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function Ce(t,e,r=!1){const n=t.children,s=e.children;if((0,i.kJ)(n)&&(0,i.kJ)(s))for(let i=0;i<n.length;i++){const t=n[i];let e=s[i];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=s[i]=lr(s[i]),e.el=t.el),r||Ce(t,e)),e.type===Ue&&(e.el=t.el)}}function De(t){const e=t.slice(),r=[0];let n,i,s,o,a;const l=t.length;for(n=0;n<l;n++){const l=t[n];if(0!==l){if(i=r[r.length-1],t[i]<l){e[n]=i,r.push(n);continue}s=0,o=r.length-1;while(s<o)a=s+o>>1,t[r[a]]<l?s=a+1:o=a;l<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}s=r.length,o=r[s-1];while(s-- >0)r[s]=o,o=e[o];return r}const Oe=t=>t.__isTeleport;const Be=Symbol.for("v-fgt"),Ue=Symbol.for("v-txt"),Ne=Symbol.for("v-cmt"),Fe=Symbol.for("v-stc"),Le=[];let ze=null;function je(t=!1){Le.push(ze=t?null:[])}function Ve(){Le.pop(),ze=Le[Le.length-1]||null}let Ye=1;function Xe(t){Ye+=t}function Ge(t){return t.dynamicChildren=Ye>0?ze||i.Z6:null,Ve(),Ye>0&&ze&&ze.push(t),t}function qe(t,e,r,n,i,s){return Ge(Qe(t,e,r,n,i,s,!0))}function $e(t,e,r,n,i){return Ge(tr(t,e,r,n,i,!0))}function He(t){return!!t&&!0===t.__v_isVNode}function Ze(t,e){return t.type===e.type&&t.key===e.key}const We="__vInternal",Ke=({key:t})=>null!=t?t:null,Je=({ref:t,ref_key:e,ref_for:r})=>("number"===typeof t&&(t=""+t),null!=t?(0,i.HD)(t)||(0,n.dq)(t)||(0,i.mf)(t)?{i:C,r:t,k:e,f:!!r}:t:null);function Qe(t,e=null,r=null,n=0,s=null,o=(t===Be?0:1),a=!1,l=!1){const h={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ke(e),ref:e&&Je(e),scopeId:D,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:C};return l?(hr(h,r),128&o&&t.normalize(h)):r&&(h.shapeFlag|=(0,i.HD)(r)?8:16),Ye>0&&!a&&ze&&(h.patchFlag>0||6&o)&&32!==h.patchFlag&&ze.push(h),h}const tr=er;function er(t,e=null,r=null,s=0,o=null,a=!1){if(t&&t!==Ot||(t=Ne),He(t)){const n=nr(t,e,!0);return r&&hr(n,r),Ye>0&&!a&&ze&&(6&n.shapeFlag?ze[ze.indexOf(t)]=n:ze.push(n)),n.patchFlag|=-2,n}if(Or(t)&&(t=t.__vccOpts),e){e=rr(e);let{class:t,style:r}=e;t&&!(0,i.HD)(t)&&(e.class=(0,i.C_)(t)),(0,i.Kn)(r)&&((0,n.X3)(r)&&!(0,i.kJ)(r)&&(r=(0,i.l7)({},r)),e.style=(0,i.j5)(r))}const l=(0,i.HD)(t)?1:X(t)?128:Oe(t)?64:(0,i.Kn)(t)?4:(0,i.mf)(t)?2:0;return Qe(t,e,r,s,o,l,a,!0)}function rr(t){return t?(0,n.X3)(t)||We in t?(0,i.l7)({},t):t:null}function nr(t,e,r=!1){const{props:n,ref:s,patchFlag:o,children:a}=t,l=e?ur(n||{},e):n,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&Ke(l),ref:e&&e.ref?r&&s?(0,i.kJ)(s)?s.concat(Je(e)):[s,Je(e)]:Je(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Be?-1===o?16:16|o:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&nr(t.ssContent),ssFallback:t.ssFallback&&nr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return h}function ir(t=" ",e=0){return tr(Ue,null,t,e)}function sr(t,e){const r=tr(Fe,null,t);return r.staticCount=e,r}function or(t="",e=!1){return e?(je(),$e(Ne,null,t)):tr(Ne,null,t)}function ar(t){return null==t||"boolean"===typeof t?tr(Ne):(0,i.kJ)(t)?tr(Be,null,t.slice()):"object"===typeof t?lr(t):tr(Ue,null,String(t))}function lr(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:nr(t)}function hr(t,e){let r=0;const{shapeFlag:n}=t;if(null==e)e=null;else if((0,i.kJ)(e))r=16;else if("object"===typeof e){if(65&n){const r=e.default;return void(r&&(r._c&&(r._d=!1),hr(t,r()),r._c&&(r._d=!0)))}{r=32;const n=e._;n||We in e?3===n&&C&&(1===C.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=C}}else(0,i.mf)(e)?(e={default:e,_ctx:C},r=32):(e=String(e),64&n?(r=16,e=[ir(e)]):r=8);t.children=e,t.shapeFlag|=r}function ur(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const t in n)if("class"===t)e.class!==n.class&&(e.class=(0,i.C_)([e.class,n.class]));else if("style"===t)e.style=(0,i.j5)([e.style,n.style]);else if((0,i.F7)(t)){const r=e[t],s=n[t];!s||r===s||(0,i.kJ)(r)&&r.includes(s)||(e[t]=r?[].concat(r,s):s)}else""!==t&&(e[t]=n[t])}return e}function cr(t,e,r,n=null){o(t,e,7,[r,n])}const fr=ie();let dr=0;function pr(t,e,r){const s=t.type,o=(e?e.appContext:t.appContext)||fr,a={uid:dr++,vnode:t,type:s,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new n.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pe(s,o),emitsOptions:T(s,o),emit:null,emitted:null,propsDefaults:i.kT,inheritAttrs:s.inheritAttrs,ctx:i.kT,data:i.kT,props:i.kT,attrs:i.kT,slots:i.kT,refs:i.kT,setupState:i.kT,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=P.bind(null,a),t.ce&&t.ce(a),a}let mr=null;const gr=()=>mr||C;let wr,br,yr="__VUE_INSTANCE_SETTERS__";(br=(0,i.E9)()[yr])||(br=(0,i.E9)()[yr]=[]),br.push((t=>mr=t)),wr=t=>{br.length>1?br.forEach((e=>e(t))):br[0](t)};const vr=t=>{wr(t),t.scope.on()},_r=()=>{mr&&mr.scope.off(),wr(null)};function xr(t){return 4&t.vnode.shapeFlag}let kr,Mr,Er=!1;function Ar(t,e=!1){Er=e;const{props:r,children:n}=t.vnode,i=xr(t);ue(t,r,i,e),Me(t,n);const s=i?Sr(t,e):void 0;return Er=!1,s}function Sr(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=(0,n.Xl)(new Proxy(t.ctx,jt));const{setup:o}=r;if(o){const r=t.setupContext=o.length>1?Ir(t):null;vr(t),(0,n.Jd)();const l=s(o,t,0,[t.props,r]);if((0,n.lk)(),_r(),(0,i.tI)(l)){if(l.then(_r,_r),e)return l.then((r=>{Rr(t,r,e)})).catch((e=>{a(e,t,0)}));t.asyncDep=l}else Rr(t,l,e)}else Pr(t,e)}function Rr(t,e,r){(0,i.mf)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,i.Kn)(e)&&(t.setupState=(0,n.WL)(e)),Pr(t,r)}function Pr(t,e,r){const s=t.type;if(!t.render){if(!e&&kr&&!s.render){const e=s.template||Ht(t).template;if(e){0;const{isCustomElement:r,compilerOptions:n}=t.appContext.config,{delimiters:o,compilerOptions:a}=s,l=(0,i.l7)((0,i.l7)({isCustomElement:r,delimiters:o},n),a);s.render=kr(e,l)}}t.render=s.render||i.dG,Mr&&Mr(t)}vr(t),(0,n.Jd)(),Xt(t),(0,n.lk)(),_r()}function Tr(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return(0,n.j)(t,"get","$attrs"),e[r]}}))}function Ir(t){const e=e=>{t.exposed=e||{}};return{get attrs(){return Tr(t)},slots:t.slots,emit:t.emit,expose:e}}function Cr(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy((0,n.WL)((0,n.Xl)(t.exposed)),{get(e,r){return r in e?e[r]:r in Lt?Lt[r](t):void 0},has(t,e){return e in t||e in Lt}}))}function Dr(t,e=!0){return(0,i.mf)(t)?t.displayName||t.name:t.name||e&&t.__name}function Or(t){return(0,i.mf)(t)&&"__vccOpts"in t}const Br=(t,e)=>(0,n.Fl)(t,e,Er);function Ur(t,e,r){const n=arguments.length;return 2===n?(0,i.Kn)(e)&&!(0,i.kJ)(e)?He(e)?tr(t,null,[e]):tr(t,e):tr(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):3===n&&He(r)&&(r=[r]),tr(t,e,r))}const Nr=Symbol.for("v-scx"),Fr=()=>{{const t=he(Nr);return t}};const Lr="3.3.4"},9242:function(t,e,r){"use strict";r.d(e,{bM:function(){return ot},ri:function(){return ft}});r(7658);var n=r(7139),i=r(3396),s=r(4870);const o="http://www.w3.org/2000/svg",a="undefined"!==typeof document?document:null,l=a&&a.createElement("template"),h={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e?a.createElementNS(o,t):a.createElement(t,r?{is:r}:void 0);return"select"===t&&n&&null!=n.multiple&&i.setAttribute("multiple",n.multiple),i},createText:t=>a.createTextNode(t),createComment:t=>a.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>a.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,s){const o=r?r.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling)){while(1)if(e.insertBefore(i.cloneNode(!0),r),i===s||!(i=i.nextSibling))break}else{l.innerHTML=n?`<svg>${t}</svg>`:t;const i=l.content;if(n){const t=i.firstChild;while(t.firstChild)i.appendChild(t.firstChild);i.removeChild(t)}e.insertBefore(i,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function u(t,e,r){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),null==e?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function c(t,e,r){const i=t.style,s=(0,n.HD)(r);if(r&&!s){if(e&&!(0,n.HD)(e))for(const t in e)null==r[t]&&d(i,t,"");for(const t in r)d(i,t,r[t])}else{const n=i.display;s?e!==r&&(i.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=n)}}const f=/\s*!important$/;function d(t,e,r){if((0,n.kJ)(r))r.forEach((r=>d(t,e,r)));else if(null==r&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const i=g(t,e);f.test(r)?t.setProperty((0,n.rs)(i),r.replace(f,""),"important"):t[i]=r}}const p=["Webkit","Moz","ms"],m={};function g(t,e){const r=m[e];if(r)return r;let i=(0,n._A)(e);if("filter"!==i&&i in t)return m[e]=i;i=(0,n.kC)(i);for(let n=0;n<p.length;n++){const r=p[n]+i;if(r in t)return m[e]=r}return e}const w="http://www.w3.org/1999/xlink";function b(t,e,r,i,s){if(i&&e.startsWith("xlink:"))null==r?t.removeAttributeNS(w,e.slice(6,e.length)):t.setAttributeNS(w,e,r);else{const i=(0,n.Pq)(e);null==r||i&&!(0,n.yA)(r)?t.removeAttribute(e):t.setAttribute(e,i?"":r)}}function y(t,e,r,i,s,o,a){if("innerHTML"===e||"textContent"===e)return i&&a(i,s,o),void(t[e]=null==r?"":r);const l=t.tagName;if("value"===e&&"PROGRESS"!==l&&!l.includes("-")){t._value=r;const n="OPTION"===l?t.getAttribute("value"):t.value,i=null==r?"":r;return n!==i&&(t.value=i),void(null==r&&t.removeAttribute(e))}let h=!1;if(""===r||null==r){const i=typeof t[e];"boolean"===i?r=(0,n.yA)(r):null==r&&"string"===i?(r="",h=!0):"number"===i&&(r=0,h=!0)}try{t[e]=r}catch(u){0}h&&t.removeAttribute(e)}function v(t,e,r,n){t.addEventListener(e,r,n)}function _(t,e,r,n){t.removeEventListener(e,r,n)}function x(t,e,r,n,i=null){const s=t._vei||(t._vei={}),o=s[e];if(n&&o)o.value=n;else{const[r,a]=M(e);if(n){const o=s[e]=R(n,i);v(t,r,o,a)}else o&&(_(t,r,o,a),s[e]=void 0)}}const k=/(?:Once|Passive|Capture)$/;function M(t){let e;if(k.test(t)){let r;e={};while(r=t.match(k))t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}const r=":"===t[2]?t.slice(3):(0,n.rs)(t.slice(2));return[r,e]}let E=0;const A=Promise.resolve(),S=()=>E||(A.then((()=>E=0)),E=Date.now());function R(t,e){const r=t=>{if(t._vts){if(t._vts<=r.attached)return}else t._vts=Date.now();(0,i.$d)(P(t,r.value),e,5,[t])};return r.value=t,r.attached=S(),r}function P(t,e){if((0,n.kJ)(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}const T=/^on[a-z]/,I=(t,e,r,i,s=!1,o,a,l,h)=>{"class"===e?u(t,i,s):"style"===e?c(t,r,i):(0,n.F7)(e)?(0,n.tR)(e)||x(t,e,r,i,a):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):C(t,e,i,s))?y(t,e,i,o,a,l,h):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),b(t,e,i,s))};function C(t,e,r,i){return i?"innerHTML"===e||"textContent"===e||!!(e in t&&T.test(e)&&(0,n.mf)(r)):"spellcheck"!==e&&"draggable"!==e&&"translate"!==e&&("form"!==e&&(("list"!==e||"INPUT"!==t.tagName)&&(("type"!==e||"TEXTAREA"!==t.tagName)&&((!T.test(e)||!(0,n.HD)(r))&&e in t))))}"undefined"!==typeof HTMLElement&&HTMLElement;const D="transition",O="animation",B=(t,{slots:e})=>(0,i.h)(i.P$,z(t),e);B.displayName="Transition";const U={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},N=B.props=(0,n.l7)({},i.nJ,U),F=(t,e=[])=>{(0,n.kJ)(t)?t.forEach((t=>t(...e))):t&&t(...e)},L=t=>!!t&&((0,n.kJ)(t)?t.some((t=>t.length>1)):t.length>1);function z(t){const e={};for(const n in t)n in U||(e[n]=t[n]);if(!1===t.css)return e;const{name:r="v",type:i,duration:s,enterFromClass:o=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:l=`${r}-enter-to`,appearFromClass:h=o,appearActiveClass:u=a,appearToClass:c=l,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=t,m=j(s),g=m&&m[0],w=m&&m[1],{onBeforeEnter:b,onEnter:y,onEnterCancelled:v,onLeave:_,onLeaveCancelled:x,onBeforeAppear:k=b,onAppear:M=y,onAppearCancelled:E=v}=e,A=(t,e,r)=>{X(t,e?c:l),X(t,e?u:a),r&&r()},S=(t,e)=>{t._isLeaving=!1,X(t,f),X(t,p),X(t,d),e&&e()},R=t=>(e,r)=>{const n=t?M:y,s=()=>A(e,t,r);F(n,[e,s]),G((()=>{X(e,t?h:o),Y(e,t?c:l),L(n)||$(e,i,g,s)}))};return(0,n.l7)(e,{onBeforeEnter(t){F(b,[t]),Y(t,o),Y(t,a)},onBeforeAppear(t){F(k,[t]),Y(t,h),Y(t,u)},onEnter:R(!1),onAppear:R(!0),onLeave(t,e){t._isLeaving=!0;const r=()=>S(t,e);Y(t,f),K(),Y(t,d),G((()=>{t._isLeaving&&(X(t,f),Y(t,p),L(_)||$(t,i,w,r))})),F(_,[t,r])},onEnterCancelled(t){A(t,!1),F(v,[t])},onAppearCancelled(t){A(t,!0),F(E,[t])},onLeaveCancelled(t){S(t),F(x,[t])}})}function j(t){if(null==t)return null;if((0,n.Kn)(t))return[V(t.enter),V(t.leave)];{const e=V(t);return[e,e]}}function V(t){const e=(0,n.He)(t);return e}function Y(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function X(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:r}=t;r&&(r.delete(e),r.size||(t._vtc=void 0))}function G(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let q=0;function $(t,e,r,n){const i=t._endId=++q,s=()=>{i===t._endId&&n()};if(r)return setTimeout(s,r);const{type:o,timeout:a,propCount:l}=H(t,e);if(!o)return n();const h=o+"end";let u=0;const c=()=>{t.removeEventListener(h,f),s()},f=e=>{e.target===t&&++u>=l&&c()};setTimeout((()=>{u<l&&c()}),a+1),t.addEventListener(h,f)}function H(t,e){const r=window.getComputedStyle(t),n=t=>(r[t]||"").split(", "),i=n(`${D}Delay`),s=n(`${D}Duration`),o=Z(i,s),a=n(`${O}Delay`),l=n(`${O}Duration`),h=Z(a,l);let u=null,c=0,f=0;e===D?o>0&&(u=D,c=o,f=s.length):e===O?h>0&&(u=O,c=h,f=l.length):(c=Math.max(o,h),u=c>0?o>h?D:O:null,f=u?u===D?s.length:l.length:0);const d=u===D&&/\b(transform|all)(,|$)/.test(n(`${D}Property`).toString());return{type:u,timeout:c,propCount:f,hasTransform:d}}function Z(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map(((e,r)=>W(e)+W(t[r]))))}function W(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function K(){return document.body.offsetHeight}const J=new WeakMap,Q=new WeakMap,tt={name:"TransitionGroup",props:(0,n.l7)({},N,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=(0,i.FN)(),n=(0,i.Y8)();let o,a;return(0,i.ic)((()=>{if(!o.length)return;const e=t.moveClass||`${t.name||"v"}-move`;if(!it(o[0].el,r.vnode.el,e))return;o.forEach(et),o.forEach(rt);const n=o.filter(nt);K(),n.forEach((t=>{const r=t.el,n=r.style;Y(r,e),n.transform=n.webkitTransform=n.transitionDuration="";const i=r._moveCb=t=>{t&&t.target!==r||t&&!/transform$/.test(t.propertyName)||(r.removeEventListener("transitionend",i),r._moveCb=null,X(r,e))};r.addEventListener("transitionend",i)}))})),()=>{const l=(0,s.IU)(t),h=z(l);let u=l.tag||i.HY;o=a,a=e.default?(0,i.Q6)(e.default()):[];for(let t=0;t<a.length;t++){const e=a[t];null!=e.key&&(0,i.nK)(e,(0,i.U2)(e,h,n,r))}if(o)for(let t=0;t<o.length;t++){const e=o[t];(0,i.nK)(e,(0,i.U2)(e,h,n,r)),J.set(e,e.el.getBoundingClientRect())}return(0,i.Wm)(u,null,a)}}};tt.props;function et(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function rt(t){Q.set(t,t.el.getBoundingClientRect())}function nt(t){const e=J.get(t),r=Q.get(t),n=e.left-r.left,i=e.top-r.top;if(n||i){const e=t.el.style;return e.transform=e.webkitTransform=`translate(${n}px,${i}px)`,e.transitionDuration="0s",t}}function it(t,e,r){const n=t.cloneNode();t._vtc&&t._vtc.forEach((t=>{t.split(/\s+/).forEach((t=>t&&n.classList.remove(t)))})),r.split(/\s+/).forEach((t=>t&&n.classList.add(t))),n.style.display="none";const i=1===e.nodeType?e:e.parentNode;i.appendChild(n);const{hasTransform:s}=H(n);return i.removeChild(n),s}const st=t=>{const e=t.props["onUpdate:modelValue"]||!1;return(0,n.kJ)(e)?t=>(0,n.ir)(e,t):e};const ot={deep:!0,created(t,{value:e,modifiers:{number:r}},i){const s=(0,n.DM)(e);v(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>r?(0,n.h5)(lt(t)):lt(t)));t._assign(t.multiple?s?new Set(e):e:e[0])})),t._assign=st(i)},mounted(t,{value:e}){at(t,e)},beforeUpdate(t,e,r){t._assign=st(r)},updated(t,{value:e}){at(t,e)}};function at(t,e){const r=t.multiple;if(!r||(0,n.kJ)(e)||(0,n.DM)(e)){for(let i=0,s=t.options.length;i<s;i++){const s=t.options[i],o=lt(s);if(r)(0,n.kJ)(e)?s.selected=(0,n.hq)(e,o)>-1:s.selected=e.has(o);else if((0,n.WV)(lt(s),e))return void(t.selectedIndex!==i&&(t.selectedIndex=i))}r||-1===t.selectedIndex||(t.selectedIndex=-1)}}function lt(t){return"_value"in t?t._value:t.value}const ht=(0,n.l7)({patchProp:I},h);let ut;function ct(){return ut||(ut=(0,i.Us)(ht))}const ft=(...t)=>{const e=ct().createApp(...t);const{mount:r}=e;return e.mount=t=>{const i=dt(t);if(!i)return;const s=e._component;(0,n.mf)(s)||s.render||s.template||(s.template=i.innerHTML),i.innerHTML="";const o=r(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function dt(t){if((0,n.HD)(t)){const e=document.querySelector(t);return e}return t}},7139:function(t,e,r){"use strict";r.d(e,{C_:function(){return J},DM:function(){return w},E9:function(){return X},F7:function(){return h},Gg:function(){return T},HD:function(){return _},He:function(){return V},Kj:function(){return y},Kn:function(){return k},NO:function(){return a},Nj:function(){return z},Od:function(){return f},PO:function(){return R},Pq:function(){return tt},RI:function(){return p},S0:function(){return P},W7:function(){return S},WV:function(){return nt},Z6:function(){return s},_A:function(){return D},_N:function(){return g},aU:function(){return F},dG:function(){return o},e1:function(){return q},fY:function(){return n},h5:function(){return j},hR:function(){return N},hq:function(){return it},ir:function(){return L},j5:function(){return $},kC:function(){return U},kJ:function(){return m},kT:function(){return i},l7:function(){return c},mf:function(){return v},rs:function(){return B},tI:function(){return M},tR:function(){return u},yA:function(){return et},yk:function(){return x},zw:function(){return st}});r(7658);function n(t,e){const r=Object.create(null),n=t.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return e?t=>!!r[t.toLowerCase()]:t=>!!r[t]}const i={},s=[],o=()=>{},a=()=>!1,l=/^on[^a-z]/,h=t=>l.test(t),u=t=>t.startsWith("onUpdate:"),c=Object.assign,f=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},d=Object.prototype.hasOwnProperty,p=(t,e)=>d.call(t,e),m=Array.isArray,g=t=>"[object Map]"===A(t),w=t=>"[object Set]"===A(t),b=t=>"[object Date]"===A(t),y=t=>"[object RegExp]"===A(t),v=t=>"function"===typeof t,_=t=>"string"===typeof t,x=t=>"symbol"===typeof t,k=t=>null!==t&&"object"===typeof t,M=t=>k(t)&&v(t.then)&&v(t.catch),E=Object.prototype.toString,A=t=>E.call(t),S=t=>A(t).slice(8,-1),R=t=>"[object Object]"===A(t),P=t=>_(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,T=n(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),I=t=>{const e=Object.create(null);return r=>{const n=e[r];return n||(e[r]=t(r))}},C=/-(\w)/g,D=I((t=>t.replace(C,((t,e)=>e?e.toUpperCase():"")))),O=/\B([A-Z])/g,B=I((t=>t.replace(O,"-$1").toLowerCase())),U=I((t=>t.charAt(0).toUpperCase()+t.slice(1))),N=I((t=>t?`on${U(t)}`:"")),F=(t,e)=>!Object.is(t,e),L=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},z=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},j=t=>{const e=parseFloat(t);return isNaN(e)?t:e},V=t=>{const e=_(t)?Number(t):NaN;return isNaN(e)?t:e};let Y;const X=()=>Y||(Y="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:{});const G="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",q=n(G);function $(t){if(m(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=_(n)?K(n):$(n);if(i)for(const t in i)e[t]=i[t]}return e}return _(t)||k(t)?t:void 0}const H=/;(?![^(]*\))/g,Z=/:([^]+)/,W=/\/\*[^]*?\*\//g;function K(t){const e={};return t.replace(W,"").split(H).forEach((t=>{if(t){const r=t.split(Z);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}function J(t){let e="";if(_(t))e=t;else if(m(t))for(let r=0;r<t.length;r++){const n=J(t[r]);n&&(e+=n+" ")}else if(k(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Q="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tt=n(Q);function et(t){return!!t||""===t}function rt(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=nt(t[n],e[n]);return r}function nt(t,e){if(t===e)return!0;let r=b(t),n=b(e);if(r||n)return!(!r||!n)&&t.getTime()===e.getTime();if(r=x(t),n=x(e),r||n)return t===e;if(r=m(t),n=m(e),r||n)return!(!r||!n)&&rt(t,e);if(r=k(t),n=k(e),r||n){if(!r||!n)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const r in t){const n=t.hasOwnProperty(r),i=e.hasOwnProperty(r);if(n&&!i||!n&&i||!nt(t[r],e[r]))return!1}}return String(t)===String(e)}function it(t,e){return t.findIndex((t=>nt(t,e)))}const st=t=>_(t)?t:null==t?"":m(t)||k(t)&&(t.toString===E||!v(t.toString))?JSON.stringify(t,ot,2):String(t),ot=(t,e)=>e&&e.__v_isRef?ot(t,e.value):g(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,r])=>(t[`${e} =>`]=r,t)),{})}:w(e)?{[`Set(${e.size})`]:[...e.values()]}:!k(e)||m(e)||R(e)?e:String(e)},8166:function(t,e,r){"use strict";r(7658);const{IOBuffer:n}=r(9538),i=r(3832),s=[];for(let a=0;a<=8;a++)s.push(255<<a);class o extends n{constructor(t){if(1!==t.bitDepth)throw new Error("Only bitDepth of 1 is supported");if(!t.height||!t.width)throw new Error("ImageData width and height are required");super(t.data),this.width=t.width,this.height=t.height,this.bitDepth=t.bitDepth,this.channels=t.channels,this.components=t.components}encode(){this.encoded=new n,this.encoded.skip(14),this.writeBitmapV5Header(),this.writeColorTable();const t=this.encoded.offset;return this.writePixelArray(),this.encoded.rewind(),this.writeBitmapFileHeader(t),this.encoded.toArray()}writePixelArray(){let t=this.encoded;const e=4*Math.floor((this.bitDepth*this.width+31)/32),r=Math.ceil(this.bitDepth*this.width/8),n=e-r,i=this.bitDepth*this.width%8,o=0===i?0:8-i,a=e*this.height;let l,h,u=0,c=0,f=8;t.mark(),h=this.readUint8();for(let d=this.height-1;d>=0;d--){const a=0===d;t.reset(),t.skip(d*e);for(let e=0;e<r;e++){const d=e===r-1;c<=o&&d?(t.writeByte(h<<c),0!==o&&o!==c||a||(l=h,h=this.readByte())):0===c?(l=h,h=this.readUint8(),t.writeByte(l)):(l=h,h=this.readUint8(),t.writeByte(l<<c&s[c]|h>>f)),d&&(u+=i||0,t.skip(n),c=u%8,f=8-c)}}e>r&&(t.reset(),t.skip(a-1),t.writeUint8(0))}writeColorTable(){this.encoded.writeUint32(0).writeUint32(16777215)}writeBitmapFileHeader(t){this.encoded.writeChars("BM").writeInt32(this.encoded.lastWrittenByte).writeUint16(0).writeUint16(0).writeUint32(t)}writeBitmapV5Header(){const t=4*Math.floor((this.bitDepth*this.width+31)/32),e=t*this.height;this.encoded.writeUint32(124).writeInt32(this.width).writeInt32(this.height).writeUint16(1).writeUint16(this.bitDepth).writeUint32(i.BITMAPV5HEADER.Compression.BI_RGB).writeUint32(e).writeInt32(0).writeInt32(0).writeUint32(Math.pow(2,this.bitDepth)).writeUint32(Math.pow(2,this.bitDepth)).writeUint32(4278190080).writeUint32(16711680).writeUint32(65280).writeUint32(255).writeUint32(i.BITMAPV5HEADER.LogicalColorSpace.LCS_sRGB).skip(36).skip(12).writeUint32(i.BITMAPV5HEADER.GamutMappingIntent.LCS_GM_IMAGES).skip(12)}}t.exports=o},3832:function(t){"use strict";t.exports={BITMAPV5HEADER:{LogicalColorSpace:{LCS_CALIBRATED_RGB:0,LCS_sRGB:1934772034,LCS_WINDOWS_COLOR_SPACE:1466527264},Compression:{BI_RGB:0,BI_RLE8:1,BI_RLE4:2,BI_BITFIELDS:3,BI_JPEG:4,BI_PNG:5,BI_CMYK:11,BI_CMYKRLE8:12,BI_CMYKRLE4:13},GamutMappingIntent:{LCS_GM_ABS_COLORIMETRIC:8,LCS_GM_BUSINESS:1,LCS_GM_GRAPHICS:2,LCS_GM_IMAGES:4}}}},9503:function(t,e,r){"use strict";const n=r(8166);e.c=function(t){const e=new n(t);return e.encode()}},5937:function(t,e,r){"use strict";r(1439),r(7585),r(5315);const n=8192,i=[];class s{constructor(t,e){e=e||{},void 0===t&&(t=n),"number"===typeof t&&(t=new ArrayBuffer(t));let r=t.byteLength;const i=e.offset?e.offset>>>0:0;t.buffer&&(r=t.byteLength-i,t=t.byteLength!==t.buffer.byteLength?t.buffer.slice(t.byteOffset+i,t.byteOffset+t.byteLength):i?t.buffer.slice(i):t.buffer),this.buffer=t,this.length=r,this.byteLength=r,this.byteOffset=0,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer),this._increment=r||n,this._mark=0}available(t){return void 0===t&&(t=1),this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){this.littleEndian=!0}isBigEndian(){return!this.littleEndian}setBigEndian(){this.littleEndian=!1}skip(t){void 0===t&&(t=1),this.offset+=t}seek(t){this.offset=t}mark(){this._mark=this.offset}reset(){this.offset=this._mark}rewind(){this.offset=0}ensureAvailable(t){if(void 0===t&&(t=1),!this.available(t)){const t=this._increment+this._increment;this._increment=t;const e=this.length+t,r=new Uint8Array(e);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=e,this._data=new DataView(this.buffer)}}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t){void 0===t&&(t=1);for(var e=new Uint8Array(t),r=0;r<t;r++)e[r]=this.readByte();return e}readInt16(){var t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){var t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){var t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){var t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){var t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){var t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t){void 0===t&&(t=1),i.length=t;for(var e=0;e<t;e++)i[e]=this.readChar();return i.join("")}writeBoolean(t){this.writeUint8(t?255:0)}writeInt8(t){this.ensureAvailable(1),this._data.setInt8(this.offset++,t)}writeUint8(t){this.ensureAvailable(1),this._data.setUint8(this.offset++,t)}writeByte(t){this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(var e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e])}writeInt16(t){this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2}writeUint16(t){this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2}writeInt32(t){this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4}writeUint32(t){this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4}writeFloat32(t){this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4}writeFloat64(t){this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8}writeChar(t){this.writeUint8(t.charCodeAt(0))}writeChars(t){for(var e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e))}toArray(){return new Uint8Array(this.buffer,0,this.offset)}}t.exports=s},8001:function(t,e,r){"use strict";const n=r(7710);t.exports=function(t,e){const r=new n(t,e);return r.decode(e)}},6619:function(t,e,r){"use strict";const n={standard:r(2841),exif:r(2124),gps:r(5187)};class i{constructor(t){if(!t)throw new Error("missing kind");this.data=null,this.fields=new Map,this.kind=t,this._map=null}get(t){if("number"===typeof t)return this.fields.get(t);if("string"===typeof t)return this.fields.get(n[this.kind].tagsByName[t]);throw new Error("expected a number or string")}get map(){if(!this._map){this._map={};const e=n[this.kind].tagsById;for(var t of this.fields.keys())e[t]&&(this._map[e[t]]=this.fields.get(t))}return this._map}}t.exports=i},6321:function(t,e,r){"use strict";r(1439),r(7585),r(5315),r(7658);var n=new Map([[1,[1,i]],[2,[1,s]],[3,[2,o]],[4,[4,a]],[5,[8,l]],[6,[1,h]],[7,[1,i]],[8,[2,u]],[9,[4,c]],[10,[8,f]],[11,[4,d]],[12,[8,p]]]);function i(t,e){if(1===e)return t.readUint8();for(var r=new Uint8Array(e),n=0;n<e;n++)r[n]=t.readUint8();return r}function s(t,e){for(var r=[],n="",i=0;i<e;i++){var s=String.fromCharCode(t.readUint8());"\0"===s?(r.push(n),n=""):n+=s}return 1===r.length?r[0]:r}function o(t,e){if(1===e)return t.readUint16();for(var r=new Uint16Array(e),n=0;n<e;n++)r[n]=t.readUint16();return r}function a(t,e){if(1===e)return t.readUint32();for(var r=new Uint32Array(e),n=0;n<e;n++)r[n]=t.readUint32();return r}function l(t,e){if(1===e)return t.readUint32()/t.readUint32();for(var r=new Array(e),n=0;n<e;n++)r[n]=t.readUint32()/t.readUint32();return r}function h(t,e){if(1===e)return t.readInt8();for(var r=new Int8Array(e),n=0;n<e;n++)r[n]=t.readInt8();return r}function u(t,e){if(1===e)return t.readInt16();for(var r=new Int16Array(e),n=0;n<e;n++)r[n]=t.readInt16();return r}function c(t,e){if(1===e)return t.readInt32();for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=t.readInt32();return r}function f(t,e){if(1===e)return t.readInt32()/t.readInt32();for(var r=new Array(e),n=0;n<e;n++)r[n]=t.readInt32()/t.readInt32();return r}function d(t,e){if(1===e)return t.readFloat32();for(var r=new Float32Array(e),n=0;n<e;n++)r[n]=t.readFloat32();return r}function p(t,e){if(1===e)return t.readFloat64();for(var r=new Float64Array(e),n=0;n<e;n++)r[n]=t.readFloat64();return r}e.getByteLength=function(t,e){return n.get(t)[0]*e},e.readData=function(t,e,r){return n.get(e)[1](t,r)}},9627:function(t,e,r){"use strict";e.decode=r(8001)},2124:function(t){"use strict";const e={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},r={};for(var n in e)r[e[n]]=n;t.exports={tagsById:e,tagsByName:r}},5187:function(t){"use strict";const e={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},r={};for(var n in e)r[e[n]]=n;t.exports={tagsById:e,tagsByName:r}},2841:function(t){"use strict";const e={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},r={};for(var n in e)r[e[n]]=n;t.exports={tagsById:e,tagsByName:r}},7710:function(t,e,r){"use strict";r(7658),r(1439),r(7585),r(5315);const n=r(5937),i=r(6619),s=r(8162),o=r(6321),a={ignoreImageData:!1,onlyFirst:!1};class l extends n{constructor(t,e){super(t,e),this._nextIFD=0}decode(t){t=Object.assign({},a,t);const e=[];this.decodeHeader();while(this._nextIFD)if(e.push(this.decodeIFD(t)),t.onlyFirst)return e[0];return e}decodeHeader(){let t=this.readUint16();if(18761===t)this.setLittleEndian();else{if(19789!==t)throw new Error("invalid byte order: 0x"+t.toString(16));this.setBigEndian()}if(t=this.readUint16(),42!==t)throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(t){var e;this.seek(this._nextIFD),e=t.kind?new i(t.kind):new s;const r=this.readUint16();for(var n=0;n<r;n++)this.decodeIFDEntry(e);return t.ignoreImageData||this.decodeImageData(e),this._nextIFD=this.readUint32(),e}decodeIFDEntry(t){const e=this.offset,r=this.readUint16(),n=this.readUint16(),i=this.readUint32();if(n<1||n>12)return void this.skip(4);const s=o.getByteLength(n,i);s>4&&this.seek(this.readUint32());const a=o.readData(this,n,i);if(t.fields.set(r,a),34665===r||34853===r){let e,n=this.offset;34665===r?e="exif":34853===r&&(e="gps"),this._nextIFD=a,t[e]=this.decodeIFD({kind:e,ignoreImageData:!0}),this.offset=n}this.seek(e),this.skip(12)}decodeImageData(t){const e=t.orientation;switch(e&&1!==e&&d("orientation",e),t.type){case 1:case 2:this.readStripData(t);break;default:d("image type",t.type);break}}readStripData(t){const e=t.width,r=t.height,n=p(t.bitsPerSample),i=t.sampleFormat;let s=e*r;const o=h(s,1,n,i),a=t.compression,l=t.rowsPerStrip,m=l*e,g=t.stripOffsets,w=t.stripByteCounts;for(var b=0,y=0;y<g.length;y++){var v=this.getStripData(a,g[y],w[y]),_=s>m?m:s;s-=_,8===n?b=u(o,v,b,_):16===n?b=c(o,v,b,_,this.isLittleEndian()):32===n&&3===i?b=f(o,v,b,_,this.isLittleEndian()):d("bitDepth",n)}t.data=o}getStripData(t,e,r){switch(t){case 1:return new DataView(this.buffer,e,r);case 2:case 32773:return d("Compression",t);default:throw new Error("invalid compression: "+t)}}}function h(t,e,r,n){return 8===r?new Uint8Array(t*e):16===r?new Uint16Array(t*e):32===r&&3===n?new Float32Array(t*e):d("bit depth / sample format",r+" / "+n)}function u(t,e,r,n){for(var i=0;i<n;i++)t[r++]=e.getUint8(i);return r}function c(t,e,r,n,i){for(var s=0;s<2*n;s+=2)t[r++]=e.getUint16(s,i);return r}function f(t,e,r,n,i){for(var s=0;s<4*n;s+=4)t[r++]=e.getFloat32(s,i);return r}function d(t,e){throw new Error("Unsupported "+t+": "+e)}function p(t){if(t.length){const r=t;t=r[0];for(var e=0;e<r.length;e++)r[e]!==t&&d("bit depth",r)}return t}t.exports=l},8162:function(t,e,r){"use strict";const n=r(6619),i=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;class s extends n{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){var t=new Date,e=i.exec(this.dateTime);return t.setFullYear(e[1],e[2]-1,e[3]),t.setHours(e[4],e[5],e[6]),t}get newSubfileType(){return this.get(254)}get imageWidth(){return this.get(256)}get imageLength(){return this.get(257)}get bitsPerSample(){return this.get(258)}get compression(){return this.get(259)||1}get type(){return this.get(262)}get fillOrder(){return this.get(266)||1}get documentName(){return this.get(269)}get imageDescription(){return this.get(270)}get stripOffsets(){return o(this.get(273))}get orientation(){return this.get(274)}get samplesPerPixel(){return this.get(277)}get rowsPerStrip(){return this.get(278)}get stripByteCounts(){return o(this.get(279))}get minSampleValue(){return this.get(280)||0}get maxSampleValue(){return this.get(281)||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get(282)}get yResolution(){return this.get(283)}get planarConfiguration(){return this.get(284)||1}get resolutionUnit(){return this.get(296)||2}get dateTime(){return this.get(306)}get predictor(){return this.get(317)||1}get sampleFormat(){return this.get(339)||1}get sMinSampleValue(){return this.get(340)||this.minSampleValue}get sMaxSampleValue(){return this.get(341)||this.maxSampleValue}}function o(t){return"number"===typeof t?[t]:t}t.exports=s},4131:function(t,e,r){"use strict";const n=r(5937),i=r(9627);function s(t){const e=new n(t),r={};e.setBigEndian();const s=e.readUint16();if(65496!==s)throw new Error("SOI marker not found. Not a valid JPEG file");const o=e.readUint16();if(65505===o){e.readUint16();const t=e.readBytes(6);if(69===t[0]&&120===t[1]&&105===t[2]&&102===t[3]&&0===t[4]&&0===t[5]){const t=i.decode(e,{onlyFirst:!0,ignoreImageData:!0,offset:e.offset});r.exif=t}}return r}t.exports=s},3227:function(t,e,r){"use strict";e.decode=r(4131)},3471:function(t,e,r){r(7658),function(){function e(t,e,r){this.next=r,r&&(r.prev=this),this.prev=e,e&&(e.next=this),this.data=t}function r(){if(!(this instanceof r))return new r;this._head=null,this._tail=null,this.length=0}r.prototype={push:function(t){this._tail=new e(t,this._tail,null),this._head||(this._head=this._tail),this.length++},pop:function(){if(0!==this.length){var t=this._tail;return this._tail=t.prev,t.prev&&(t.prev=this._tail.next=null),this.length--,1===this.length?this._head=this._tail:0===this.length&&(this._head=this._tail=null),t.data}},unshift:function(t){this._head=new e(t,null,this._head),this._tail||(this._tail=this._head),this.length++},shift:function(){if(0!==this.length){var t=this._head;return this._head=t.next,t.next&&(t.next=this._head.prev=null),this.length--,1===this.length?this._tail=this._head:0===this.length&&(this._head=this._tail=null),t.data}},item:function(t){t<0&&(t=this.length+t);var e=this._head;while(t-- >0&&e)e=e.next;return e?e.data:void 0},slice:function(t,e){if(t||(t=0),e||(e=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e===t)return[];if(e<t)throw new Error("invalid offset: "+t+","+e+" (length="+this.length+")");var r=e-t,n=new Array(r),i=0,s=this._head;while(t-- >0&&s)s=s.next;while(i<r&&s)n[i++]=s.data,s=s.next;return n},drop:function(){r.call(this)},forEach:function(t,e){var r=this._head,n=0,i=this.length;while(n<i&&r)t.call(e||this,r.data,n,this),r=r.next,n++},map:function(t,e){var n=new r;return this.forEach((function(r,i,s){n.push(t.call(e||s,r,i,s))})),n},filter:function(t,e){var n=new r;return this.forEach((function(r,i,s){t.call(e||s,r,i,s)&&n.push(r)})),n},reduce:function(t,e,r){var n=0,i=this._head,s=this.length;e||(n=1,e=i&&i.data,i=i&&i.next);while(n<s&&i)e=t.call(r||this,e,i.data,this),n++,i=i.next;return e}},t.exports=r}()},9051:function(t){"use strict";function e(t){if(this.size=0|t,this.size<=1||0!==(this.size&this.size-1))throw new Error("FFT size must be a power of two and bigger than 1");this._csize=t<<1;for(var e=new Array(2*this.size),r=0;r<e.length;r+=2){const t=Math.PI*r/this.size;e[r]=Math.cos(t),e[r+1]=-Math.sin(t)}this.table=e;for(var n=0,i=1;this.size>i;i<<=1)n++;this._width=n%2===0?n-1:n,this._bitrev=new Array(1<<this._width);for(var s=0;s<this._bitrev.length;s++){this._bitrev[s]=0;for(var o=0;o<this._width;o+=2){var a=this._width-o-2;this._bitrev[s]|=(s>>>o&3)<<a}}this._out=null,this._data=null,this._inv=0}t.exports=e,e.prototype.fromComplexArray=function(t,e){for(var r=e||new Array(t.length>>>1),n=0;n<t.length;n+=2)r[n>>>1]=t[n];return r},e.prototype.createComplexArray=function(){const t=new Array(this._csize);for(var e=0;e<t.length;e++)t[e]=0;return t},e.prototype.toComplexArray=function(t,e){for(var r=e||this.createComplexArray(),n=0;n<r.length;n+=2)r[n]=t[n>>>1],r[n+1]=0;return r},e.prototype.completeSpectrum=function(t){for(var e=this._csize,r=e>>>1,n=2;n<r;n+=2)t[e-n]=t[n],t[e-n+1]=-t[n+1]},e.prototype.transform=function(t,e){if(t===e)throw new Error("Input and output buffers must be different");this._out=t,this._data=e,this._inv=0,this._transform4(),this._out=null,this._data=null},e.prototype.realTransform=function(t,e){if(t===e)throw new Error("Input and output buffers must be different");this._out=t,this._data=e,this._inv=0,this._realTransform4(),this._out=null,this._data=null},e.prototype.inverseTransform=function(t,e){if(t===e)throw new Error("Input and output buffers must be different");this._out=t,this._data=e,this._inv=1,this._transform4();for(var r=0;r<t.length;r++)t[r]/=this.size;this._out=null,this._data=null},e.prototype._transform4=function(){var t,e,r=this._out,n=this._csize,i=this._width,s=1<<i,o=n/s<<1,a=this._bitrev;if(4===o)for(t=0,e=0;t<n;t+=o,e++){const r=a[e];this._singleTransform2(t,r,s)}else for(t=0,e=0;t<n;t+=o,e++){const r=a[e];this._singleTransform4(t,r,s)}var l=this._inv?-1:1,h=this.table;for(s>>=2;s>=2;s>>=2){o=n/s<<1;var u=o>>>2;for(t=0;t<n;t+=o)for(var c=t+u,f=t,d=0;f<c;f+=2,d+=s){const t=f,e=t+u,n=e+u,i=n+u,s=r[t],o=r[t+1],a=r[e],c=r[e+1],p=r[n],m=r[n+1],g=r[i],w=r[i+1],b=s,y=o,v=h[d],_=l*h[d+1],x=a*v-c*_,k=a*_+c*v,M=h[2*d],E=l*h[2*d+1],A=p*M-m*E,S=p*E+m*M,R=h[3*d],P=l*h[3*d+1],T=g*R-w*P,I=g*P+w*R,C=b+A,D=y+S,O=b-A,B=y-S,U=x+T,N=k+I,F=l*(x-T),L=l*(k-I),z=C+U,j=D+N,V=C-U,Y=D-N,X=O+L,G=B-F,q=O-L,$=B+F;r[t]=z,r[t+1]=j,r[e]=X,r[e+1]=G,r[n]=V,r[n+1]=Y,r[i]=q,r[i+1]=$}}},e.prototype._singleTransform2=function(t,e,r){const n=this._out,i=this._data,s=i[e],o=i[e+1],a=i[e+r],l=i[e+r+1],h=s+a,u=o+l,c=s-a,f=o-l;n[t]=h,n[t+1]=u,n[t+2]=c,n[t+3]=f},e.prototype._singleTransform4=function(t,e,r){const n=this._out,i=this._data,s=this._inv?-1:1,o=2*r,a=3*r,l=i[e],h=i[e+1],u=i[e+r],c=i[e+r+1],f=i[e+o],d=i[e+o+1],p=i[e+a],m=i[e+a+1],g=l+f,w=h+d,b=l-f,y=h-d,v=u+p,_=c+m,x=s*(u-p),k=s*(c-m),M=g+v,E=w+_,A=b+k,S=y-x,R=g-v,P=w-_,T=b-k,I=y+x;n[t]=M,n[t+1]=E,n[t+2]=A,n[t+3]=S,n[t+4]=R,n[t+5]=P,n[t+6]=T,n[t+7]=I},e.prototype._realTransform4=function(){var t,e,r=this._out,n=this._csize,i=this._width,s=1<<i,o=n/s<<1,a=this._bitrev;if(4===o)for(t=0,e=0;t<n;t+=o,e++){const r=a[e];this._singleRealTransform2(t,r>>>1,s>>>1)}else for(t=0,e=0;t<n;t+=o,e++){const r=a[e];this._singleRealTransform4(t,r>>>1,s>>>1)}var l=this._inv?-1:1,h=this.table;for(s>>=2;s>=2;s>>=2){o=n/s<<1;var u=o>>>1,c=u>>>1,f=c>>>1;for(t=0;t<n;t+=o)for(var d=0,p=0;d<=f;d+=2,p+=s){var m=t+d,g=m+c,w=g+c,b=w+c,y=r[m],v=r[m+1],_=r[g],x=r[g+1],k=r[w],M=r[w+1],E=r[b],A=r[b+1],S=y,R=v,P=h[p],T=l*h[p+1],I=_*P-x*T,C=_*T+x*P,D=h[2*p],O=l*h[2*p+1],B=k*D-M*O,U=k*O+M*D,N=h[3*p],F=l*h[3*p+1],L=E*N-A*F,z=E*F+A*N,j=S+B,V=R+U,Y=S-B,X=R-U,G=I+L,q=C+z,$=l*(I-L),H=l*(C-z),Z=j+G,W=V+q,K=Y+H,J=X-$;if(r[m]=Z,r[m+1]=W,r[g]=K,r[g+1]=J,0!==d){if(d!==f){var Q=Y,tt=-X,et=j,rt=-V,nt=-l*H,it=-l*$,st=-l*q,ot=-l*G,at=Q+nt,lt=tt+it,ht=et+ot,ut=rt-st,ct=t+c-d,ft=t+u-d;r[ct]=at,r[ct+1]=lt,r[ft]=ht,r[ft+1]=ut}}else{var dt=j-G,pt=V-q;r[w]=dt,r[w+1]=pt}}}},e.prototype._singleRealTransform2=function(t,e,r){const n=this._out,i=this._data,s=i[e],o=i[e+r],a=s+o,l=s-o;n[t]=a,n[t+1]=0,n[t+2]=l,n[t+3]=0},e.prototype._singleRealTransform4=function(t,e,r){const n=this._out,i=this._data,s=this._inv?-1:1,o=2*r,a=3*r,l=i[e],h=i[e+r],u=i[e+o],c=i[e+a],f=l+u,d=l-u,p=h+c,m=s*(h-c),g=f+p,w=d,b=-m,y=f-p,v=d,_=m;n[t]=g,n[t+1]=0,n[t+2]=w,n[t+3]=b,n[t+4]=y,n[t+5]=0,n[t+6]=v,n[t+7]=_}},3464:function(module,__unused_webpack_exports,__webpack_require__){"use strict";__webpack_require__(1439),__webpack_require__(7585),__webpack_require__(5315);const toBytes=t=>[...t].map((t=>t.charCodeAt(0))),xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(t,e=0){let r=t[e],n=1,i=0;while(++i<8)n*=256,r+=t[e+i]*n;return r}const fileType=t=>{if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||Buffer.isBuffer(t)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof t}\``);const e=t instanceof Uint8Array?t:new Uint8Array(t);if(!(e&&e.length>1))return null;const r=(t,r)=>{r=Object.assign({offset:0},r);for(let n=0;n<t.length;n++)if(r.mask){if(t[n]!==(r.mask[n]&e[n+r.offset]))return!1}else if(t[n]!==e[n+r.offset])return!1;return!0},n=(t,e)=>r(toBytes(t),e);if(r([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(r([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(r([71,73,70]))return{ext:"gif",mime:"image/gif"};if(r([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(r([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((r([73,73,42,0])||r([77,77,0,42]))&&r([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(r([73,73,42,0])||r([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(r([66,77]))return{ext:"bmp",mime:"image/bmp"};if(r([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(r([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(r([80,75,3,4])){if(r([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(r(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(n("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(n("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(n("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};const t=(t,e=0)=>t.findIndex(((t,r,n)=>r>=e&&80===n[r]&&75===n[r+1]&&3===n[r+2]&&4===n[r+3]));let i=0,s=!1,o=null;do{const a=i+30;if(s||(s=r(oxmlContentTypes,{offset:a})||r(oxmlRels,{offset:a})),o||(n("word/",{offset:a})?o={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:n("ppt/",{offset:a})?o={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:n("xl/",{offset:a})&&(o={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),s&&o)return o;i=t(e,a)}while(i>=0);if(o)return o}if(r([80,75])&&(3===e[2]||5===e[2]||7===e[2])&&(4===e[3]||6===e[3]||8===e[3]))return{ext:"zip",mime:"application/zip"};if(r([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(r([82,97,114,33,26,7])&&(0===e[6]||1===e[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(r([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(r([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(r([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(r([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(r([51,103,112,53])||r([0,0,0])&&r([102,116,121,112],{offset:4})&&(r([109,112,52,49],{offset:8})||r([109,112,52,50],{offset:8})||r([105,115,111,109],{offset:8})||r([105,115,111,50],{offset:8})||r([109,109,112,52],{offset:8})||r([77,52,86],{offset:8})||r([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(r([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(r([26,69,223,163])){const t=e.subarray(4,4100),r=t.findIndex(((t,e,r)=>66===r[e]&&130===r[e+1]));if(-1!==r){const e=r+3,n=r=>[...r].every(((r,n)=>t[e+n]===r.charCodeAt(0)));if(n("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(n("webm"))return{ext:"webm",mime:"video/webm"}}}if(r([0,0,0,20,102,116,121,112,113,116,32,32])||r([102,114,101,101],{offset:4})||r([102,116,121,112,113,116,32,32],{offset:4})||r([109,100,97,116],{offset:4})||r([109,111,111,118],{offset:4})||r([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(r([82,73,70,70])){if(r([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(r([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(r([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(r([48,38,178,117,142,102,207,17,166,217])){let t=30;do{const n=readUInt64LE(e,t+16);if(r([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:t})){if(r([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:t+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(r([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:t+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}t+=n}while(t+24<=e.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(r([0,0,1,186])||r([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(r([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(let i=0;i<2&&i<e.length-16;i++){if(r([73,68,51],{offset:i})||r([255,226],{offset:i,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(r([255,228],{offset:i,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([255,248],{offset:i,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([255,240],{offset:i,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(r([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(r([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(r([79,103,103,83]))return r([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:r([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:r([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:r([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:r([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(r([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(r([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(r([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(r([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(r([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(r([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((67===e[0]||70===e[0])&&r([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(r([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(r([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(r([119,79,70,70])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(r([119,79,70,50])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(r([76,80],{offset:34})&&(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(r([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(r([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(r([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(r([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(r([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(r([37,33]))return{ext:"ps",mime:"application/postscript"};if(r([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(r([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(r([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(r([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(r([77,83,67,70])||r([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(r([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(r([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(r([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(r([31,160])||r([31,157]))return{ext:"Z",mime:"application/x-compress"};if(r([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(r([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(r([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(r([71],{offset:4})&&(r([71],{offset:192})||r([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(r([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(r([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(r([0,0,0,12,106,80,32,32,13,10,135,10])){if(r([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(r([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(r([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(r([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(r([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(n("<?xml "))return{ext:"xml",mime:"application/xml"};if(r([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(r([102,116,121,112],{offset:4})){if(r([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(r([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(r([104,101,105,99],{offset:8})||r([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(r([104,101,118,99],{offset:8})||r([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return r([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:r([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:r([77,80,43])||r([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:r([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:r([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:r([212,195,178,161])||r([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports["default"]=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=readableStream=>new Promise(((resolve,reject)=>{const stream=eval("require")("stream");readableStream.once("readable",(()=>{const t=new stream.PassThrough,e=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{t.fileType=fileType(e)}catch(r){reject(r)}readableStream.unshift(e),stream.pipeline?resolve(stream.pipeline(readableStream,t,(()=>{}))):resolve(readableStream.pipe(t))}))}))},7019:function(t,e,r){var n=Object.prototype.hasOwnProperty;t.exports=e=function(t,e){return n.call(e,t)},e.version=r(2898).version},8291:function(t,e,r){"use strict";r.d(e,{ZP:function(){return Ud}});var n={};r.r(n),r.d(n,{CMYK:function(){return So},GREY:function(){return ko},HSL:function(){return Eo},HSV:function(){return Ao},RGB:function(){return Mo}});var i={};r.r(i),r.d(i,{tagsById:function(){return ea},tagsByName:function(){return ra}});var s={};r.r(s),r.d(s,{tagsById:function(){return na},tagsByName:function(){return ia}});var o={};r.r(o),r.d(o,{tagsById:function(){return sa},tagsByName:function(){return oa}});const a={getBit(t){return this.data[l(t)]&1<<h(t)?1:0},setBit(t){this.data[l(t)]|=1<<h(t)},clearBit(t){this.data[l(t)]&=~(1<<h(t))},toggleBit(t){this.data[l(t)]^=1<<h(t)},getBitXY(t,e){return t>=this.width||e>=this.height?0:this.getBit(e*this.width+t)},setBitXY(t,e){this.setBit(e*this.width+t)},clearBitXY(t,e){this.clearBit(e*this.width+t)},toggleBitXY(t,e){this.toggleBit(e*this.width+t)}};function l(t){return t>>3}function h(t){return 7-(7&t)}function u(t){for(const e in a)t.prototype[e]=a[e]}function c(t,e={}){let{bitDepth:r,alpha:n,colorModel:i,components:s,channels:o}=e;if("string"!==typeof t||0===t.length)throw new TypeError("processName must be a string");if(r&&(Array.isArray(r)||(r=[r]),!r.includes(this.bitDepth)))throw new TypeError(`The process: ${t} can only be applied if bit depth is in: ${r}`);if(n&&(Array.isArray(n)||(n=[n]),!n.includes(this.alpha)))throw new TypeError(`The process: ${t} can only be applied if alpha is in: ${n}`);if(i&&(Array.isArray(i)||(i=[i]),!i.includes(this.colorModel)))throw new TypeError(`The process: ${t} can only be applied if color model is in: ${i}`);if(s&&(Array.isArray(s)||(s=[s]),!s.includes(this.components))){let e=`The process: ${t} can only be applied if the number of components is in: ${s}`;throw 1===s.length&&1===s[0]?new TypeError(`${e}.\rYou should transform your image using "image.grey()" before applying the algorithm.`):new TypeError(e)}if(o&&(Array.isArray(o)||(o=[o]),!o.includes(this.channels)))throw new TypeError(`The process: ${t} can only be applied if the number of channels is in: ${o}`)}r(6229),r(7330),r(2062),r(2801),r(1439),r(7585),r(5315);function f(t,e){t=t||[],e=e||{},"string"===typeof e&&(e={type:e});try{return new Blob(t,e)}catch(s){if("TypeError"!==s.name)throw s;for(var r="undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,n=new r,i=0;i<t.length;i+=1)n.append(t[i]);return n.getBlob(e.type)}}function d(t){var e=t.match(/data:([^;]+)/)[1],r=t.replace(/^[^,]+,/,""),n=m(atob(r));return f([n],{type:e})}function p(t,e,r){return"function"===typeof t.toBlob?new Promise((function(n){t.toBlob(n,e,r)})):Promise.resolve(d(t.toDataURL(e,r)))}function m(t){var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),i=-1;while(++i<e)n[i]=t.charCodeAt(i);return r}var g=r(9503),w=(r(7658),r(9538));r(2087);
/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */
const b=4,y=0,v=1,_=2;function x(t){let e=t.length;while(--e>=0)t[e]=0}const k=0,M=1,E=2,A=3,S=258,R=29,P=256,T=P+1+R,I=30,C=19,D=2*T+1,O=15,B=16,U=7,N=256,F=16,L=17,z=18,j=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),V=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Y=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),X=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),G=512,q=new Array(2*(T+2));x(q);const $=new Array(2*I);x($);const H=new Array(G);x(H);const Z=new Array(S-A+1);x(Z);const W=new Array(R);x(W);const K=new Array(I);function J(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let Q,tt,et;function rt(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}x(K);const nt=t=>t<256?H[t]:H[256+(t>>>7)],it=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},st=(t,e,r)=>{t.bi_valid>B-r?(t.bi_buf|=e<<t.bi_valid&65535,it(t,t.bi_buf),t.bi_buf=e>>B-t.bi_valid,t.bi_valid+=r-B):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},ot=(t,e,r)=>{st(t,r[2*e],r[2*e+1])},at=(t,e)=>{let r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},lt=t=>{16===t.bi_valid?(it(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)},ht=(t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let h,u,c,f,d,p,m=0;for(f=0;f<=O;f++)t.bl_count[f]=0;for(r[2*t.heap[t.heap_max]+1]=0,h=t.heap_max+1;h<D;h++)u=t.heap[h],f=r[2*r[2*u+1]+1]+1,f>l&&(f=l,m++),r[2*u+1]=f,u>n||(t.bl_count[f]++,d=0,u>=a&&(d=o[u-a]),p=r[2*u],t.opt_len+=p*(f+d),s&&(t.static_len+=p*(i[2*u+1]+d)));if(0!==m){do{f=l-1;while(0===t.bl_count[f])f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[l]--,m-=2}while(m>0);for(f=l;0!==f;f--){u=t.bl_count[f];while(0!==u)c=t.heap[--h],c>n||(r[2*c+1]!==f&&(t.opt_len+=(f-r[2*c+1])*r[2*c],r[2*c+1]=f),u--)}}},ut=(t,e,r)=>{const n=new Array(O+1);let i,s,o=0;for(i=1;i<=O;i++)o=o+r[i-1]<<1,n[i]=o;for(s=0;s<=e;s++){let e=t[2*s+1];0!==e&&(t[2*s]=at(n[e]++,e))}},ct=()=>{let t,e,r,n,i;const s=new Array(O+1);for(r=0,n=0;n<R-1;n++)for(W[n]=r,t=0;t<1<<j[n];t++)Z[r++]=n;for(Z[r-1]=n,i=0,n=0;n<16;n++)for(K[n]=i,t=0;t<1<<V[n];t++)H[i++]=n;for(i>>=7;n<I;n++)for(K[n]=i<<7,t=0;t<1<<V[n]-7;t++)H[256+i++]=n;for(e=0;e<=O;e++)s[e]=0;t=0;while(t<=143)q[2*t+1]=8,t++,s[8]++;while(t<=255)q[2*t+1]=9,t++,s[9]++;while(t<=279)q[2*t+1]=7,t++,s[7]++;while(t<=287)q[2*t+1]=8,t++,s[8]++;for(ut(q,T+1,s),t=0;t<I;t++)$[2*t+1]=5,$[2*t]=at(t,5);Q=new J(q,j,P+1,T,O),tt=new J($,V,0,I,O),et=new J(new Array(0),Y,0,C,U)},ft=t=>{let e;for(e=0;e<T;e++)t.dyn_ltree[2*e]=0;for(e=0;e<I;e++)t.dyn_dtree[2*e]=0;for(e=0;e<C;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*N]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},dt=t=>{t.bi_valid>8?it(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},pt=(t,e,r,n)=>{const i=2*e,s=2*r;return t[i]<t[s]||t[i]===t[s]&&n[e]<=n[r]},mt=(t,e,r)=>{const n=t.heap[r];let i=r<<1;while(i<=t.heap_len){if(i<t.heap_len&&pt(e,t.heap[i+1],t.heap[i],t.depth)&&i++,pt(e,n,t.heap[i],t.depth))break;t.heap[r]=t.heap[i],r=i,i<<=1}t.heap[r]=n},gt=(t,e,r)=>{let n,i,s,o,a=0;if(0!==t.sym_next)do{n=255&t.pending_buf[t.sym_buf+a++],n+=(255&t.pending_buf[t.sym_buf+a++])<<8,i=t.pending_buf[t.sym_buf+a++],0===n?ot(t,i,e):(s=Z[i],ot(t,s+P+1,e),o=j[s],0!==o&&(i-=W[s],st(t,i,o)),n--,s=nt(n),ot(t,s,r),o=V[s],0!==o&&(n-=K[s],st(t,n,o)))}while(a<t.sym_next);ot(t,N,e)},wt=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,l,h=-1;for(t.heap_len=0,t.heap_max=D,o=0;o<s;o++)0!==r[2*o]?(t.heap[++t.heap_len]=h=o,t.depth[o]=0):r[2*o+1]=0;while(t.heap_len<2)l=t.heap[++t.heap_len]=h<2?++h:0,r[2*l]=1,t.depth[l]=0,t.opt_len--,i&&(t.static_len-=n[2*l+1]);for(e.max_code=h,o=t.heap_len>>1;o>=1;o--)mt(t,r,o);l=s;do{o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],mt(t,r,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,r[2*l]=r[2*o]+r[2*a],t.depth[l]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,r[2*o+1]=r[2*a+1]=l,t.heap[1]=l++,mt(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],ht(t,e),ut(r,h,t.bl_count)},bt=(t,e,r)=>{let n,i,s=-1,o=e[1],a=0,l=7,h=4;for(0===o&&(l=138,h=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=e[2*(n+1)+1],++a<l&&i===o||(a<h?t.bl_tree[2*i]+=a:0!==i?(i!==s&&t.bl_tree[2*i]++,t.bl_tree[2*F]++):a<=10?t.bl_tree[2*L]++:t.bl_tree[2*z]++,a=0,s=i,0===o?(l=138,h=3):i===o?(l=6,h=3):(l=7,h=4))},yt=(t,e,r)=>{let n,i,s=-1,o=e[1],a=0,l=7,h=4;for(0===o&&(l=138,h=3),n=0;n<=r;n++)if(i=o,o=e[2*(n+1)+1],!(++a<l&&i===o)){if(a<h)do{ot(t,i,t.bl_tree)}while(0!==--a);else 0!==i?(i!==s&&(ot(t,i,t.bl_tree),a--),ot(t,F,t.bl_tree),st(t,a-3,2)):a<=10?(ot(t,L,t.bl_tree),st(t,a-3,3)):(ot(t,z,t.bl_tree),st(t,a-11,7));a=0,s=i,0===o?(l=138,h=3):i===o?(l=6,h=3):(l=7,h=4)}},vt=t=>{let e;for(bt(t,t.dyn_ltree,t.l_desc.max_code),bt(t,t.dyn_dtree,t.d_desc.max_code),wt(t,t.bl_desc),e=C-1;e>=3;e--)if(0!==t.bl_tree[2*X[e]+1])break;return t.opt_len+=3*(e+1)+5+5+4,e},_t=(t,e,r,n)=>{let i;for(st(t,e-257,5),st(t,r-1,5),st(t,n-4,4),i=0;i<n;i++)st(t,t.bl_tree[2*X[i]+1],3);yt(t,t.dyn_ltree,e-1),yt(t,t.dyn_dtree,r-1)},xt=t=>{let e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return y;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return v;for(e=32;e<P;e++)if(0!==t.dyn_ltree[2*e])return v;return y};let kt=!1;const Mt=t=>{kt||(ct(),kt=!0),t.l_desc=new rt(t.dyn_ltree,Q),t.d_desc=new rt(t.dyn_dtree,tt),t.bl_desc=new rt(t.bl_tree,et),t.bi_buf=0,t.bi_valid=0,ft(t)},Et=(t,e,r,n)=>{st(t,(k<<1)+(n?1:0),3),dt(t),it(t,r),it(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},At=t=>{st(t,M<<1,3),ot(t,N,q),lt(t)},St=(t,e,r,n)=>{let i,s,o=0;t.level>0?(t.strm.data_type===_&&(t.strm.data_type=xt(t)),wt(t,t.l_desc),wt(t,t.d_desc),o=vt(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==e?Et(t,e,r,n):t.strategy===b||s===i?(st(t,(M<<1)+(n?1:0),3),gt(t,q,$)):(st(t,(E<<1)+(n?1:0),3),_t(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),gt(t,t.dyn_ltree,t.dyn_dtree)),ft(t),n&&dt(t)},Rt=(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(Z[r]+P+1)]++,t.dyn_dtree[2*nt(e)]++),t.sym_next===t.sym_end);var Pt=Mt,Tt=Et,It=St,Ct=Rt,Dt=At,Ot={_tr_init:Pt,_tr_stored_block:Tt,_tr_flush_block:It,_tr_tally:Ct,_tr_align:Dt};const Bt=(t,e,r,n)=>{let i=65535&t|0,s=t>>>16&65535|0,o=0;while(0!==r){o=r>2e3?2e3:r,r-=o;do{i=i+e[n++]|0,s=s+i|0}while(--o);i%=65521,s%=65521}return i|s<<16|0};var Ut=Bt;const Nt=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e},Ft=new Uint32Array(Nt()),Lt=(t,e,r,n)=>{const i=Ft,s=n+r;t^=-1;for(let o=n;o<s;o++)t=t>>>8^i[255&(t^e[o])];return-1^t};var zt=Lt,jt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Vt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Yt,_tr_stored_block:Xt,_tr_flush_block:Gt,_tr_tally:qt,_tr_align:$t}=Ot,{Z_NO_FLUSH:Ht,Z_PARTIAL_FLUSH:Zt,Z_FULL_FLUSH:Wt,Z_FINISH:Kt,Z_BLOCK:Jt,Z_OK:Qt,Z_STREAM_END:te,Z_STREAM_ERROR:ee,Z_DATA_ERROR:re,Z_BUF_ERROR:ne,Z_DEFAULT_COMPRESSION:ie,Z_FILTERED:se,Z_HUFFMAN_ONLY:oe,Z_RLE:ae,Z_FIXED:le,Z_DEFAULT_STRATEGY:he,Z_UNKNOWN:ue,Z_DEFLATED:ce}=Vt,fe=9,de=15,pe=8,me=29,ge=256,we=ge+1+me,be=30,ye=19,ve=2*we+1,_e=15,xe=3,ke=258,Me=ke+xe+1,Ee=32,Ae=42,Se=57,Re=69,Pe=73,Te=91,Ie=103,Ce=113,De=666,Oe=1,Be=2,Ue=3,Ne=4,Fe=3,Le=(t,e)=>(t.msg=jt[e],e),ze=t=>2*t-(t>4?9:0),je=t=>{let e=t.length;while(--e>=0)t[e]=0},Ve=t=>{let e,r,n,i=t.w_size;e=t.hash_size,n=e;do{r=t.head[--n],t.head[n]=r>=i?r-i:0}while(--e);e=i,n=e;do{r=t.prev[--n],t.prev[n]=r>=i?r-i:0}while(--e)};let Ye=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,Xe=Ye;const Ge=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},qe=(t,e)=>{Gt(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Ge(t.strm)},$e=(t,e)=>{t.pending_buf[t.pending++]=e},He=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Ze=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=Ut(t.adler,e,i,r):2===t.state.wrap&&(t.adler=zt(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},We=(t,e)=>{let r,n,i=t.max_chain_length,s=t.strstart,o=t.prev_length,a=t.nice_match;const l=t.strstart>t.w_size-Me?t.strstart-(t.w_size-Me):0,h=t.window,u=t.w_mask,c=t.prev,f=t.strstart+ke;let d=h[s+o-1],p=h[s+o];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(r=e,h[r+o]===p&&h[r+o-1]===d&&h[r]===h[s]&&h[++r]===h[s+1]){s+=2,r++;do{}while(h[++s]===h[++r]&&h[++s]===h[++r]&&h[++s]===h[++r]&&h[++s]===h[++r]&&h[++s]===h[++r]&&h[++s]===h[++r]&&h[++s]===h[++r]&&h[++s]===h[++r]&&s<f);if(n=ke-(f-s),s=f-ke,n>o){if(t.match_start=e,o=n,n>=a)break;d=h[s+o-1],p=h[s+o]}}}while((e=c[e&u])>l&&0!==--i);return o<=t.lookahead?o:t.lookahead},Ke=t=>{const e=t.w_size;let r,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Me)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Ve(t),n+=e),0===t.strm.avail_in)break;if(r=Ze(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=xe){i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Xe(t,t.ins_h,t.window[i+1]);while(t.insert)if(t.ins_h=Xe(t,t.ins_h,t.window[i+xe-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,t.lookahead+t.insert<xe)break}}while(t.lookahead<Me&&0!==t.strm.avail_in)},Je=(t,e)=>{let r,n,i,s=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,o=0,a=t.strm.avail_in;do{if(r=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i)break;if(i=t.strm.avail_out-i,n=t.strstart-t.block_start,r>n+t.strm.avail_in&&(r=n+t.strm.avail_in),r>i&&(r=i),r<s&&(0===r&&e!==Kt||e===Ht||r!==n+t.strm.avail_in))break;o=e===Kt&&r===n+t.strm.avail_in?1:0,Xt(t,0,0,o),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,Ge(t.strm),n&&(n>r&&(n=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+n),t.strm.next_out),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n,t.block_start+=n,r-=n),r&&(Ze(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(0===o);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?Ne:e!==Ht&&e!==Kt&&0===t.strm.avail_in&&t.strstart===t.block_start?Be:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(Ze(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,s=i>t.w_size?t.w_size:i,n=t.strstart-t.block_start,(n>=s||(n||e===Kt)&&e!==Ht&&0===t.strm.avail_in&&n<=i)&&(r=n>i?i:n,o=e===Kt&&0===t.strm.avail_in&&r===n?1:0,Xt(t,t.block_start,r,o),t.block_start+=r,Ge(t.strm)),o?Ue:Oe)},Qe=(t,e)=>{let r,n;for(;;){if(t.lookahead<Me){if(Ke(t),t.lookahead<Me&&e===Ht)return Oe;if(0===t.lookahead)break}if(r=0,t.lookahead>=xe&&(t.ins_h=Xe(t,t.ins_h,t.window[t.strstart+xe-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-Me&&(t.match_length=We(t,r)),t.match_length>=xe)if(n=qt(t,t.strstart-t.match_start,t.match_length-xe),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=xe){t.match_length--;do{t.strstart++,t.ins_h=Xe(t,t.ins_h,t.window[t.strstart+xe-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Xe(t,t.ins_h,t.window[t.strstart+1]);else n=qt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(qe(t,!1),0===t.strm.avail_out))return Oe}return t.insert=t.strstart<xe-1?t.strstart:xe-1,e===Kt?(qe(t,!0),0===t.strm.avail_out?Ue:Ne):t.sym_next&&(qe(t,!1),0===t.strm.avail_out)?Oe:Be},tr=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<Me){if(Ke(t),t.lookahead<Me&&e===Ht)return Oe;if(0===t.lookahead)break}if(r=0,t.lookahead>=xe&&(t.ins_h=Xe(t,t.ins_h,t.window[t.strstart+xe-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=xe-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-Me&&(t.match_length=We(t,r),t.match_length<=5&&(t.strategy===se||t.match_length===xe&&t.strstart-t.match_start>4096)&&(t.match_length=xe-1)),t.prev_length>=xe&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-xe,n=qt(t,t.strstart-1-t.prev_match,t.prev_length-xe),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=Xe(t,t.ins_h,t.window[t.strstart+xe-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=xe-1,t.strstart++,n&&(qe(t,!1),0===t.strm.avail_out))return Oe}else if(t.match_available){if(n=qt(t,0,t.window[t.strstart-1]),n&&qe(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return Oe}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=qt(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<xe-1?t.strstart:xe-1,e===Kt?(qe(t,!0),0===t.strm.avail_out?Ue:Ne):t.sym_next&&(qe(t,!1),0===t.strm.avail_out)?Oe:Be},er=(t,e)=>{let r,n,i,s;const o=t.window;for(;;){if(t.lookahead<=ke){if(Ke(t),t.lookahead<=ke&&e===Ht)return Oe;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=xe&&t.strstart>0&&(i=t.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){s=t.strstart+ke;do{}while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s);t.match_length=ke-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=xe?(r=qt(t,1,t.match_length-xe),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=qt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(qe(t,!1),0===t.strm.avail_out))return Oe}return t.insert=0,e===Kt?(qe(t,!0),0===t.strm.avail_out?Ue:Ne):t.sym_next&&(qe(t,!1),0===t.strm.avail_out)?Oe:Be},rr=(t,e)=>{let r;for(;;){if(0===t.lookahead&&(Ke(t),0===t.lookahead)){if(e===Ht)return Oe;break}if(t.match_length=0,r=qt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(qe(t,!1),0===t.strm.avail_out))return Oe}return t.insert=0,e===Kt?(qe(t,!0),0===t.strm.avail_out?Ue:Ne):t.sym_next&&(qe(t,!1),0===t.strm.avail_out)?Oe:Be};function nr(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const ir=[new nr(0,0,0,0,Je),new nr(4,4,8,4,Qe),new nr(4,5,16,8,Qe),new nr(4,6,32,32,Qe),new nr(4,4,16,16,tr),new nr(8,16,32,32,tr),new nr(8,16,128,128,tr),new nr(8,32,128,256,tr),new nr(32,128,258,1024,tr),new nr(32,258,258,4096,tr)],sr=t=>{t.window_size=2*t.w_size,je(t.head),t.max_lazy_match=ir[t.level].max_lazy,t.good_match=ir[t.level].good_length,t.nice_match=ir[t.level].nice_length,t.max_chain_length=ir[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=xe-1,t.match_available=0,t.ins_h=0};function or(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ce,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*ve),this.dyn_dtree=new Uint16Array(2*(2*be+1)),this.bl_tree=new Uint16Array(2*(2*ye+1)),je(this.dyn_ltree),je(this.dyn_dtree),je(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(_e+1),this.heap=new Uint16Array(2*we+1),je(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*we+1),je(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ar=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Ae&&e.status!==Se&&e.status!==Re&&e.status!==Pe&&e.status!==Te&&e.status!==Ie&&e.status!==Ce&&e.status!==De?1:0},lr=t=>{if(ar(t))return Le(t,ee);t.total_in=t.total_out=0,t.data_type=ue;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?Se:e.wrap?Ae:Ce,t.adler=2===e.wrap?0:1,e.last_flush=-2,Yt(e),Qt},hr=t=>{const e=lr(t);return e===Qt&&sr(t.state),e},ur=(t,e)=>ar(t)||2!==t.state.wrap?ee:(t.state.gzhead=e,Qt),cr=(t,e,r,n,i,s)=>{if(!t)return ee;let o=1;if(e===ie&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>fe||r!==ce||n<8||n>15||e<0||e>9||s<0||s>le||8===n&&1!==o)return Le(t,ee);8===n&&(n=9);const a=new or;return t.state=a,a.strm=t,a.status=Ae,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+xe-1)/xe),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=s,a.method=r,hr(t)},fr=(t,e)=>cr(t,e,ce,de,pe,he),dr=(t,e)=>{if(ar(t)||e>Jt||e<0)return t?Le(t,ee):ee;const r=t.state;if(!t.output||0!==t.avail_in&&!t.input||r.status===De&&e!==Kt)return Le(t,0===t.avail_out?ne:ee);const n=r.last_flush;if(r.last_flush=e,0!==r.pending){if(Ge(t),0===t.avail_out)return r.last_flush=-1,Qt}else if(0===t.avail_in&&ze(e)<=ze(n)&&e!==Kt)return Le(t,ne);if(r.status===De&&0!==t.avail_in)return Le(t,ne);if(r.status===Ae&&0===r.wrap&&(r.status=Ce),r.status===Ae){let e=ce+(r.w_bits-8<<4)<<8,n=-1;if(n=r.strategy>=oe||r.level<2?0:r.level<6?1:6===r.level?2:3,e|=n<<6,0!==r.strstart&&(e|=Ee),e+=31-e%31,He(r,e),0!==r.strstart&&(He(r,t.adler>>>16),He(r,65535&t.adler)),t.adler=1,r.status=Ce,Ge(t),0!==r.pending)return r.last_flush=-1,Qt}if(r.status===Se)if(t.adler=0,$e(r,31),$e(r,139),$e(r,8),r.gzhead)$e(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),$e(r,255&r.gzhead.time),$e(r,r.gzhead.time>>8&255),$e(r,r.gzhead.time>>16&255),$e(r,r.gzhead.time>>24&255),$e(r,9===r.level?2:r.strategy>=oe||r.level<2?4:0),$e(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&($e(r,255&r.gzhead.extra.length),$e(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=zt(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=Re;else if($e(r,0),$e(r,0),$e(r,0),$e(r,0),$e(r,0),$e(r,9===r.level?2:r.strategy>=oe||r.level<2?4:0),$e(r,Fe),r.status=Ce,Ge(t),0!==r.pending)return r.last_flush=-1,Qt;if(r.status===Re){if(r.gzhead.extra){let e=r.pending,n=(65535&r.gzhead.extra.length)-r.gzindex;while(r.pending+n>r.pending_buf_size){let i=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>e&&(t.adler=zt(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex+=i,Ge(t),0!==r.pending)return r.last_flush=-1,Qt;e=0,n-=i}let i=new Uint8Array(r.gzhead.extra);r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>e&&(t.adler=zt(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex=0}r.status=Pe}if(r.status===Pe){if(r.gzhead.name){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=zt(t.adler,r.pending_buf,r.pending-n,n)),Ge(t),0!==r.pending)return r.last_flush=-1,Qt;n=0}e=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,$e(r,e)}while(0!==e);r.gzhead.hcrc&&r.pending>n&&(t.adler=zt(t.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=Te}if(r.status===Te){if(r.gzhead.comment){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=zt(t.adler,r.pending_buf,r.pending-n,n)),Ge(t),0!==r.pending)return r.last_flush=-1,Qt;n=0}e=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,$e(r,e)}while(0!==e);r.gzhead.hcrc&&r.pending>n&&(t.adler=zt(t.adler,r.pending_buf,r.pending-n,n))}r.status=Ie}if(r.status===Ie){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Ge(t),0!==r.pending))return r.last_flush=-1,Qt;$e(r,255&t.adler),$e(r,t.adler>>8&255),t.adler=0}if(r.status=Ce,Ge(t),0!==r.pending)return r.last_flush=-1,Qt}if(0!==t.avail_in||0!==r.lookahead||e!==Ht&&r.status!==De){let n=0===r.level?Je(r,e):r.strategy===oe?rr(r,e):r.strategy===ae?er(r,e):ir[r.level].func(r,e);if(n!==Ue&&n!==Ne||(r.status=De),n===Oe||n===Ue)return 0===t.avail_out&&(r.last_flush=-1),Qt;if(n===Be&&(e===Zt?$t(r):e!==Jt&&(Xt(r,0,0,!1),e===Wt&&(je(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Ge(t),0===t.avail_out))return r.last_flush=-1,Qt}return e!==Kt?Qt:r.wrap<=0?te:(2===r.wrap?($e(r,255&t.adler),$e(r,t.adler>>8&255),$e(r,t.adler>>16&255),$e(r,t.adler>>24&255),$e(r,255&t.total_in),$e(r,t.total_in>>8&255),$e(r,t.total_in>>16&255),$e(r,t.total_in>>24&255)):(He(r,t.adler>>>16),He(r,65535&t.adler)),Ge(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?Qt:te)},pr=t=>{if(ar(t))return ee;const e=t.state.status;return t.state=null,e===Ce?Le(t,re):Qt},mr=(t,e)=>{let r=e.length;if(ar(t))return ee;const n=t.state,i=n.wrap;if(2===i||1===i&&n.status!==Ae||n.lookahead)return ee;if(1===i&&(t.adler=Ut(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===i&&(je(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(r-n.w_size,r),0),e=t,r=n.w_size}const s=t.avail_in,o=t.next_in,a=t.input;t.avail_in=r,t.next_in=0,t.input=e,Ke(n);while(n.lookahead>=xe){let t=n.strstart,e=n.lookahead-(xe-1);do{n.ins_h=Xe(n,n.ins_h,n.window[t+xe-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=xe-1,Ke(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=xe-1,n.match_available=0,t.next_in=o,t.input=a,t.avail_in=s,n.wrap=i,Qt};var gr=fr,wr=cr,br=hr,yr=lr,vr=ur,_r=dr,xr=pr,kr=mr,Mr="pako deflate (from Nodeca project)",Er={deflateInit:gr,deflateInit2:wr,deflateReset:br,deflateResetKeep:yr,deflateSetHeader:vr,deflate:_r,deflateEnd:xr,deflateSetDictionary:kr,deflateInfo:Mr};const Ar=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Sr=function(t){const e=Array.prototype.slice.call(arguments,1);while(e.length){const r=e.shift();if(r){if("object"!==typeof r)throw new TypeError(r+"must be non-object");for(const e in r)Ar(r,e)&&(t[e]=r[e])}}return t},Rr=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let e=t[n];r.set(e,i),i+=e.length}return r},Pr={assign:Sr,flattenChunks:Rr};let Tr=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch($d){Tr=!1}const Ir=new Uint8Array(256);for(let Hd=0;Hd<256;Hd++)Ir[Hd]=Hd>=252?6:Hd>=248?5:Hd>=240?4:Hd>=224?3:Hd>=192?2:1;Ir[254]=Ir[254]=1;var Cr=t=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,r,n,i,s,o=t.length,a=0;for(i=0;i<o;i++)r=t.charCodeAt(i),55296===(64512&r)&&i+1<o&&(n=t.charCodeAt(i+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)r=t.charCodeAt(i),55296===(64512&r)&&i+1<o&&(n=t.charCodeAt(i+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|63&r):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|63&r):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|63&r);return e};const Dr=(t,e)=>{if(e<65534&&t.subarray&&Tr)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var Or=(t,e)=>{const r=e||t.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let n,i;const s=new Array(2*r);for(i=0,n=0;n<r;){let e=t[n++];if(e<128){s[i++]=e;continue}let o=Ir[e];if(o>4)s[i++]=65533,n+=o-1;else{e&=2===o?31:3===o?15:7;while(o>1&&n<r)e=e<<6|63&t[n++],o--;o>1?s[i++]=65533:e<65536?s[i++]=e:(e-=65536,s[i++]=55296|e>>10&1023,s[i++]=56320|1023&e)}}return Dr(s,i)},Br=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;while(r>=0&&128===(192&t[r]))r--;return r<0||0===r?e:r+Ir[t[r]]>e?r:e},Ur={string2buf:Cr,buf2string:Or,utf8border:Br};function Nr(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Fr=Nr;const Lr=Object.prototype.toString,{Z_NO_FLUSH:zr,Z_SYNC_FLUSH:jr,Z_FULL_FLUSH:Vr,Z_FINISH:Yr,Z_OK:Xr,Z_STREAM_END:Gr,Z_DEFAULT_COMPRESSION:qr,Z_DEFAULT_STRATEGY:$r,Z_DEFLATED:Hr}=Vt;function Zr(t){this.options=Pr.assign({level:qr,method:Hr,chunkSize:16384,windowBits:15,memLevel:8,strategy:$r},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Fr,this.strm.avail_out=0;let r=Er.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Xr)throw new Error(jt[r]);if(e.header&&Er.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"===typeof e.dictionary?Ur.string2buf(e.dictionary):"[object ArrayBuffer]"===Lr.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=Er.deflateSetDictionary(this.strm,t),r!==Xr)throw new Error(jt[r]);this._dict_set=!0}}function Wr(t,e){const r=new Zr(e);if(r.push(t,!0),r.err)throw r.msg||jt[r.err];return r.result}function Kr(t,e){return e=e||{},e.raw=!0,Wr(t,e)}function Jr(t,e){return e=e||{},e.gzip=!0,Wr(t,e)}Zr.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,s;if(this.ended)return!1;for(s=e===~~e?e:!0===e?Yr:zr,"string"===typeof t?r.input=Ur.string2buf(t):"[object ArrayBuffer]"===Lr.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===jr||s===Vr)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(i=Er.deflate(r,s),i===Gr)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Er.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Xr;if(0!==r.avail_out){if(s>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Zr.prototype.onData=function(t){this.chunks.push(t)},Zr.prototype.onEnd=function(t){t===Xr&&(this.result=Pr.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Qr=Zr,tn=Wr,en=Kr,rn=Jr,nn=Vt,sn={Deflate:Qr,deflate:tn,deflateRaw:en,gzip:rn,constants:nn};const on=16209,an=16191;var ln=function(t,e){let r,n,i,s,o,a,l,h,u,c,f,d,p,m,g,w,b,y,v,_,x,k,M,E;const A=t.state;r=t.next_in,M=t.input,n=r+(t.avail_in-5),i=t.next_out,E=t.output,s=i-(e-t.avail_out),o=i+(t.avail_out-257),a=A.dmax,l=A.wsize,h=A.whave,u=A.wnext,c=A.window,f=A.hold,d=A.bits,p=A.lencode,m=A.distcode,g=(1<<A.lenbits)-1,w=(1<<A.distbits)-1;t:do{d<15&&(f+=M[r++]<<d,d+=8,f+=M[r++]<<d,d+=8),b=p[f&g];e:for(;;){if(y=b>>>24,f>>>=y,d-=y,y=b>>>16&255,0===y)E[i++]=65535&b;else{if(!(16&y)){if(0===(64&y)){b=p[(65535&b)+(f&(1<<y)-1)];continue e}if(32&y){A.mode=an;break t}t.msg="invalid literal/length code",A.mode=on;break t}v=65535&b,y&=15,y&&(d<y&&(f+=M[r++]<<d,d+=8),v+=f&(1<<y)-1,f>>>=y,d-=y),d<15&&(f+=M[r++]<<d,d+=8,f+=M[r++]<<d,d+=8),b=m[f&w];r:for(;;){if(y=b>>>24,f>>>=y,d-=y,y=b>>>16&255,!(16&y)){if(0===(64&y)){b=m[(65535&b)+(f&(1<<y)-1)];continue r}t.msg="invalid distance code",A.mode=on;break t}if(_=65535&b,y&=15,d<y&&(f+=M[r++]<<d,d+=8,d<y&&(f+=M[r++]<<d,d+=8)),_+=f&(1<<y)-1,_>a){t.msg="invalid distance too far back",A.mode=on;break t}if(f>>>=y,d-=y,y=i-s,_>y){if(y=_-y,y>h&&A.sane){t.msg="invalid distance too far back",A.mode=on;break t}if(x=0,k=c,0===u){if(x+=l-y,y<v){v-=y;do{E[i++]=c[x++]}while(--y);x=i-_,k=E}}else if(u<y){if(x+=l+u-y,y-=u,y<v){v-=y;do{E[i++]=c[x++]}while(--y);if(x=0,u<v){y=u,v-=y;do{E[i++]=c[x++]}while(--y);x=i-_,k=E}}}else if(x+=u-y,y<v){v-=y;do{E[i++]=c[x++]}while(--y);x=i-_,k=E}while(v>2)E[i++]=k[x++],E[i++]=k[x++],E[i++]=k[x++],v-=3;v&&(E[i++]=k[x++],v>1&&(E[i++]=k[x++]))}else{x=i-_;do{E[i++]=E[x++],E[i++]=E[x++],E[i++]=E[x++],v-=3}while(v>2);v&&(E[i++]=E[x++],v>1&&(E[i++]=E[x++]))}break}}break}}while(r<n&&i<o);v=d>>3,r-=v,d-=v<<3,f&=(1<<d)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=i<o?o-i+257:257-(i-o),A.hold=f,A.bits=d};const hn=15,un=852,cn=592,fn=0,dn=1,pn=2,mn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),gn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),wn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),bn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),yn=(t,e,r,n,i,s,o,a)=>{const l=a.bits;let h,u,c,f,d,p,m=0,g=0,w=0,b=0,y=0,v=0,_=0,x=0,k=0,M=0,E=null;const A=new Uint16Array(hn+1),S=new Uint16Array(hn+1);let R,P,T,I=null;for(m=0;m<=hn;m++)A[m]=0;for(g=0;g<n;g++)A[e[r+g]]++;for(y=l,b=hn;b>=1;b--)if(0!==A[b])break;if(y>b&&(y=b),0===b)return i[s++]=20971520,i[s++]=20971520,a.bits=1,0;for(w=1;w<b;w++)if(0!==A[w])break;for(y<w&&(y=w),x=1,m=1;m<=hn;m++)if(x<<=1,x-=A[m],x<0)return-1;if(x>0&&(t===fn||1!==b))return-1;for(S[1]=0,m=1;m<hn;m++)S[m+1]=S[m]+A[m];for(g=0;g<n;g++)0!==e[r+g]&&(o[S[e[r+g]]++]=g);if(t===fn?(E=I=o,p=20):t===dn?(E=mn,I=gn,p=257):(E=wn,I=bn,p=0),M=0,g=0,m=w,d=s,v=y,_=0,c=-1,k=1<<y,f=k-1,t===dn&&k>un||t===pn&&k>cn)return 1;for(;;){R=m-_,o[g]+1<p?(P=0,T=o[g]):o[g]>=p?(P=I[o[g]-p],T=E[o[g]-p]):(P=96,T=0),h=1<<m-_,u=1<<v,w=u;do{u-=h,i[d+(M>>_)+u]=R<<24|P<<16|T|0}while(0!==u);h=1<<m-1;while(M&h)h>>=1;if(0!==h?(M&=h-1,M+=h):M=0,g++,0===--A[m]){if(m===b)break;m=e[r+o[g]]}if(m>y&&(M&f)!==c){0===_&&(_=y),d+=w,v=m-_,x=1<<v;while(v+_<b){if(x-=A[v+_],x<=0)break;v++,x<<=1}if(k+=1<<v,t===dn&&k>un||t===pn&&k>cn)return 1;c=M&f,i[c]=y<<24|v<<16|d-s|0}}return 0!==M&&(i[d+M]=m-_<<24|64<<16|0),a.bits=y,0};var vn=yn;const _n=0,xn=1,kn=2,{Z_FINISH:Mn,Z_BLOCK:En,Z_TREES:An,Z_OK:Sn,Z_STREAM_END:Rn,Z_NEED_DICT:Pn,Z_STREAM_ERROR:Tn,Z_DATA_ERROR:In,Z_MEM_ERROR:Cn,Z_BUF_ERROR:Dn,Z_DEFLATED:On}=Vt,Bn=16180,Un=16181,Nn=16182,Fn=16183,Ln=16184,zn=16185,jn=16186,Vn=16187,Yn=16188,Xn=16189,Gn=16190,qn=16191,$n=16192,Hn=16193,Zn=16194,Wn=16195,Kn=16196,Jn=16197,Qn=16198,ti=16199,ei=16200,ri=16201,ni=16202,ii=16203,si=16204,oi=16205,ai=16206,li=16207,hi=16208,ui=16209,ci=16210,fi=16211,di=852,pi=592,mi=15,gi=mi,wi=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function bi(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const yi=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Bn||e.mode>fi?1:0},vi=t=>{if(yi(t))return Tn;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=Bn,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(di),e.distcode=e.distdyn=new Int32Array(pi),e.sane=1,e.back=-1,Sn},_i=t=>{if(yi(t))return Tn;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,vi(t)},xi=(t,e)=>{let r;if(yi(t))return Tn;const n=t.state;return e<0?(r=0,e=-e):(r=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Tn:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,_i(t))},ki=(t,e)=>{if(!t)return Tn;const r=new bi;t.state=r,r.strm=t,r.window=null,r.mode=Bn;const n=xi(t,e);return n!==Sn&&(t.state=null),n},Mi=t=>ki(t,gi);let Ei,Ai,Si=!0;const Ri=t=>{if(Si){Ei=new Int32Array(512),Ai=new Int32Array(32);let e=0;while(e<144)t.lens[e++]=8;while(e<256)t.lens[e++]=9;while(e<280)t.lens[e++]=7;while(e<288)t.lens[e++]=8;vn(xn,t.lens,0,288,Ei,0,t.work,{bits:9}),e=0;while(e<32)t.lens[e++]=5;vn(kn,t.lens,0,32,Ai,0,t.work,{bits:5}),Si=!1}t.lencode=Ei,t.lenbits=9,t.distcode=Ai,t.distbits=5},Pi=(t,e,r,n)=>{let i;const s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},Ti=(t,e)=>{let r,n,i,s,o,a,l,h,u,c,f,d,p,m,g,w,b,y,v,_,x,k,M=0;const E=new Uint8Array(4);let A,S;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(yi(t)||!t.output||!t.input&&0!==t.avail_in)return Tn;r=t.state,r.mode===qn&&(r.mode=$n),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,h=r.hold,u=r.bits,c=a,f=l,k=Sn;t:for(;;)switch(r.mode){case Bn:if(0===r.wrap){r.mode=$n;break}while(u<16){if(0===a)break t;a--,h+=n[s++]<<u,u+=8}if(2&r.wrap&&35615===h){0===r.wbits&&(r.wbits=15),r.check=0,E[0]=255&h,E[1]=h>>>8&255,r.check=zt(r.check,E,2,0),h=0,u=0,r.mode=Un;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",r.mode=ui;break}if((15&h)!==On){t.msg="unknown compression method",r.mode=ui;break}if(h>>>=4,u-=4,x=8+(15&h),0===r.wbits&&(r.wbits=x),x>15||x>r.wbits){t.msg="invalid window size",r.mode=ui;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=512&h?Xn:qn,h=0,u=0;break;case Un:while(u<16){if(0===a)break t;a--,h+=n[s++]<<u,u+=8}if(r.flags=h,(255&r.flags)!==On){t.msg="unknown compression method",r.mode=ui;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=ui;break}r.head&&(r.head.text=h>>8&1),512&r.flags&&4&r.wrap&&(E[0]=255&h,E[1]=h>>>8&255,r.check=zt(r.check,E,2,0)),h=0,u=0,r.mode=Nn;case Nn:while(u<32){if(0===a)break t;a--,h+=n[s++]<<u,u+=8}r.head&&(r.head.time=h),512&r.flags&&4&r.wrap&&(E[0]=255&h,E[1]=h>>>8&255,E[2]=h>>>16&255,E[3]=h>>>24&255,r.check=zt(r.check,E,4,0)),h=0,u=0,r.mode=Fn;case Fn:while(u<16){if(0===a)break t;a--,h+=n[s++]<<u,u+=8}r.head&&(r.head.xflags=255&h,r.head.os=h>>8),512&r.flags&&4&r.wrap&&(E[0]=255&h,E[1]=h>>>8&255,r.check=zt(r.check,E,2,0)),h=0,u=0,r.mode=Ln;case Ln:if(1024&r.flags){while(u<16){if(0===a)break t;a--,h+=n[s++]<<u,u+=8}r.length=h,r.head&&(r.head.extra_len=h),512&r.flags&&4&r.wrap&&(E[0]=255&h,E[1]=h>>>8&255,r.check=zt(r.check,E,2,0)),h=0,u=0}else r.head&&(r.head.extra=null);r.mode=zn;case zn:if(1024&r.flags&&(d=r.length,d>a&&(d=a),d&&(r.head&&(x=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+d),x)),512&r.flags&&4&r.wrap&&(r.check=zt(r.check,n,d,s)),a-=d,s+=d,r.length-=d),r.length))break t;r.length=0,r.mode=jn;case jn:if(2048&r.flags){if(0===a)break t;d=0;do{x=n[s+d++],r.head&&x&&r.length<65536&&(r.head.name+=String.fromCharCode(x))}while(x&&d<a);if(512&r.flags&&4&r.wrap&&(r.check=zt(r.check,n,d,s)),a-=d,s+=d,x)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=Vn;case Vn:if(4096&r.flags){if(0===a)break t;d=0;do{x=n[s+d++],r.head&&x&&r.length<65536&&(r.head.comment+=String.fromCharCode(x))}while(x&&d<a);if(512&r.flags&&4&r.wrap&&(r.check=zt(r.check,n,d,s)),a-=d,s+=d,x)break t}else r.head&&(r.head.comment=null);r.mode=Yn;case Yn:if(512&r.flags){while(u<16){if(0===a)break t;a--,h+=n[s++]<<u,u+=8}if(4&r.wrap&&h!==(65535&r.check)){t.msg="header crc mismatch",r.mode=ui;break}h=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=qn;break;case Xn:while(u<32){if(0===a)break t;a--,h+=n[s++]<<u,u+=8}t.adler=r.check=wi(h),h=0,u=0,r.mode=Gn;case Gn:if(0===r.havedict)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,r.hold=h,r.bits=u,Pn;t.adler=r.check=1,r.mode=qn;case qn:if(e===En||e===An)break t;case $n:if(r.last){h>>>=7&u,u-=7&u,r.mode=ai;break}while(u<3){if(0===a)break t;a--,h+=n[s++]<<u,u+=8}switch(r.last=1&h,h>>>=1,u-=1,3&h){case 0:r.mode=Hn;break;case 1:if(Ri(r),r.mode=ti,e===An){h>>>=2,u-=2;break t}break;case 2:r.mode=Kn;break;case 3:t.msg="invalid block type",r.mode=ui}h>>>=2,u-=2;break;case Hn:h>>>=7&u,u-=7&u;while(u<32){if(0===a)break t;a--,h+=n[s++]<<u,u+=8}if((65535&h)!==(h>>>16^65535)){t.msg="invalid stored block lengths",r.mode=ui;break}if(r.length=65535&h,h=0,u=0,r.mode=Zn,e===An)break t;case Zn:r.mode=Wn;case Wn:if(d=r.length,d){if(d>a&&(d=a),d>l&&(d=l),0===d)break t;i.set(n.subarray(s,s+d),o),a-=d,s+=d,l-=d,o+=d,r.length-=d;break}r.mode=qn;break;case Kn:while(u<14){if(0===a)break t;a--,h+=n[s++]<<u,u+=8}if(r.nlen=257+(31&h),h>>>=5,u-=5,r.ndist=1+(31&h),h>>>=5,u-=5,r.ncode=4+(15&h),h>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=ui;break}r.have=0,r.mode=Jn;case Jn:while(r.have<r.ncode){while(u<3){if(0===a)break t;a--,h+=n[s++]<<u,u+=8}r.lens[R[r.have++]]=7&h,h>>>=3,u-=3}while(r.have<19)r.lens[R[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,A={bits:r.lenbits},k=vn(_n,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits=A.bits,k){t.msg="invalid code lengths set",r.mode=ui;break}r.have=0,r.mode=Qn;case Qn:while(r.have<r.nlen+r.ndist){for(;;){if(M=r.lencode[h&(1<<r.lenbits)-1],g=M>>>24,w=M>>>16&255,b=65535&M,g<=u)break;if(0===a)break t;a--,h+=n[s++]<<u,u+=8}if(b<16)h>>>=g,u-=g,r.lens[r.have++]=b;else{if(16===b){S=g+2;while(u<S){if(0===a)break t;a--,h+=n[s++]<<u,u+=8}if(h>>>=g,u-=g,0===r.have){t.msg="invalid bit length repeat",r.mode=ui;break}x=r.lens[r.have-1],d=3+(3&h),h>>>=2,u-=2}else if(17===b){S=g+3;while(u<S){if(0===a)break t;a--,h+=n[s++]<<u,u+=8}h>>>=g,u-=g,x=0,d=3+(7&h),h>>>=3,u-=3}else{S=g+7;while(u<S){if(0===a)break t;a--,h+=n[s++]<<u,u+=8}h>>>=g,u-=g,x=0,d=11+(127&h),h>>>=7,u-=7}if(r.have+d>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=ui;break}while(d--)r.lens[r.have++]=x}}if(r.mode===ui)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=ui;break}if(r.lenbits=9,A={bits:r.lenbits},k=vn(xn,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits=A.bits,k){t.msg="invalid literal/lengths set",r.mode=ui;break}if(r.distbits=6,r.distcode=r.distdyn,A={bits:r.distbits},k=vn(kn,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits=A.bits,k){t.msg="invalid distances set",r.mode=ui;break}if(r.mode=ti,e===An)break t;case ti:r.mode=ei;case ei:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,r.hold=h,r.bits=u,ln(t,f),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,h=r.hold,u=r.bits,r.mode===qn&&(r.back=-1);break}for(r.back=0;;){if(M=r.lencode[h&(1<<r.lenbits)-1],g=M>>>24,w=M>>>16&255,b=65535&M,g<=u)break;if(0===a)break t;a--,h+=n[s++]<<u,u+=8}if(w&&0===(240&w)){for(y=g,v=w,_=b;;){if(M=r.lencode[_+((h&(1<<y+v)-1)>>y)],g=M>>>24,w=M>>>16&255,b=65535&M,y+g<=u)break;if(0===a)break t;a--,h+=n[s++]<<u,u+=8}h>>>=y,u-=y,r.back+=y}if(h>>>=g,u-=g,r.back+=g,r.length=b,0===w){r.mode=oi;break}if(32&w){r.back=-1,r.mode=qn;break}if(64&w){t.msg="invalid literal/length code",r.mode=ui;break}r.extra=15&w,r.mode=ri;case ri:if(r.extra){S=r.extra;while(u<S){if(0===a)break t;a--,h+=n[s++]<<u,u+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=ni;case ni:for(;;){if(M=r.distcode[h&(1<<r.distbits)-1],g=M>>>24,w=M>>>16&255,b=65535&M,g<=u)break;if(0===a)break t;a--,h+=n[s++]<<u,u+=8}if(0===(240&w)){for(y=g,v=w,_=b;;){if(M=r.distcode[_+((h&(1<<y+v)-1)>>y)],g=M>>>24,w=M>>>16&255,b=65535&M,y+g<=u)break;if(0===a)break t;a--,h+=n[s++]<<u,u+=8}h>>>=y,u-=y,r.back+=y}if(h>>>=g,u-=g,r.back+=g,64&w){t.msg="invalid distance code",r.mode=ui;break}r.offset=b,r.extra=15&w,r.mode=ii;case ii:if(r.extra){S=r.extra;while(u<S){if(0===a)break t;a--,h+=n[s++]<<u,u+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=ui;break}r.mode=si;case si:if(0===l)break t;if(d=f-l,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=ui;break}d>r.wnext?(d-=r.wnext,p=r.wsize-d):p=r.wnext-d,d>r.length&&(d=r.length),m=r.window}else m=i,p=o-r.offset,d=r.length;d>l&&(d=l),l-=d,r.length-=d;do{i[o++]=m[p++]}while(--d);0===r.length&&(r.mode=ei);break;case oi:if(0===l)break t;i[o++]=r.length,l--,r.mode=ei;break;case ai:if(r.wrap){while(u<32){if(0===a)break t;a--,h|=n[s++]<<u,u+=8}if(f-=l,t.total_out+=f,r.total+=f,4&r.wrap&&f&&(t.adler=r.check=r.flags?zt(r.check,i,f,o-f):Ut(r.check,i,f,o-f)),f=l,4&r.wrap&&(r.flags?h:wi(h))!==r.check){t.msg="incorrect data check",r.mode=ui;break}h=0,u=0}r.mode=li;case li:if(r.wrap&&r.flags){while(u<32){if(0===a)break t;a--,h+=n[s++]<<u,u+=8}if(4&r.wrap&&h!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=ui;break}h=0,u=0}r.mode=hi;case hi:k=Rn;break t;case ui:k=In;break t;case ci:return Cn;case fi:default:return Tn}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,r.hold=h,r.bits=u,(r.wsize||f!==t.avail_out&&r.mode<ui&&(r.mode<ai||e!==Mn))&&Pi(t,t.output,t.next_out,f-t.avail_out),c-=t.avail_in,f-=t.avail_out,t.total_in+=c,t.total_out+=f,r.total+=f,4&r.wrap&&f&&(t.adler=r.check=r.flags?zt(r.check,i,f,t.next_out-f):Ut(r.check,i,f,t.next_out-f)),t.data_type=r.bits+(r.last?64:0)+(r.mode===qn?128:0)+(r.mode===ti||r.mode===Zn?256:0),(0===c&&0===f||e===Mn)&&k===Sn&&(k=Dn),k},Ii=t=>{if(yi(t))return Tn;let e=t.state;return e.window&&(e.window=null),t.state=null,Sn},Ci=(t,e)=>{if(yi(t))return Tn;const r=t.state;return 0===(2&r.wrap)?Tn:(r.head=e,e.done=!1,Sn)},Di=(t,e)=>{const r=e.length;let n,i,s;return yi(t)?Tn:(n=t.state,0!==n.wrap&&n.mode!==Gn?Tn:n.mode===Gn&&(i=1,i=Ut(i,e,r,0),i!==n.check)?In:(s=Pi(t,e,r,r),s?(n.mode=ci,Cn):(n.havedict=1,Sn)))};var Oi=_i,Bi=xi,Ui=vi,Ni=Mi,Fi=ki,Li=Ti,zi=Ii,ji=Ci,Vi=Di,Yi="pako inflate (from Nodeca project)",Xi={inflateReset:Oi,inflateReset2:Bi,inflateResetKeep:Ui,inflateInit:Ni,inflateInit2:Fi,inflate:Li,inflateEnd:zi,inflateGetHeader:ji,inflateSetDictionary:Vi,inflateInfo:Yi};function Gi(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var qi=Gi;const $i=Object.prototype.toString,{Z_NO_FLUSH:Hi,Z_FINISH:Zi,Z_OK:Wi,Z_STREAM_END:Ki,Z_NEED_DICT:Ji,Z_STREAM_ERROR:Qi,Z_DATA_ERROR:ts,Z_MEM_ERROR:es}=Vt;function rs(t){this.options=Pr.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Fr,this.strm.avail_out=0;let r=Xi.inflateInit2(this.strm,e.windowBits);if(r!==Wi)throw new Error(jt[r]);if(this.header=new qi,Xi.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"===typeof e.dictionary?e.dictionary=Ur.string2buf(e.dictionary):"[object ArrayBuffer]"===$i.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Xi.inflateSetDictionary(this.strm,e.dictionary),r!==Wi)))throw new Error(jt[r])}function ns(t,e){const r=new rs(e);if(r.push(t),r.err)throw r.msg||jt[r.err];return r.result}function is(t,e){return e=e||{},e.raw=!0,ns(t,e)}rs.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(o=e===~~e?e:!0===e?Zi:Hi,"[object ArrayBuffer]"===$i.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=Xi.inflate(r,o),s===Ji&&i&&(s=Xi.inflateSetDictionary(r,i),s===Wi?s=Xi.inflate(r,o):s===ts&&(s=Ji));while(r.avail_in>0&&s===Ki&&r.state.wrap>0&&0!==t[r.next_in])Xi.inflateReset(r),s=Xi.inflate(r,o);switch(s){case Qi:case ts:case Ji:case es:return this.onEnd(s),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(0===r.avail_out||s===Ki))if("string"===this.options.to){let t=Ur.utf8border(r.output,r.next_out),e=r.next_out-t,i=Ur.buf2string(r.output,t);r.next_out=e,r.avail_out=n-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(s!==Wi||0!==a){if(s===Ki)return s=Xi.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},rs.prototype.onData=function(t){this.chunks.push(t)},rs.prototype.onEnd=function(t){t===Wi&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Pr.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ss=rs,os=ns,as=is,ls=ns,hs=Vt,us={Inflate:ss,inflate:os,inflateRaw:as,ungzip:ls,constants:hs};const{Deflate:cs,deflate:fs,deflateRaw:ds,gzip:ps}=sn,{Inflate:ms,inflate:gs,inflateRaw:ws,ungzip:bs}=us;var ys=fs,vs=ms,_s=gs;const xs=[137,80,78,71,13,10,26,10],ks=[];for(let Hd=0;Hd<256;Hd++){let t=Hd;for(let e=0;e<8;e++)1&t?t=3988292384^t>>>1:t>>>=1;ks[Hd]=t}const Ms=4294967295;function Es(t,e,r){let n=t;for(let i=0;i<r;i++)n=ks[255&(n^e[i])]^n>>>8;return n}function As(t,e){return(Es(Ms,t,e)^Ms)>>>0}var Ss,Rs,Ps,Ts;(function(t){t[t["UNKNOWN"]=-1]="UNKNOWN",t[t["GREYSCALE"]=0]="GREYSCALE",t[t["TRUECOLOUR"]=2]="TRUECOLOUR",t[t["INDEXED_COLOUR"]=3]="INDEXED_COLOUR",t[t["GREYSCALE_ALPHA"]=4]="GREYSCALE_ALPHA",t[t["TRUECOLOUR_ALPHA"]=6]="TRUECOLOUR_ALPHA"})(Ss||(Ss={})),function(t){t[t["UNKNOWN"]=-1]="UNKNOWN",t[t["DEFLATE"]=0]="DEFLATE"}(Rs||(Rs={})),function(t){t[t["UNKNOWN"]=-1]="UNKNOWN",t[t["ADAPTIVE"]=0]="ADAPTIVE"}(Ps||(Ps={})),function(t){t[t["UNKNOWN"]=-1]="UNKNOWN",t[t["NO_INTERLACE"]=0]="NO_INTERLACE",t[t["ADAM7"]=1]="ADAM7"}(Ts||(Ts={}));const Is=new Uint8Array(0),Cs="\0",Ds=new Uint16Array([255]),Os=new Uint8Array(Ds.buffer),Bs=255===Os[0];class Us extends w.IOBuffer{constructor(t,e={}){super(t);const{checkCrc:r=!1}=e;this._checkCrc=r,this._inflator=new vs,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Rs.UNKNOWN,this._filterMethod=Ps.UNKNOWN,this._interlaceMethod=Ts.UNKNOWN,this._colorType=Ss.UNKNOWN,this.setBigEndian()}decode(){this.decodeSignature();while(!this._end)this.decodeChunk();return this.decodeImage(),this._png}decodeSignature(){for(let t=0;t<xs.length;t++)if(this.readUint8()!==xs[t])throw new Error(`wrong PNG signature. Byte at ${t} should be ${xs[t]}.`)}decodeChunk(){const t=this.readUint32(),e=this.readChars(4),r=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case"tEXt":this.decodetEXt(t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);if(this._checkCrc){const r=this.readUint32(),n=t+4,i=As(new Uint8Array(this.buffer,this.byteOffset+this.offset-n-4,n),n);if(i!==r)throw new Error(`CRC mismatch for chunk ${e}. Expected ${r}, found ${i}`)}else this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=Xs(this.readUint8());const e=this.readUint8();let r;switch(this._colorType=e,e){case Ss.GREYSCALE:r=1;break;case Ss.TRUECOLOUR:r=3;break;case Ss.INDEXED_COLOUR:r=1;break;case Ss.GREYSCALE_ALPHA:r=2;break;case Ss.TRUECOLOUR_ALPHA:r=4;break;default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Rs.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let n=0;n<e;n++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,t)),this.skip(t)}decodetRNS(t){switch(this._colorType){case Ss.GREYSCALE:case Ss.TRUECOLOUR:if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break;case Ss.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const t=this.readByte();this._palette[e].push(t)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){let e,r="";while((e=this.readChar())!==Cs)r+=e;const n=this.readUint8();if(n!==Rs.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:_s(i)}}decodetEXt(t){let e,r="";while((e=this.readChar())!==Cs)r+=e;this._png.text[r]=this.readChars(t-r.length-1)}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:e,unit:r}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._inflator.result;if(this._filterMethod!==Ps.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod!==Ts.NO_INTERLACE)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this.decodeInterlaceNull(t)}decodeInterlaceNull(t){const e=this._png.height,r=this._png.channels*this._png.depth/8,n=this._png.width*r,i=new Uint8Array(this._png.height*n);let s,o,a=Is,l=0;for(let h=0;h<e;h++){switch(s=t.subarray(l+1,l+1+n),o=i.subarray(h*n,(h+1)*n),t[l]){case 0:Ns(s,o,n);break;case 1:Fs(s,o,n,r);break;case 2:Ls(s,o,a,n);break;case 3:zs(s,o,a,n,r);break;case 4:js(s,o,a,n,r);break;default:throw new Error(`Unsupported filter: ${t[l]}`)}a=o,l+=n+1}if(this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency),16===this._png.depth){const t=new Uint16Array(i.buffer);if(Bs)for(let e=0;e<t.length;e++)t[e]=Ys(t[e]);this._png.data=t}else this._png.data=i}}function Ns(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function Fs(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function Ls(t,e,r,n){let i=0;if(0===r.length)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function zs(t,e,r,n,i){let s=0;if(0===r.length){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-i]+r[s]>>1)&255}}function js(t,e,r,n,i){let s=0;if(0===r.length){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+Vs(e[s-i],r[s],r[s-i])&255}}function Vs(t,e,r){const n=t+e-r,i=Math.abs(n-t),s=Math.abs(n-e),o=Math.abs(n-r);return i<=s&&i<=o?t:s<=o?e:r}function Ys(t){return(255&t)<<8|t>>8&255}function Xs(t){if(1!==t&&2!==t&&4!==t&&8!==t&&16!==t)throw new Error(`invalid bit depth: ${t}`);return t}const Gs={level:3};class qs extends w.IOBuffer{constructor(t,e={}){super(),this._colorType=Ss.UNKNOWN,this._zlibOptions={...Gs,...e.zlib},this._png=this._checkData(t),this.setBigEndian()}encode(){return this.encodeSignature(),this.encodeIHDR(),this.encodeData(),this.encodeIEND(),this.toArray()}encodeSignature(){this.writeBytes(xs)}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(Rs.DEFLATE),this.writeByte(Ps.ADAPTIVE),this.writeByte(Ts.NO_INTERLACE),this.writeCrc(17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),this.writeCrc(4)}encodeIDAT(t){this.writeUint32(t.length),this.writeChars("IDAT"),this.writeBytes(t),this.writeCrc(t.length+4)}encodeData(){const{width:t,height:e,channels:r,depth:n,data:i}=this._png,s=r*t,o=(new w.IOBuffer).setBigEndian();let a=0;for(let u=0;u<e;u++)if(o.writeByte(0),8===n)a=Zs(i,o,s,a);else{if(16!==n)throw new Error("unreachable");a=Ws(i,o,s,a)}const l=o.toArray(),h=ys(l,this._zlibOptions);this.encodeIDAT(h)}_checkData(t){const{colorType:e,channels:r,depth:n}=Hs(t),i={width:$s(t.width,"width"),height:$s(t.height,"height"),channels:r,data:t.data,depth:n,text:{}};this._colorType=e;const s=i.width*i.height*r;if(i.data.length!==s)throw new RangeError(`wrong data size. Found ${i.data.length}, expected ${s}`);return i}writeCrc(t){this.writeUint32(As(new Uint8Array(this.buffer,this.byteOffset+this.offset-t,t),t))}}function $s(t,e){if(Number.isInteger(t)&&t>0)return t;throw new TypeError(`${e} must be a positive integer`)}function Hs(t){const{channels:e=4,depth:r=8}=t;if(4!==e&&3!==e&&2!==e&&1!==e)throw new RangeError(`unsupported number of channels: ${e}`);if(8!==r&&16!==r)throw new RangeError(`unsupported bit depth: ${r}`);const n={channels:e,depth:r,colorType:Ss.UNKNOWN};switch(e){case 4:n.colorType=Ss.TRUECOLOUR_ALPHA;break;case 3:n.colorType=Ss.TRUECOLOUR;break;case 1:n.colorType=Ss.GREYSCALE;break;case 2:n.colorType=Ss.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return n}function Zs(t,e,r,n){for(let i=0;i<r;i++)e.writeByte(t[n++]);return n}function Ws(t,e,r,n){for(let i=0;i<r;i++)e.writeUint16(t[n++]);return n}var Ks;function Js(t,e){const r=new Us(t,e);return r.decode()}function Qs(t,e){const r=new qs(t,e);return r.encode()}(function(t){t[t["UNKNOWN"]=0]="UNKNOWN",t[t["METRE"]=1]="METRE"})(Ks||(Ks={}));var to=r(3791);let eo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ro=new Uint8Array(256);for(let Hd=0;Hd<eo.length;Hd++)ro[eo.charCodeAt(Hd)]=Hd;function no(t){let e,r=t.length,n="";for(e=0;e<r;e+=3)n+=eo[t[e]>>2],n+=eo[(3&t[e])<<4|t[e+1]>>4],n+=eo[(15&t[e+1])<<2|t[e+2]>>6],n+=eo[63&t[e+2]];return r%3===2?n=`${n.substring(0,n.length-1)}=`:r%3===1&&(n=`${n.substring(0,n.length-2)}==`),n}function io(t){let e,r,n,i,s=.75*t.length,o=t.length,a=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);const l=new Uint8Array(s);for(let h=0;h<o;h+=4)e=ro[t.charCodeAt(h)],r=ro[t.charCodeAt(h+1)],n=ro[t.charCodeAt(h+2)],i=ro[t.charCodeAt(h+3)],l[a++]=e<<2|r>>4,l[a++]=(15&r)<<4|n>>2,l[a++]=(3&n)<<6|63&i;return l}function so(t,e){const r=no(t);return`data:${e};base64,${r}`}const oo=self.ImageData,ao=self.Image;function lo(t,e){let r=self.document.createElement("canvas");return r.width=t,r.height=e,r}function ho(t,{withCredentials:e=!1}={}){return new Promise((function(r,n){let i=new self.XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.withCredentials=e,i.onload=function(t){200!==this.status?n(t):r(this.response)},i.onerror=n,i.send()}))}function uo(){throw new Error("createWriteStream does not exist in the browser")}function co(){throw new Error("writeFile does not exist in the browser")}function fo(t){return t.includes("/")||(t=`image/${t}`),t}function po(t,e={}){const r={width:t.width,height:t.height,data:t.getRGBAData()};return(0,to.encode)(r,e.quality).data}function mo(t,e){const r={width:t.width,height:t.height,channels:t.channels,depth:t.bitDepth,data:t.data};return 1!==r.depth&&32!==r.depth||(r.depth=8,r.channels=4,r.data=t.getRGBAData()),Qs(r,e)}const go={save(t,e={}){const{useCanvas:r=!1,encoder:n}=e;let{format:i}=e;if(!i){const e=/\.(?<format>[a-zA-Z]+)$/.exec(t);e&&(i=e.groups.format.toLowerCase())}if(!i)throw new Error("file format not provided");return new Promise(((e,s)=>{let o,a;switch(i.toLowerCase()){case"png":r?o=this.getCanvas().pngStream():a=mo(this,n);break;case"jpg":case"jpeg":r?o=this.getCanvas().jpegStream():a=po(this,n);break;case"bmp":a=(0,g.c)(this,n);break;default:throw new RangeError(`invalid output format: ${i}`)}if(o){let r=uo(t);r.on("finish",e),r.on("error",s),o.pipe(r)}else a&&co(t,a,(t=>{t?s(t):e()}))}))},toDataURL(t="image/png",e={}){"object"===typeof t&&(e=t,t="image/png");const{useCanvas:r=!1,encoder:n}=e;function i(e,r){const i=e(r,n);return so(i,t)}return t=fo(t),"image/bmp"===t?i(g.c,this):"image/png"!==t||r?"image/jpeg"!==t||r?this.getCanvas().toDataURL(t):i(po,this):i(mo,this)},toBuffer(t={}){const{format:e="png",encoder:r}=t;switch(e.toLowerCase()){case"png":return mo(this,r);case"jpeg":case"jpg":return po(this,r);case"bmp":return(0,g.c)(this,r);default:throw new RangeError(`invalid output format: ${e}`)}},toBase64(t="image/png",e={}){if(e.async)return this.toDataURL(t,e).then((function(t){return t.substring(t.indexOf(",")+1)}));{const r=this.toDataURL(t,e);return r.substring(r.indexOf(",")+1)}},toBlob(t="image/png",e=.8){return p(this.getCanvas(),t,e)},getCanvas(){const t=new oo(this.getRGBAData({clamped:!0}),this.width,this.height);let e=lo(this.width,this.height),r=e.getContext("2d");return r.putImageData(t,0,0),e}};function wo(t){for(const e in go)t.prototype[e]=go[e]}var bo=r(7019),yo=r.n(bo);let vo={configurable:!0,enumerable:!1,get:void 0};function _o(t,e,r={}){let{inPlace:n=!1,returnThis:i=!0,partialArgs:s=[]}=r;return Ud.prototype[t]=n?function(...t){this.computed=null;let r=e.apply(this,[...s,...t]);return i?this:r}:function(...t){return e.apply(this,[...s,...t])},Ud}function xo(t,e,r={}){let{partialArgs:n=[]}=r;return vo.get=function(){if(null===this.computed)this.computed={};else if(yo()(t,this.computed))return this.computed[t];let r=e.apply(this,n);return this.computed[t]=r,r},Object.defineProperty(Ud.prototype,t,vo),Ud}const ko="GREY",Mo="RGB",Eo="HSL",Ao="HSV",So="CMYK";function Ro(t={}){const{clamped:e}=t;this.checkProcessable("getRGBAData",{components:[1,3],bitDepth:[1,8,16,32]});const r=this.width*this.height*4;let n=e?new Uint8ClampedArray(r):new Uint8Array(r);return 1===this.bitDepth?Po(this,n):32===this.bitDepth?(this.checkProcessable("getRGBAData",{alpha:0}),1===this.components?To(this,n):3===this.components&&(this.checkProcessable("getRGBAData",{colorModel:[Mo]}),Io(this,n))):1===this.components?Co(this,n):3===this.components&&(this.checkProcessable("getRGBAData",{colorModel:[Mo]}),Do(this,n)),1===this.alpha?(this.checkProcessable("getRGBAData",{bitDepth:[8,16]}),Oo(this,n)):Bo(this,n),n}function Po(t,e){for(let r=0;r<t.size;r++){const n=t.getBit(r);e[4*r]=255*n,e[4*r+1]=255*n,e[4*r+2]=255*n}}function To(t,e){const r=t.min[0],n=t.max[0],i=n-r;for(let s=0;s<t.size;s++){const n=Math.floor(255*(t.data[s]-r)/i);e[4*s]=n,e[4*s+1]=n,e[4*s+2]=n}}function Io(t,e){const r=Math.min(...t.min),n=Math.max(...t.max),i=n-r;for(let s=0;s<t.size;s++){const n=Math.floor(255*(t.data[3*s]-r)/i),o=Math.floor(255*(t.data[3*s+1]-r)/i),a=Math.floor(255*(t.data[3*s+2]-r)/i);e[4*s]=n,e[4*s+1]=o,e[4*s+2]=a}}function Co(t,e){for(let r=0;r<t.size;r++)e[4*r]=t.data[r*t.channels]>>>t.bitDepth-8,e[4*r+1]=t.data[r*t.channels]>>>t.bitDepth-8,e[4*r+2]=t.data[r*t.channels]>>>t.bitDepth-8}function Do(t,e){for(let r=0;r<t.size;r++)e[4*r]=t.data[r*t.channels]>>>t.bitDepth-8,e[4*r+1]=t.data[r*t.channels+1]>>>t.bitDepth-8,e[4*r+2]=t.data[r*t.channels+2]>>>t.bitDepth-8}function Oo(t,e){for(let r=0;r<t.size;r++)e[4*r+3]=t.data[r*t.channels+t.components]>>t.bitDepth-8}function Bo(t,e){for(let r=0;r<t.size;r++)e[4*r+3]=255}const Uo="BINARY",No="GREY",Fo="GREYA",Lo="RGB",zo="RGBA",jo="CMYK",Vo="CMYKA",Yo={};function Xo(t){const e=Yo[t];if(!e)throw new RangeError(`invalid image kind: ${t}`);return e}Yo[Uo]={components:1,alpha:0,bitDepth:1,colorModel:ko},Yo[Fo]={components:1,alpha:1,bitDepth:8,colorModel:ko},Yo[No]={components:1,alpha:0,bitDepth:8,colorModel:ko},Yo[zo]={components:3,alpha:1,bitDepth:8,colorModel:Mo},Yo[Lo]={components:3,alpha:0,bitDepth:8,colorModel:Mo},Yo[jo]={components:4,alpha:0,bitDepth:8,colorModel:So},Yo[Vo]={components:4,alpha:1,bitDepth:8,colorModel:So};const Go=[1,8,16,32];function qo(t){const{components:e,alpha:r,bitDepth:i,colorModel:s}=t;if(!Number.isInteger(e)||e<=0)throw new RangeError(`invalid components: ${e}. Must be a positive integer`);if(0!==r&&1!==r&&"boolean"!==typeof r)throw new TypeError(`invalid alpha: ${r}: must be a boolean, 0 or 1`);if(!Go.includes(i))throw new RangeError(`invalid bitDepth: ${i}. Must be one of ${Go.join(", ")}`);if(!n[s])throw new RangeError(`invalid colorModel: ${s}. Must be one of ${Object.keys(n).join(", ")}`)}function $o(t,e,r){let n=e*t;return 1===r&&(n=Math.ceil(n/8)),n}function Ho(t,e,r,n,i,s){const o=n*t;let a;switch(i){case 1:a=new Uint8Array(Math.ceil(o/8));break;case 8:a=new Uint8Array(o);break;case 16:a=new Uint16Array(o);break;case 32:a=new Float32Array(o);break;default:throw new Error(`Cannot create pixel array for bit depth ${i}`)}if(r)for(let l=e;l<a.length;l+=n)a[l]=s;return a}var Zo=r(3227),Wo=r(9730),Ko=r.n(Wo);function Jo(t){if(1!==t.compression)throw new Error("missing mandatory StripByteCounts field in compressed image");const e=t.rowsPerStrip*t.width*t.samplesPerPixel*(t.bitsPerSample/8);return new Array(t.stripOffsets.length).fill(e)}function Qo(t,e,r){let n=0;while(n<t.length){for(let i=r;i<e*r;i+=r)for(let e=0;e<r;e++)t[n+i+e]=t[n+i+e]+t[n+i-(r-e)]&255;n+=e*r}}function ta(t,e,r){let n=0;while(n<t.length){for(let i=r;i<e*r;i+=r)for(let e=0;e<r;e++)t[n+i+e]=t[n+i+e]+t[n+i-(r-e)]&65535;n+=e*r}}const ea={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},ra={};for(let Hd in ea)ra[ea[Hd]]=Number(Hd);const na={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},ia={};for(let Hd in na)ia[na[Hd]]=Number(Hd);const sa={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},oa={};for(let Hd in sa)oa[sa[Hd]]=Number(Hd);const aa={standard:o,exif:i,gps:s};class la{constructor(t){if(!t)throw new Error("missing kind");this.data=new Uint8Array,this.fields=new Map,this.kind=t,this._hasMap=!1,this._map={}}get(t){if("number"===typeof t)return this.fields.get(t);if("string"===typeof t)return this.fields.get(aa[this.kind].tagsByName[t]);throw new Error("expected a number or string")}get map(){if(!this._hasMap){const t=aa[this.kind].tagsById;for(let e of this.fields.keys())t[e]&&(this._map[t[e]]=this.fields.get(e));this._hasMap=!0}return this._map}}let ha=new Map([[1,[1,fa]],[2,[1,da]],[3,[2,pa]],[4,[4,ma]],[5,[8,ga]],[6,[1,wa]],[7,[1,fa]],[8,[2,ba]],[9,[4,ya]],[10,[8,va]],[11,[4,_a]],[12,[8,xa]]]);function ua(t,e){const r=ha.get(t);if(!r)throw new Error(`type not found: ${t}`);return r[0]*e}function ca(t,e,r){const n=ha.get(e);if(!n)throw new Error(`type not found: ${e}`);return n[1](t,r)}function fa(t,e){if(1===e)return t.readUint8();let r=new Uint8Array(e);for(let n=0;n<e;n++)r[n]=t.readUint8();return r}function da(t,e){let r=[],n="";for(let i=0;i<e;i++){let e=String.fromCharCode(t.readUint8());"\0"===e?(r.push(n),n=""):n+=e}return 1===r.length?r[0]:r}function pa(t,e){if(1===e)return t.readUint16();let r=new Uint16Array(e);for(let n=0;n<e;n++)r[n]=t.readUint16();return r}function ma(t,e){if(1===e)return t.readUint32();let r=new Uint32Array(e);for(let n=0;n<e;n++)r[n]=t.readUint32();return r}function ga(t,e){if(1===e)return t.readUint32()/t.readUint32();let r=new Array(e);for(let n=0;n<e;n++)r[n]=t.readUint32()/t.readUint32();return r}function wa(t,e){if(1===e)return t.readInt8();let r=new Int8Array(e);for(let n=0;n<e;n++)r[n]=t.readInt8();return r}function ba(t,e){if(1===e)return t.readInt16();let r=new Int16Array(e);for(let n=0;n<e;n++)r[n]=t.readInt16();return r}function ya(t,e){if(1===e)return t.readInt32();let r=new Int32Array(e);for(let n=0;n<e;n++)r[n]=t.readInt32();return r}function va(t,e){if(1===e)return t.readInt32()/t.readInt32();let r=new Array(e);for(let n=0;n<e;n++)r[n]=t.readInt32()/t.readInt32();return r}function _a(t,e){if(1===e)return t.readFloat32();let r=new Float32Array(e);for(let n=0;n<e;n++)r[n]=t.readFloat32();return r}function xa(t,e){if(1===e)return t.readFloat64();let r=new Float64Array(e);for(let n=0;n<e;n++)r[n]=t.readFloat64();return r}const ka=256,Ma=257,Ea=258,Aa=9;let Sa=[];function Ra(){if(0===Sa.length){for(let e=0;e<256;e++)Sa.push([e]);const t=[];for(let e=256;e<4096;e++)Sa.push(t)}}const Pa=[511,1023,2047,4095],Ta=[0,0,0,0,0,0,0,0,0,511,1023,2047,4095];class Ia{constructor(t){this.nextData=0,this.nextBits=0,this.bytePointer=0,this.tableLength=Ea,this.currentBitLength=Aa,this.stripArray=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),this.outData=new w.IOBuffer(t.byteLength),this.initializeTable()}decode(){let t=0,e=0;while((t=this.getNextCode())!==Ma)if(t===ka){if(this.initializeTable(),t=this.getNextCode(),t===Ma)break;this.writeString(this.stringFromCode(t)),e=t}else if(this.isInTable(t))this.writeString(this.stringFromCode(t)),this.addStringToTable(this.stringFromCode(e).concat(this.stringFromCode(t)[0])),e=t;else{const r=this.stringFromCode(e).concat(this.stringFromCode(e)[0]);this.writeString(r),this.addStringToTable(r),e=t}const r=this.outData.toArray();return new DataView(r.buffer,r.byteOffset,r.byteLength)}initializeTable(){Ra(),this.tableLength=Ea,this.currentBitLength=Aa}writeString(t){this.outData.writeBytes(t)}stringFromCode(t){return Sa[t]}isInTable(t){return t<this.tableLength}addStringToTable(t){if(Sa[this.tableLength++]=t,Sa.length>4096)throw Sa=[],new Error("LZW decoding error. Please open an issue at https://github.com/image-js/tiff/issues/new/choose (include a test image).");this.tableLength===Ta[this.currentBitLength]&&this.currentBitLength++}getNextCode(){this.nextData=this.nextData<<8|255&this.stripArray[this.bytePointer++],this.nextBits+=8,this.nextBits<this.currentBitLength&&(this.nextData=this.nextData<<8|255&this.stripArray[this.bytePointer++],this.nextBits+=8);const t=this.nextData>>this.nextBits-this.currentBitLength&Pa[this.currentBitLength-9];return this.nextBits-=this.currentBitLength,this.bytePointer>this.stripArray.length?257:t}}function Ca(t){return new Ia(t).decode()}const Da=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;class Oa extends la{constructor(){super("standard")}get size(){return this.width*this.height}get width(){return this.imageWidth}get height(){return this.imageLength}get components(){return this.samplesPerPixel}get date(){let t=new Date,e=Da.exec(this.dateTime);if(null===e)throw new Error(`invalid dateTime: ${this.dateTime}`);return t.setFullYear(Number(e[1]),Number(e[2])-1,Number(e[3])),t.setHours(Number(e[4]),Number(e[5]),Number(e[6])),t}get newSubfileType(){return this.get("NewSubfileType")}get imageWidth(){return this.get("ImageWidth")}get imageLength(){return this.get("ImageLength")}get bitsPerSample(){const t=this.get("BitsPerSample");return t&&"number"!==typeof t?t[0]:t}get alpha(){const t=this.extraSamples;return!!t&&0!==t[0]}get associatedAlpha(){const t=this.extraSamples;return!!t&&1===t[0]}get extraSamples(){return Ba(this.get("ExtraSamples"))}get compression(){return this.get("Compression")||1}get type(){return this.get("PhotometricInterpretation")}get fillOrder(){return this.get("FillOrder")||1}get documentName(){return this.get("DocumentName")}get imageDescription(){return this.get("ImageDescription")}get stripOffsets(){return Ba(this.get("StripOffsets"))}get orientation(){return this.get("Orientation")}get samplesPerPixel(){return this.get("SamplesPerPixel")||1}get rowsPerStrip(){return this.get("RowsPerStrip")}get stripByteCounts(){return Ba(this.get("StripByteCounts"))}get minSampleValue(){return this.get("MinSampleValue")||0}get maxSampleValue(){return this.get("MaxSampleValue")||Math.pow(2,this.bitsPerSample)-1}get xResolution(){return this.get("XResolution")}get yResolution(){return this.get("YResolution")}get planarConfiguration(){return this.get("PlanarConfiguration")||1}get resolutionUnit(){return this.get("ResolutionUnit")||2}get dateTime(){return this.get("DateTime")}get predictor(){return this.get("Predictor")||1}get sampleFormat(){return this.get("SampleFormat")||1}get sMinSampleValue(){return this.get("SMinSampleValue")||this.minSampleValue}get sMaxSampleValue(){return this.get("SMaxSampleValue")||this.maxSampleValue}get palette(){const t=2**this.bitsPerSample,e=this.get("ColorMap");if(!e)return;if(e.length!==3*t)throw new Error(`ColorMap size must be ${t}`);const r=[];for(let n=0;n<t;n++)r.push([e[n],e[n+t],e[n+2*t]]);return r}}function Ba(t){return"number"===typeof t?[t]:t}function Ua(t){const e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),r=_s(e);return new DataView(r.buffer,r.byteOffset,r.byteLength)}const Na={ignoreImageData:!1,onlyFirst:!1};class Fa extends w.IOBuffer{constructor(t){super(t),this._nextIFD=0}get isMultiPage(){let t=0;this.decodeHeader();while(this._nextIFD)if(t++,this.decodeIFD({ignoreImageData:!0},!0),2===t)return!0;if(1===t)return!1;throw Ya("ifdCount",t)}get pageCount(){let t=0;this.decodeHeader();while(this._nextIFD)t++,this.decodeIFD({ignoreImageData:!0},!0);if(t>0)return t;throw Ya("ifdCount",t)}decode(t={}){t=Object.assign({},Na,t);const e=[];this.decodeHeader();while(this._nextIFD)if(e.push(this.decodeIFD(t,!0)),t.onlyFirst)return[e[0]];return e}decodeHeader(){const t=this.readUint16();if(18761===t)this.setLittleEndian();else{if(19789!==t)throw new Error(`invalid byte order: 0x${t.toString(16)}`);this.setBigEndian()}if(42!==this.readUint16())throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}decodeIFD(t,e){let r;if(this.seek(this._nextIFD),e)r=new Oa;else{if(!t.kind)throw new Error("kind is missing");r=new la(t.kind)}const n=this.readUint16();for(let i=0;i<n;i++)this.decodeIFDEntry(r);if(!t.ignoreImageData){if(!(r instanceof Oa))throw new Error("must be a tiff ifd");this.decodeImageData(r)}return this._nextIFD=this.readUint32(),r}decodeIFDEntry(t){const e=this.offset,r=this.readUint16(),n=this.readUint16(),i=this.readUint32();if(n<1||n>12)return void this.skip(4);const s=ua(n,i);s>4&&this.seek(this.readUint32());const o=ca(this,n,i);if(t.fields.set(r,o),34665===r||34853===r){let e=this.offset,n="exif";34665===r?n="exif":34853===r&&(n="gps"),this._nextIFD=o,t[n]=this.decodeIFD({kind:n,ignoreImageData:!0},!1),this.offset=e}this.seek(e),this.skip(12)}decodeImageData(t){const e=t.orientation;if(e&&1!==e)throw Ya("orientation",e);switch(t.type){case 0:case 1:case 2:case 3:this.readStripData(t);break;default:throw Ya("image type",t.type)}if(this.applyPredictor(t),this.convertAlpha(t),0===t.type){const e=t.bitsPerSample,r=Math.pow(2,e)-1;for(let n=0;n<t.data.length;n++)t.data[n]=r-t.data[n]}}readStripData(t){const e=t.width,r=t.height,n=t.bitsPerSample,i=t.sampleFormat,s=e*r*t.samplesPerPixel,o=La(s,n,i),a=t.rowsPerStrip,l=a*e*t.samplesPerPixel,h=t.stripOffsets,u=t.stripByteCounts||Jo(t);let c=s,f=0;for(let d=0;d<h.length;d++){let e=new DataView(this.buffer,this.byteOffset+h[d],u[d]),r=c>l?l:c;c-=r;let s=e;switch(t.compression){case 1:break;case 5:s=Ca(e);break;case 8:s=Ua(e);break;case 2:throw Ya("Compression","CCITT Group 3");case 32773:throw Ya("Compression","PackBits");default:throw Ya("Compression",t.compression)}f=this.fillUncompressed(n,i,o,s,f,r)}t.data=o}fillUncompressed(t,e,r,n,i,s){if(8===t)return za(r,n,i,s);if(16===t)return ja(r,n,i,s,this.isLittleEndian());if(32===t&&3===e)return Va(r,n,i,s,this.isLittleEndian());throw Ya("bitDepth",t)}applyPredictor(t){const e=t.bitsPerSample;switch(t.predictor){case 1:break;case 2:if(8===e)Qo(t.data,t.width,t.components);else{if(16!==e)throw new Error(`Horizontal differencing is only supported for images with a bit depth of ${e}`);ta(t.data,t.width,t.components)}break;default:throw new Error(`invalid predictor: ${t.predictor}`)}}convertAlpha(t){if(t.alpha&&t.associatedAlpha){const{data:e,components:r,maxSampleValue:n}=t;for(let t=0;t<e.length;t+=r){const i=e[t+r-1];for(let s=0;s<r-1;s++)e[t+s]=Math.round(e[t+s]*n/i)}}}}function La(t,e,r){if(8===e)return new Uint8Array(t);if(16===e)return new Uint16Array(t);if(32===e&&3===r)return new Float32Array(t);throw Ya("bit depth / sample format",`${e} / ${r}`)}function za(t,e,r,n){for(let i=0;i<n;i++)t[r++]=e.getUint8(i);return r}function ja(t,e,r,n,i){for(let s=0;s<2*n;s+=2)t[r++]=e.getUint16(s,i);return r}function Va(t,e,r,n,i){for(let s=0;s<4*n;s+=4)t[r++]=e.getFloat32(s,i);return r}function Ya(t,e){return new Error(`Unsupported ${t}: ${e}`)}function Xa(t,e){const r=new Fa(t);return r.decode(e)}function Ga(t={}){let{algorithm:e="matchToPrevious",ignoreBorder:r=[0,0]}=t;this.checkProcessable("matchAndCrop",{bitDepth:[8,16]});let n="matchToPrevious"===e,i=this[0],s=[];s[0]={position:[0,0],image:this[0]};let o=[0,0];for(let f=1;f<this.length;f++){let t=i.getBestMatch(this[f],{border:r});s[f]={position:[t[0]+o[0],t[1]+o[1]],image:this[f]},n&&(o[0]+=t[0],o[1]+=t[1],i=this[f])}let a=0,l=0,h=0,u=0;for(let f=0;f<s.length;f++){let t=s[f];t.position[0]>a&&(a=t.position[0]),t.position[0]<l&&(l=t.position[0]),t.position[1]>h&&(h=t.position[1]),t.position[1]<u&&(u=t.position[1])}l=0-l,u=0-u;for(let f=0;f<s.length;f++){let t=s[f];t.crop=t.image.crop({x:a-t.position[0],y:h-t.position[1],width:i.width-l-a,height:i.height-u-h})}let c=[];for(let f=0;f<s.length;f++)c[f]=s[f].crop;return new il(c)}function qa(){this.checkProcessable("min",{bitDepth:[8,16]});let t=this[0].min;for(let e=1;e<this.length;e++)for(let r=0;r<t.length;r++)t[r]=Math.min(t[r],this[e].min[r]);return t}function $a(){this.checkProcessable("min",{bitDepth:[8,16]});let t=this[0].max;for(let e=1;e<this.length;e++)for(let r=0;r<t.length;r++)t[r]=Math.max(t[r],this[e].max[r]);return t}function Ha(t){let e=t.reduce(((t,e)=>t+e));if(0===e)throw new Error("unreachable");let r,n=0,i=0,s=e/2;while(1){if(t[n]>0){if(void 0!==r)return(r+n)/2;if(i+=t[n],i>s)return n;i===s&&(r=n)}n++}}function Za(t){let e=0,r=0;for(let n=0;n<t.length;n++)e+=t[n],r+=t[n]*n;return 0===e?0:r/e}function Wa(){this.checkProcessable("median",{bitDepth:[8,16]});let t=this.getHistograms({maxSlots:this[0].maxValue+1}),e=new Array(t.length);for(let r=0;r<t.length;r++){let n=t[r];e[r]=Ha(n)}return e}function Ka(t){this.checkProcessable("min",{bitDepth:[8,16]});let e=this[0].getHistogram(t);for(let r=1;r<this.length;r++){let n=this[r].getHistogram(t);for(let t=0;t<e.length;t++)e[t]+=n[t]}return e}function Ja(t){this.checkProcessable("min",{bitDepth:[8,16]});let e=this[0].getHistograms(t),r=e[0].length;for(let n=1;n<this.length;n++){let i=this[n].getHistograms(t);for(let t=0;t<e.length;t++)for(let n=0;n<r;n++)e[t][n]+=i[t][n]}return e}function Qa(){this.checkProcessable("averageImage",{bitDepth:[8,16]});let t=new Uint32Array(this[0].data.length);for(let n=0;n<this.length;n++){let e=this[n];for(let r=0;r<this[0].data.length;r++)t[r]+=e.data[r]}let e=Ud.createFrom(this[0]),r=e.data;for(let n=0;n<this[0].data.length;n++)r[n]=t[n]/this.length;return e}function tl(){this.checkProcessable("max",{bitDepth:[8,16]});let t=Ud.createFrom(this[0]);t.data.fill(0);for(const e of this)for(let r=0;r<t.data.length;r++)t.data[r]=Math.max(e.data[r],t.data[r]);return t}function el(){this.checkProcessable("max",{bitDepth:[8,16]});let t=Ud.createFrom(this[0]);t.data.fill(t.maxValue);for(const e of this)for(let r=0;r<t.data.length;r++)t.data[r]=Math.min(e.data[r],t.data[r]);return t}function rl(t){t.extendMethod("matchAndCrop",Ga),t.extendMethod("getMin",qa),t.extendMethod("getMax",$a),t.extendMethod("getMedian",Wa),t.extendMethod("getHistogram",Ka),t.extendMethod("getHistograms",Ja),t.extendMethod("getAverage",Qa),t.extendMethod("getAverageImage",Qa),t.extendMethod("getMaxImage",tl),t.extendMethod("getMinImage",el)}let nl={configurable:!0,enumerable:!1,get:void 0};class il extends Array{constructor(t){if(Array.isArray(t)){super(t.length);for(let e=0;e<t.length;e++)this[e]=t[e]}else"number"===typeof t?super(t):super();this.computed=null}static load(t){return Promise.all(t.map(Ud.load)).then((t=>new il(t)))}static extendMethod(t,e,r={}){let{inPlace:n=!1,returnThis:i=!0,partialArgs:s=[]}=r;return il.prototype[t]=n?function(...t){this.computed=null;let r=e.apply(this,[...s,...t]);return i?this:r}:function(...t){return e.apply(this,[...s,...t])},il}static extendProperty(t,e,r={}){let{partialArgs:n=[]}=r;return nl.get=function(){if(null===this.computed)this.computed={};else if(yo()(t,this.computed))return this.computed[t];let r=e.apply(this,n);return this.computed[t]=r,r},Object.defineProperty(il.prototype,t,nl),il}checkProcessable(t,e={}){if("string"!==typeof t)throw new TypeError("checkProcessable requires as first parameter the processName (a string)");if(0===this.size)throw new TypeError(`The process: ${t} can not be applied on an empty stack`);this[0].checkProcessable(t,e);for(let r=1;r<this.length;r++){if((void 0===e.sameSize||e.sameSize)&&this[0].width!==this[r].width)throw new TypeError(`The process: ${t} can not be applied if width is not identical in all images`);if((void 0===e.sameSize||e.sameSize)&&this[0].height!==this[r].height)throw new TypeError(`The process: ${t} can not be applied if height is not identical in all images`);if((void 0===e.sameAlpha||e.sameAlpha)&&this[0].alpha!==this[r].alpha)throw new TypeError(`The process: ${t} can not be applied if alpha is not identical in all images`);if((void 0===e.sameBitDepth||e.sameBitDepth)&&this[0].bitDepth!==this[r].bitDepth)throw new TypeError(`The process: ${t} can not be applied if bitDepth is not identical in all images`);if((void 0===e.sameColorModel||e.sameColorModel)&&this[0].colorModel!==this[r].colorModel)throw new TypeError(`The process: ${t} can not be applied if colorModel is not identical in all images`);if((void 0===e.sameNumberChannels||e.sameNumberChannels)&&this[0].channels!==this[r].channels)throw new TypeError(`The process: ${t} can not be applied if channels is not identical in all images`)}}}Array[Symbol.species]||(il.prototype.map=function(t,e){if("function"!==typeof t)throw new TypeError(`${t} is not a function`);let r=new il(this.length);for(let n=0;n<this.length;n++)r[n]=t.call(e,this[n],n,this);return r}),rl(il);const sl=/^data:[a-z]+\/(?:[a-z]+);base64,/;function ol(t,e){if("string"===typeof t)return ll(t,e);if(t instanceof ArrayBuffer)return Promise.resolve(al(new Uint8Array(t),void 0,e&&e.ignorePalette));if(t.buffer)return Promise.resolve(al(t,void 0,e&&e.ignorePalette));throw new Error('argument to "load" must be a string or buffer.')}function al(t,e,r){const n=Ko()(t);if(n)switch(n.mime){case"image/png":return hl(t);case"image/jpeg":return cl(t);case"image/tiff":return fl(t,r);default:return ml(i(n.mime))}return ml(i("application/octet-stream"));function i(r){return e||so(t,r)}}function ll(t,e){const r=t.slice(0,64).match(sl);let n;return n=null!==r?Promise.resolve(io(t.slice(r[0].length))):ho(t,e),n.then((n=>{const i=new Uint8Array(n);return al(i,r?t:void 0,e&&e.ignorePalette)}))}function hl(t){const e=Js(t);let r,n=e.channels,i=0;return 2===n||4===n?(r=n-1,i=1):r=n,e.palette?ul(e):new Ud(e.width,e.height,e.data,{components:r,alpha:i,bitDepth:e.depth})}function ul(t){const e=t.width*t.height,r=t.palette[0].length,n=new Uint8Array(e*r),i=8/t.depth,s=t.depth<8?i:1,o=parseInt("1".repeat(t.depth),2),a=4===r;let l=0;for(let h=0;h<e;h++){const e=Math.floor(h/s);let r=t.data[e];t.depth<8&&(r=r>>>t.depth*(i-1-h%i)&o);const u=t.palette[r];n[l++]=u[0],n[l++]=u[1],n[l++]=u[2],a&&(n[l++]=u[3])}return new Ud(t.width,t.height,n,{components:3,alpha:a,bitDepth:8})}function cl(t){const e=(0,Zo.decode)(t);let r;e.exif&&(r=dl(e.exif));const n=(0,to.decode)(t,{useTArray:!0,maxMemoryUsageInMB:1024});let i=new Ud(n.width,n.height,n.data,{meta:r});if(r&&r.tiff.tags.Orientation){const t=r.tiff.tags.Orientation;t>2&&(i=i.rotate({3:180,4:180,5:90,6:90,7:270,8:270}[t])),[2,4,5,7].includes(t)&&(i=i.flipX())}return i}function fl(t,e){let r=Xa(t);return 1===r.length?pl(r[0],e):new il(r.map((function(t){return pl(t,e)})))}function dl(t){const e={tiff:{fields:t.fields,tags:t.map}};return t.exif&&(e.exif=t.exif),t.gps&&(e.gps=t.gps),e}function pl(t,e){if(e||3!==t.type)return new Ud(t.width,t.height,t.data,{components:2===t.type?3:1,alpha:t.alpha,colorModel:2===t.type?Mo:ko,bitDepth:t.bitsPerSample.length?t.bitsPerSample[0]:t.bitsPerSample,meta:dl(t)});{const e=new Uint16Array(3*t.width*t.height),r=t.palette;let n=0;for(let i=0;i<t.data.length;i++){const s=t.data[i],o=r[s];e[n++]=o[0],e[n++]=o[1],e[n++]=o[2]}return new Ud(t.width,t.height,e,{components:3,alpha:t.alpha,colorModel:Mo,bitDepth:16,meta:dl(t)})}}function ml(t,e){return e=e||{},new Promise((function(r,n){let i=new ao;i.onload=function(){let t=i.width,n=i.height,s=lo(t,n),o=s.getContext("2d");o.drawImage(i,0,0,t,n);let a=o.getImageData(0,0,t,n).data;r(new Ud(t,n,a,e))},i.onerror=function(){n(new Error(`Could not load ${t}`))},i.src=t}))}const gl={getValueXY(t,e,r){return this.data[(e*this.width+t)*this.channels+r]},setValueXY(t,e,r,n){return this.data[(e*this.width+t)*this.channels+r]=n,this.computed=null,this},getValue(t,e){return this.data[t*this.channels+e]},setValue(t,e,r){return this.data[t*this.channels+e]=r,this.computed=null,this},getPixelXY(t,e){return this.getPixel(e*this.width+t)},setPixelXY(t,e,r){return this.setPixel(e*this.width+t,r)},getPixel(t){const e=new Array(this.channels),r=t*this.channels;for(let n=0;n<this.channels;n++)e[n]=this.data[r+n];return e},setPixel(t,e){const r=t*this.channels;for(let n=0;n<e.length;n++)this.data[r+n]=e[n];return this.computed=null,this}};function wl(t){for(const e in gl)t.prototype[e]=gl[e]}function bl(t){return{width:t.width,height:t.height,components:t.components,alpha:t.alpha,colorModel:t.colorModel,bitDepth:t.bitDepth}}function yl(t,e,r,n={}){const{out:i}=e;if(void 0===i)return n.copy?t.clone():Ud.createFrom(t,r);{if(!Ud.isImage(i))throw new TypeError("out must be an Image object");const e=Object.assign(bl(t),r);for(const t in e)if(i[t]!==e[t])throw new RangeError(`cannot use out. Its ${t} must be "${e[t]}" (found "${i[t]}")`);return i}}function vl(t,e,r){if(void 0!==e.inPlace&&"boolean"!==typeof e.inPlace)throw new TypeError("inPlace option must be a boolean");if(e.inPlace){if(void 0!==e.out)throw new TypeError("out option must not be set if inPlace option is true");return t}return yl(t,e,null,r)}function _l(t={}){this.checkProcessable("abs",{bitDepth:[32]});const e=vl(this,t);return xl(this,e),e}function xl(t,e){for(let r=0;r<t.data.length;r++)e.data[r]=Math.abs(t.data[r])}function kl(t,e){if(1===t.alpha&&1===e.alpha)for(let r=0;r<t.size;r++)e.data[r*e.channels+e.components]=t.data[r*t.channels+t.components]}function Ml(t={}){this.checkProcessable("invert",{bitDepth:[1,8,16]});const e=vl(this,t);return 1===this.bitDepth?El(this,e):(Al(this,e),this!==e&&kl(this,e)),e}function El(t,e){for(let r=0;r<t.data.length;r++)e.data[r]=~t.data[r]}function Al(t,e){for(let r=0;r<t.data.length;r+=t.channels)for(let n=0;n<t.components;n++)e.data[r+n]=t.maxValue-t.data[r+n]}function Sl(){this.checkProcessable("flipX",{bitDepth:[8,16]});for(let t=0;t<this.height;t++){let e=t*this.width*this.channels;for(let t=0;t<Math.floor(this.width/2);t++){let r=t*this.channels+e,n=(this.width-t-1)*this.channels+e;for(let t=0;t<this.channels;t++){let e=this.data[r+t];this.data[r+t]=this.data[n+t],this.data[n+t]=e}}}return this}function Rl(){this.checkProcessable("flipY",{bitDepth:[8,16]});for(let t=0;t<Math.floor(this.height/2);t++)for(let e=0;e<this.width;e++){let r=e*this.channels+t*this.width*this.channels,n=e*this.channels+(this.height-1-t)*this.channels*this.width;for(let t=0;t<this.channels;t++){let e=this.data[r+t];this.data[r+t]=this.data[n+t],this.data[n+t]=e}}return this}function Pl(t={}){const{radius:e=1}=t;if(e<1)throw new Error("radius must be greater than 1");const r=2*e+1,n=new Array(r);for(let i=0;i<r;i++){n[i]=new Array(r);for(let t=0;t<r;t++)n[i][t]=1/(r*r)}return this.convolution(n)}var Tl=r(5699),Il=r.n(Tl);function Cl(t,e={}){let{channels:r,allowAlpha:n,defaultAlpha:i}=e;return"boolean"!==typeof n&&(n=!0),"undefined"===typeof r?Dl(t,i):Ol(t,r,n)}function Dl(t,e){let r=e?t.channels:t.components,n=new Array(r);for(let i=0;i<r;i++)n[i]=i;return n}function Ol(t,e,r){Array.isArray(e)||(e=[e]);for(let n=0;n<e.length;n++)e[n]=Bl(t,e[n],r);return e}function Bl(t,e,r=!0){if(void 0===e)throw new RangeError(`validateChannel : the channel has to be >=0 and <${t.channels}`);if("string"===typeof e){switch(t.colorModel){case ko:break;case Mo:if("rgb".includes(e))switch(e){case"r":e=0;break;case"g":e=1;break;case"b":e=2;break}break;case Eo:if("hsl".includes(e))switch(e){case"h":e=0;break;case"s":e=1;break;case"l":e=2;break}break;case Ao:if("hsv".includes(e))switch(e){case"h":e=0;break;case"s":e=1;break;case"v":e=2;break}break;case So:if("cmyk".includes(e))switch(e){case"c":e=0;break;case"m":e=1;break;case"y":e=2;break;case"k":e=3;break}break;default:throw new Error(`Unexpected color model: ${t.colorModel}`)}if("a"===e){if(!t.alpha)throw new Error("validateChannel : the image does not contain alpha channel");e=t.components}if("string"===typeof e)throw new Error(`validateChannel : undefined channel: ${e}`)}if(e>=t.channels)throw new RangeError(`validateChannel : the channel has to be >=0 and <${t.channels}`);if(!r&&e>=t.components)throw new RangeError("validateChannel : alpha channel may not be selected");return e}function Ul(t={}){let{radius:e=1,border:r="copy",channels:n}=t;if(this.checkProcessable("medianFilter",{bitDepth:[8,16]}),e<1)throw new Error("radius must be greater than 0");n=Cl(this,n,!0);let i=e,s=e,o=Ud.createFrom(this),a=(2*i+1)*(2*s+1),l=new Array(a);for(let h=0;h<n.length;h++){let t=n[h];for(let e=s;e<this.height-s;e++)for(let r=i;r<this.width-i;r++){let n=0;for(let o=-s;o<=s;o++)for(let s=-i;s<=i;s++){let i=((e+o)*this.width+r+s)*this.channels+t;l[n++]=this.data[i]}let a=(e*this.width+r)*this.channels+t;o.data[a]=Il()(l)}}if(this.alpha&&!n.includes(this.channels))for(let h=this.components;h<this.data.length;h+=this.channels)o.data[h]=this.data[h];return o.setBorder({size:[i,s],algorithm:r}),o}function Nl(t={}){let{radius:e=1,sigma:r,channels:n,border:i="copy"}=t;this.checkProcessable("gaussian",{bitDepth:[8,16]});const s=Fl(e,r);return this.convolution([s,s],{border:i,channels:n,algorithm:"separable"})}function Fl(t,e){const r=2*t+1,n=new Array(r),i=e||.3*(.5*(r-1)-1)+.8,s=-.5/(i*i);let o=0;for(let a=0;a<r;a++){const e=a-t,r=Math.exp(s*e*e);n[a]=r,o+=r}for(let a=0;a<r;a++)n[a]/=o;return n}const Ll=[[-1,0,1],[-2,0,2],[-1,0,1]],zl=[[-1,-2,-1],[0,0,0],[1,2,1]],jl=[[3,0,-3],[10,0,-10],[3,0,-3]],Vl=[[3,10,3],[0,0,0],[-3,-10,-3]];var Yl=r(2708),Xl=r(6586),Gl=r.n(Xl);function ql(t){let e,r;if(!Array.isArray(t))throw new Error(`validateKernel: Invalid Kernel: ${t}`);if(Array.isArray(t[0])){if(0===(1&t.length)||0===(1&t[0].length))throw new RangeError("validateKernel: Kernel rows and columns should be odd numbers");e=Math.floor(t.length/2),r=Math.floor(t[0].length/2)}else{let n=Math.sqrt(t.length);if(!Gl()(n))throw new RangeError("validateKernel: Kernel array should be a square");r=e=Math.floor(Math.sqrt(t.length)/2);let i=new Array(n);for(let e=0;e<n;e++){i[e]=new Array(n);for(let r=0;r<n;r++)i[e][r]=t[e*n+r]}t=i}return{kernel:t,kWidth:r,kHeight:e}}function $l(t,e){return Math.round(Math.min(Math.max(t,0),e.maxValue))}function Hl(t,e,r){if(void 0===r){const n=t.length+e.length-1;r=new Array(n)}Zl(r);for(var n=0;n<t.length;n++)for(var i=0;i<e.length;i++)r[n+i]+=t[n]*e[i];return r}function Zl(t){for(var e=0;e<t.length;e++)t[e]=0}r(9051),r(4623);function Wl(t,e,r,n){const i=new Array(t.length);let s,o,a,l;l=e[1],a=(l.length-1)/2,o=new Array(r+l.length-1),s=new Array(r);for(let h=0;h<n;h++){for(let e=0;e<r;e++)s[e]=t[h*r+e];Hl(s,l,o);for(let t=0;t<r;t++)i[h*r+t]=o[a+t]}l=e[0],a=(l.length-1)/2,o=new Array(n+l.length-1),s=new Array(n);for(let h=0;h<r;h++){for(let t=0;t<n;t++)s[t]=i[t*r+h];Hl(s,l,o);for(let t=0;t<n;t++)i[t*r+h]=o[a+t]}return i}var Kl=r(571);function Jl(t){const e=new Kl.Z(t,{autoTranspose:!0});if(1!==e.rank)return null;const r=Math.sqrt(e.s[0]),n=e.U.to2DArray().map((t=>t[0]*r)),i=e.V.to2DArray().map((t=>t[0]*r));return[n,i]}function Ql(t,e={}){let{channels:r,bitDepth:n,normalize:i=!1,divisor:s=1,border:o="copy",algorithm:a="auto"}=e,l={};n&&(l.bitDepth=n);let h,u,c=Ud.createFrom(this,l);if(r=Cl(this,r,!0),"separable"!==a)({kernel:t}=ql(t));else if(!Array.isArray(t)||2!==t.length)throw new RangeError("separable convolution requires two arrays of numbers to represent the kernel");if("auto"===a){let e=Jl(t);null!==e?(a="separable",t=e):a=(t.length>9||t[0].length>9)&&this.width<=4096&&this.height<=4096?"fft":"direct"}"separable"===a?(h=Math.floor(t[0].length/2),u=Math.floor(t[1].length/2)):(h=Math.floor(t.length/2),u=Math.floor(t[0].length/2));let f,d,p,m,g,w,b=c.isClamped,y=new Array(this.height*this.width);for(m=0;m<r.length;m++){for(g=r[m],p=0;p<this.height;p++)for(d=0;d<this.width;d++)f=p*this.width+d,y[f]=this.data[f*this.channels+g];if("direct"===a)w=(0,Yl.direct)(y,t,{rows:this.height,cols:this.width,normalize:i,divisor:s});else if("separable"===a){if(w=Wl(y,t,this.width,this.height),i){s=0;for(let e=0;e<t[0].length;e++)for(let r=0;r<t[1].length;r++)s+=t[0][e]*t[1][r]}if(1!==s)for(let t=0;t<w.length;t++)w[t]/=s}else w=(0,Yl.fft)(y,t,{rows:this.height,cols:this.width,normalize:i,divisor:s});for(p=0;p<this.height;p++)for(d=0;d<this.width;d++)f=p*this.width+d,c.data[f*this.channels+g]=b?$l(w[f],c):w[f]}if(this.alpha&&!r.includes(this.channels))for(d=this.components;d<this.data.length;d+=this.channels)c.data[d]=this.data[d];return"periodic"!==o&&c.setBorder({size:[u,h],algorithm:o}),c}function th(t={}){let{direction:e="xy",border:r="copy",kernelX:n,kernelY:i,channels:s,bitDepth:o=this.bitDepth}=t;switch(this.checkProcessable("gradientFilter",{bitDepth:[8,16]}),e){case"x":if(!n)throw new Error("kernelX option is missing");return Ql.call(this,n,{channels:s,border:r,bitDepth:o});case"y":if(!i)throw new Error("kernelY option is missing");return Ql.call(this,i,{channels:s,border:r,bitDepth:o});case"xy":{if(!n)throw new Error("kernelX option is missing");if(!i)throw new Error("kernelY option is missing");const t=Ql.call(this,n,{channels:s,border:r,bitDepth:32}),e=Ql.call(this,i,{channels:s,border:r,bitDepth:32});return t.hypotenuse(e,{bitDepth:o,channels:s})}default:throw new Error(`Unknown parameter direction: ${e}`)}}function eh(t){return th.call(this,Object.assign({},t,{kernelX:Ll,kernelY:zl}))}function rh(t){return th.call(this,Object.assign({},t,{kernelX:jl,kernelY:Vl}))}var nh=r(4670),ih=r.n(nh);function sh(t={}){let{algorithm:e="range",channels:r,min:n=this.min,max:i=this.max}=t;switch(this.checkProcessable("level",{bitDepth:[8,16,32]}),r=Cl(this,{channels:r}),r.length!==this.channel&&(Array.isArray(n)&&n.length===this.channels&&(n=n.filter(((t,e)=>r.includes(e)))),Array.isArray(i)&&i.length===this.channels&&(i=i.filter(((t,e)=>r.includes(e))))),e){case"range":n<0&&(n=0),i>this.maxValue&&(i=this.maxValue),Array.isArray(n)||(n=ih()(r.length,n)),Array.isArray(i)||(i=ih()(r.length,i)),oh(this,n,i,r);break;default:throw new Error(`level: algorithm not implement: ${e}`)}return this}function oh(t,e,r,n){let i=1e-5,s=new Array(n.length);for(let o=0;o<n.length;o++)0===e[o]&&r[o]===t.maxValue||r[o]===e[o]?s[o]=0:s[o]=(t.maxValue+1-i)/(r[o]-e[o]),e[o]+=(.5-i/2)/s[o];for(let o=0;o<n.length;o++){let r=n[o];if(0!==s[o])for(let n=0;n<t.data.length;n+=t.channels)t.data[n+r]=Math.min(Math.max(0,(t.data[n+r]-e[o])*s[o]+.5|0),t.maxValue)}}var ah=r(7980),lh=r.n(ah);function hh(t){if(isNaN(t)){if(t instanceof Ud)return t.data;if(!lh()(t))throw new Error("checkNumberArray: the value should be either a number, array or Image");return t}if(t<=0)throw new Error("checkNumberArray: the value must be greater than 0");return t}function uh(t,e={}){let{channels:r}=e;if(this.checkProcessable("add",{bitDepth:[8,16]}),r=Cl(this,{channels:r}),t=hh(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("add: the data size is different");for(let e=0;e<r.length;e++){let n=r[e];for(let e=0;e<this.data.length;e+=this.channels)this.data[e+n]=Math.max(0,Math.min(this.maxValue,this.data[e+n]+t[e+n]>>0))}}else for(let n=0;n<r.length;n++){let e=r[n];for(let r=0;r<this.data.length;r+=this.channels)this.data[r+e]=Math.min(this.maxValue,this.data[r+e]+t>>0)}return this}function ch(t,e={}){let{channels:r}=e;if(this.checkProcessable("subtract",{bitDepth:[8,16]}),r=Cl(this,{channels:r}),t=hh(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("subtract: the data size is different");for(let e=0;e<r.length;e++){let n=r[e];for(let e=0;e<this.data.length;e+=this.channels)this.data[e+n]=Math.max(0,Math.min(this.maxValue,this.data[e+n]-t[e+n]>>0))}}else for(let n=0;n<r.length;n++){let e=r[n];for(let r=0;r<this.data.length;r+=this.channels)this.data[r+e]=Math.max(0,this.data[r+e]-t>>0)}return this}function fh(t,e={}){let{channels:r,absolute:n=!1}=e;if(this.checkProcessable("subtractImage",{bitDepth:[8,16]}),this.width!==t.width||this.height!==t.height)throw new Error("subtractImage: both images must have the same size");if(this.alpha!==t.alpha||this.bitDepth!==t.bitDepth)throw new Error("subtractImage: both images must have the same alpha and bitDepth");if(this.channels!==t.channels)throw new Error("subtractImage: both images must have the same number of channels");let i=this.clone();r=Cl(this,{channels:r});for(let s=0;s<r.length;s++){let e=r[s];for(let r=e;r<this.data.length;r+=this.channels){let e=this.data[r]-t.data[r];i.data[r]=n?Math.abs(e):Math.max(e,0)}}return i}function dh(t,e={}){let{bitDepth:r=this.bitDepth,channels:n}=e;if(this.checkProcessable("hypotenuse",{bitDepth:[8,16,32]}),this.width!==t.width||this.height!==t.height)throw new Error("hypotenuse: both images must have the same size");if(this.alpha!==t.alpha||this.bitDepth!==t.bitDepth)throw new Error("hypotenuse: both images must have the same alpha and bitDepth");if(this.channels!==t.channels)throw new Error("hypotenuse: both images must have the same number of channels");let i=Ud.createFrom(this,{bitDepth:r});n=Cl(this,{channels:n});let s=i.isClamped;for(let o=0;o<n.length;o++){let e=n[o];for(let r=e;r<this.data.length;r+=this.channels){let e=Math.hypot(this.data[r],t.data[r]);i.data[r]=s?Math.min(Math.max(Math.round(e),0),i.maxValue):e}}return i}function ph(t,e={}){let{channels:r}=e;if(this.checkProcessable("multiply",{bitDepth:[8,16]}),t<=0)throw new Error("multiply: the value must be greater than 0");if(r=Cl(this,{channels:r}),t=hh(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("multiply: the data size is different");for(let e=0;e<r.length;e++){let n=r[e];for(let e=0;e<this.data.length;e+=this.channels)this.data[e+n]=Math.max(0,Math.min(this.maxValue,this.data[e+n]*t[e+n]>>0))}}else for(let n=0;n<r.length;n++){let e=r[n];for(let r=0;r<this.data.length;r+=this.channels)this.data[r+e]=Math.min(this.maxValue,this.data[r+e]*t>>0)}return this}function mh(t,e={}){let{channels:r}=e;if(this.checkProcessable("divide",{bitDepth:[8,16]}),r=Cl(this,{channels:r}),t=hh(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("divide: the: the data size is different");for(let e=0;e<r.length;e++){let n=r[e];for(let e=0;e<this.data.length;e+=this.channels)this.data[e+n]=Math.max(0,Math.min(this.maxValue,this.data[e+n]/t[e+n]>>0))}}else for(let n=0;n<r.length;n++){let e=r[n];for(let r=0;r<this.data.length;r+=this.channels)this.data[r+e]=Math.min(this.maxValue,this.data[r+e]/t>>0)}return this}var gh=r(2273);class wh{constructor(){if(new.target===wh)throw new Error("BaseRegression must be subclassed")}predict(t){if("number"===typeof t)return this._predict(t);if((0,gh.N)(t)){const e=[];for(let r=0;r<t.length;r++)e.push(this._predict(t[r]));return e}throw new TypeError("x must be a number or array")}_predict(){throw new Error("_predict must be implemented")}train(){}toString(){return""}toLaTeX(){return""}score(t,e){if(!(0,gh.N)(t)||!(0,gh.N)(e)||t.length!==e.length)throw new Error("x and y must be arrays of the same length");const r=t.length,n=new Array(r);for(let f=0;f<r;f++)n[f]=this._predict(t[f]);let i=0,s=0,o=0,a=0,l=0,h=0,u=0;for(let f=0;f<r;f++)i+=n[f],s+=e[f],l+=n[f]*n[f],h+=e[f]*e[f],u+=n[f]*e[f],0!==e[f]&&(o+=(e[f]-n[f])*(e[f]-n[f])/e[f]),a+=(e[f]-n[f])*(e[f]-n[f]);const c=(r*u-i*s)/Math.sqrt((r*l-i*i)*(r*h-s*s));return{r:c,r2:c*c,chi2:o,rmsd:Math.sqrt(a/r)}}}var bh=r(6873),yh=(r(5766),r(1610));var vh=r(8709),_h=r.n(vh);const xh={lambda:.1,kernelType:"gaussian",kernelOptions:{},computeCoefficient:!1};class kh extends wh{constructor(t,e,r){if(super(),!0===t)this.alpha=e.alpha,this.inputs=e.inputs,this.kernelType=e.kernelType,this.kernelOptions=e.kernelOptions,this.kernel=new(_h())(e.kernelType,e.kernelOptions);else{t=bh.Z.checkMatrix(t),r=Object.assign({},xh,r);const n=new(_h())(r.kernelType,r.kernelOptions),i=n.compute(t),s=t.rows;i.add(bh.Z.eye(s,s).mul(r.lambda)),this.alpha=(0,yh.F)(i,e),this.inputs=t,this.kernelType=r.kernelType,this.kernelOptions=r.kernelOptions,this.kernel=n}}_predict(t){return this.kernel.compute([t],this.inputs).mmul(this.alpha).getRow(0)}toJSON(){return{name:"kernelRidgeRegression",alpha:this.alpha,inputs:this.inputs,kernelType:this.kernelType,kernelOptions:this.kernelOptions}}static load(t){if("kernelRidgeRegression"!==t.name)throw new TypeError("not a KRR model");return new kh(!0,t)}}function Mh(t,e,r){const n=new kh(t,e,r),i=new Array(this.size);for(let a=0;a<this.width;a++)for(let t=0;t<this.height;t++)i[t*this.width+a]=[a,t];const s=n.predict(i),o=Ud.createFrom(this);for(let a=0;a<this.size;a++)o.data[a]=Math.min(this.maxValue,Math.max(0,s[a][0]));return o}function Eh(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("dilate",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("dilate: The number of rows and columns of the kernel must be odd");let n=!0;t:for(const s of e)for(const t of s)if(1!==t){n=!1;break t}let i=this;for(let s=0;s<r;s++)if(1===this.bitDepth)if(n){const t=i.clone();i=Ph(i,t,e.length,e[0].length)}else{const t=Ud.createFrom(i);i=Rh(i,t,e)}else if(n){const t=Ud.createFrom(i);i=Sh(i,t,e.length,e[0].length)}else{const t=Ud.createFrom(i);i=Ah(i,t,e)}return i}function Ah(t,e,r){const n=r.length,i=r[0].length;let s=(n-1)/2,o=(i-1)/2;for(let a=0;a<t.height;a++)for(let l=0;l<t.width;l++){let h=0;for(let e=0;e<i;e++)for(let i=0;i<n;i++){if(1!==r[i][e])continue;let n=i-s+l,u=e-o+a;if(n<0||u<0||n>=t.width||u>=t.height)continue;const c=t.getValueXY(n,u,0);c>h&&(h=c)}e.setValueXY(l,a,0,h)}return e}function Sh(t,e,r,n){const i=(r-1)/2,s=(n-1)/2,o=[];for(let a=0;a<t.width;a++)o.push(0);for(let a=0;a<t.height;a++){for(let e=0;e<t.width;e++){let r=0;for(let n=Math.max(0,a-s);n<Math.min(t.height,a+s+1);n++){const i=t.getValueXY(e,n,0);i>r&&(r=i)}o[e]=r}for(let r=0;r<t.width;r++){let n=0;for(let e=Math.max(0,r-i);e<Math.min(t.width,r+i+1);e++)o[e]>n&&(n=o[e]);e.setValueXY(r,a,0,n)}}return e}function Rh(t,e,r){const n=r.length,i=r[0].length;let s=(n-1)/2,o=(i-1)/2;for(let a=0;a<t.height;a++)for(let l=0;l<t.width;l++){let h=0;t:for(let e=0;e<i;e++)for(let i=0;i<n;i++){if(1!==r[i][e])continue;let n=i-s+l,u=e-o+a;if(u<0||n<0||n>=t.width||u>=t.height)continue;const c=t.getBitXY(n,u);if(1===c){h=1;break t}}1===h&&e.setBitXY(l,a)}return e}function Ph(t,e,r,n){const i=(r-1)/2,s=(n-1)/2,o=[];for(let a=0;a<t.width;a++)o.push(1);for(let a=0;a<t.height;a++){for(let e=0;e<t.width;e++){o[e]=0;for(let r=Math.max(0,a-s);r<Math.min(t.height,a+s+1);r++)if(1===t.getBitXY(e,r)){o[e]=1;break}}for(let r=0;r<t.width;r++)if(1!==e.getBitXY(r,a))for(let n=Math.max(0,r-i);n<Math.min(t.width,r+i+1);n++)if(1===o[n]){e.setBitXY(r,a);break}}return e}function Th(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("erode",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("erode: The number of rows and columns of the kernel must be odd");let n=!0;t:for(const s of e)for(const t of s)if(1!==t){n=!1;break t}let i=this;for(let s=0;s<r;s++)if(1===this.bitDepth)if(n){const t=i.clone();i=Oh(i,t,e.length,e[0].length)}else{const t=Ud.createFrom(i);i=Dh(i,t,e)}else if(n){const t=Ud.createFrom(i);i=Ch(i,t,e.length,e[0].length)}else{const t=Ud.createFrom(i);i=Ih(i,t,e)}return i}function Ih(t,e,r){const n=r.length,i=r[0].length;let s=(n-1)/2,o=(i-1)/2;for(let a=0;a<t.height;a++)for(let l=0;l<t.width;l++){let h=t.maxValue;for(let e=0;e<i;e++)for(let i=0;i<n;i++){if(1!==r[i][e])continue;let n=i-s+l,u=e-o+a;if(n<0||u<0||n>=t.width||u>=t.height)continue;const c=t.getValueXY(n,u,0);c<h&&(h=c)}e.setValueXY(l,a,0,h)}return e}function Ch(t,e,r,n){const i=(r-1)/2,s=(n-1)/2,o=[];for(let a=0;a<t.width;a++)o.push(0);for(let a=0;a<t.height;a++){for(let e=0;e<t.width;e++){let r=t.maxValue;for(let n=Math.max(0,a-s);n<Math.min(t.height,a+s+1);n++){const i=t.getValueXY(e,n,0);i<r&&(r=i)}o[e]=r}for(let r=0;r<t.width;r++){let n=t.maxValue;for(let e=Math.max(0,r-i);e<Math.min(t.width,r+i+1);e++)o[e]<n&&(n=o[e]);e.setValueXY(r,a,0,n)}}return e}function Dh(t,e,r){const n=r.length,i=r[0].length;let s=(n-1)/2,o=(i-1)/2;for(let a=0;a<t.height;a++)for(let l=0;l<t.width;l++){let h=1;t:for(let e=0;e<i;e++)for(let i=0;i<n;i++){if(1!==r[i][e])continue;let n=i-s+l,u=e-o+a;if(u<0||n<0||n>=t.width||u>=t.height)continue;const c=t.getBitXY(n,u);if(0===c){h=0;break t}}1===h&&e.setBitXY(l,a)}return e}function Oh(t,e,r,n){const i=(r-1)/2,s=(n-1)/2,o=[];for(let a=0;a<t.width;a++)o.push(0);for(let a=0;a<t.height;a++){for(let e=0;e<t.width;e++){o[e]=1;for(let r=Math.max(0,a-s);r<Math.min(t.height,a+s+1);r++)if(0===t.getBitXY(e,r)){o[e]=0;break}}for(let r=0;r<t.width;r++)if(0!==e.getBitXY(r,a))for(let n=Math.max(0,r-i);n<Math.min(t.width,r+i+1);n++)if(0===o[n]){e.clearBitXY(r,a);break}}return e}function Bh(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("open",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("open: The number of rows and columns of the kernel must be odd");let n=this;for(let i=0;i<r;i++)n=n.erode({kernel:e}),n=n.dilate({kernel:e});return n}function Uh(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("close",{bitDepth:[1,8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("close: The number of rows and columns of the kernel must be odd");let n=this;for(let i=0;i<r;i++)n=n.dilate({kernel:e}).erode({kernel:e});return n}function Nh(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("topHat",{bitDepth:[8,16],components:1,alpha:0}),e.length%2===0||e[0].length%2===0)throw new TypeError("topHat: The number of rows and columns of the kernel must be odd");let n=this;for(let i=0;i<r;i++){let t=n.open({kernel:e});n=t.subtractImage(n,{absolute:!0})}return n}function Fh(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("blackHat",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("blackHat: The number of rows and columns of the kernel must be odd");let n=this;for(let i=0;i<r;i++){const t=n.close({kernel:e});n=t.subtractImage(n,{absolute:!0})}return n}function Lh(t={}){let{kernel:e=[[1,1,1],[1,1,1],[1,1,1]],iterations:r=1}=t;if(this.checkProcessable("morphologicalGradient",{bitDepth:[8,16],components:1,alpha:0}),e.columns%2===0||e.rows%2===0)throw new TypeError("morphologicalGradient: The number of rows and columns of the kernel must be odd");let n=this;for(let i=0;i<r;i++){let t=n.dilate({kernel:e}),r=n.erode({kernel:e});n=t.subtractImage(r,{absolute:!0})}return n}function zh(t){let e=0,r=0,n=0,i=0,s=t[0][0],o=0;for(let h=1;h<t.length;h++)t[h][0]<s&&(s=t[h][0],o=h);let a=t[(o+1)%t.length][0],l=(o+1)%t.length;for(let h=1;h<t.length;h++)t[h][0]<a&&h!==o&&(a=t[h][0],l=h);return t[l][1]<t[o][1]?(e=t[l],i=t[o],o!==(l+1)%4?(r=t[(l+1)%4],n=t[(l+2)%4]):(r=t[(l+2)%4],n=t[(l+3)%4])):(i=t[l],e=t[o],l!==(o+1)%4?(r=t[(o+1)%4],n=t[(o+2)%4]):(r=t[(o+2)%4],n=t[(o+3)%4])),[e,r,n,i]}function jh(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function Vh(t,e){let r=[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]];return r}function Yh(t,e){let r=t[0]*e[0]+t[1]*e[1]+t[2]*e[2];return r}function Xh(t,e,r,n,i,s){let o=Math.max(jh(t,e),jh(n,r)),a=Math.max(jh(t,n),jh(e,r)),l=0,h=0,u=Math.ceil(i/2),c=Math.ceil(s/2),f=o/a,d=[t[0],t[1],1],p=[e[0],e[1],1],m=[n[0],n[1],1],g=[r[0],r[1],1],w=Yh(Vh(d,g),m)/Yh(Vh(p,g),m),b=Yh(Vh(d,g),p)/Yh(Vh(m,g),p),y=[w*p[0]-d[0],w*p[1]-d[1],w*p[2]-d[2]],v=[b*m[0]-d[0],b*m[1]-d[1],b*m[2]-d[2]],_=y[0],x=y[1],k=y[2],M=v[0],E=v[1],A=v[2],S=1/(k*A)*(_*M-(_*A+k*M)*u+k*A*u*u+(x*E-(x*A+k*E)*c+k*A*c*c));S=S>=0?Math.sqrt(S):Math.sqrt(-S);let R=new bh.Z([[S,0,u],[0,S,c],[0,0,1]]),P=R.transpose(),T=(0,yh.S)(P),I=(0,yh.S)(R),C=bh.Z.rowVector(y),D=bh.Z.rowVector(v),O=Math.sqrt(Yh(C.mmul(T).mmul(I).to1DArray(),y)/Yh(D.mmul(T).mmul(I).to1DArray(),v));return 0===O||0===f?(l=Math.ceil(o),h=Math.ceil(a)):O<f?(l=Math.ceil(o),h=Math.ceil(l/O)):(h=Math.ceil(a),l=Math.ceil(O*h)),[l,h]}function Gh(t,e,r,n,i,s,o,a,l,h,u,c){let[f,d]=[(r*t+n*e+i)/(l*t+h*e+1),(s*t+o*e+a)/(l*t+h*e+1)];return u.getValueXY(Math.floor(f),Math.floor(d),c)}function qh(t,e={}){let{calculateRatio:r=!0}=e;if(4!==t.length)throw new Error(`The array pts must have four elements, which are the four corners. Currently, pts have ${t.length} elements`);let n,i,[s,o,a,l]=t,h=[s,o,a,l],[u,c,f,d]=zh(h);r?[n,i]=Xh(u,c,f,d,this.width,this.height):(n=Math.ceil(Math.max(jh(u,c),jh(d,f))),i=Math.ceil(Math.max(jh(u,d),jh(c,f))));let p=Ud.createFrom(this,{width:n,height:i}),[m,g]=u,[w,b]=c,[y,v]=f,[_,x]=d,[k,M]=[0,0],[E,A]=[0,n-1],[S,R]=[i-1,n-1],[P,T]=[i-1,0],I=new bh.Z([[k,M,1,0,0,0,-k*m,-M*m],[E,A,1,0,0,0,-E*w,-A*w],[S,R,1,0,0,0,-S*y,-M*y],[P,T,1,0,0,0,-P*_,-T*_],[0,0,0,k,M,1,-k*g,-M*g],[0,0,0,E,A,1,-E*b,-A*b],[0,0,0,S,R,1,-S*v,-R*v],[0,0,0,P,T,1,-P*x,-T*x]]),C=bh.Z.columnVector([m,w,y,_,g,b,v,x]),D=new Kl.Z(I),O=D.solve(C),[B,U,N,F,L,z,j,V]=O.to1DArray(),Y=new bh.Z(i,n);for(let X=0;X<this.channels;X++){for(let t=0;t<i;t++)for(let e=0;e<n;e++)Y.set(t,e,Gh(t,e,B,U,N,F,L,z,j,V,this,X));p.setMatrix(Y,{channel:X})}return p}function $h(t={}){let{x:e=0,y:r=0,width:n=this.width-e,height:i=this.height-r}=t;if(this.checkProcessable("crop",{bitDepth:[1,8,16]}),e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),e>this.width-1||r>this.height-1)throw new RangeError(`crop: origin (x:${e}, y:${r}) out of range (${this.width-1}; ${this.height-1})`);if(n<=0||i<=0)throw new RangeError(`crop: width and height (width:${n}; height:${i}) must be positive numbers`);if(e<0||r<0)throw new RangeError(`crop: x and y (x:${e}, y:${r}) must be positive numbers`);if(n>this.width-e||i>this.height-r)throw new RangeError(`crop: (x: ${e}, y:${r}, width:${n}, height:${i}) size is out of range`);let s=this;if(1===this.bitDepth){const t=new Ud(n,i,{kind:"BINARY",parent:this});s=Zh(this,t,e,r,n,i)}else{const t=Ud.createFrom(this,{width:n,height:i,position:[e,r]});s=Hh(this,t,e,r,n,i)}return s}function Hh(t,e,r,n,i,s){let o=i*t.channels,a=n+s,l=0,h=r*t.channels;for(let u=n;u<a;u++){let r=u*t.width*t.channels+h,n=r+o;for(;r<n;r++)e.data[l++]=t.data[r]}return e}function Zh(t,e,r,n,i,s){let o=i*t.channels,a=n+s,l=0,h=r*t.channels;for(let u=n;u<a;u++){let r=u*t.width*t.channels+h,n=r+o;for(;r<n;r++)t.getBit(r)&&e.setBit(l),++l}return e}function Wh(t={}){this.checkProcessable("cropAlpha",{alpha:1});const{threshold:e=this.maxValue}=t;let r=Kh(this,e,this.components);if(-1===r)throw new Error("Could not find new dimensions. Threshold may be too high.");let n=Jh(this,e,this.components,r),i=Qh(this,e,this.components,r),s=tu(this,e,this.components,r,n,i);return this.crop({x:r,y:n,width:s-r+1,height:i-n+1})}function Kh(t,e,r){for(let n=0;n<t.width;n++)for(let i=0;i<t.height;i++)if(t.getValueXY(n,i,r)>=e)return n;return-1}function Jh(t,e,r,n){for(let i=0;i<t.height;i++)for(let s=n;s<t.width;s++)if(t.getValueXY(s,i,r)>=e)return i;return-1}function Qh(t,e,r,n){for(let i=t.height-1;i>=0;i--)for(let s=n;s<t.width;s++)if(t.getValueXY(s,i,r)>=e)return i;return-1}function tu(t,e,r,n,i,s){for(let o=t.width-1;o>=n;o--)for(let n=i;n<=s;n++)if(t.getValueXY(o,n,r)>=e)return o;return-1}function eu(t){if("string"===typeof t){const e=t[t.length-1];t=parseFloat(t),"%"===e&&(t/=100)}return t}function ru(t,e){if(!e)throw Error("getThreshold : the maxValue should be specified");if("string"===typeof t){let r=t[t.length-1];if("%"!==r)throw Error("getThreshold : if the value is a string it must finish by %");return parseFloat(t)/100*e}if("number"===typeof t)return t<1?t*e:t;throw Error("getThreshold : the value is not valid")}function nu(t,e,r){t=eu(t);let n=Math.round(t*e),i=Math.round(t*r);return n<=0&&(n=1),i<=0&&(i=1),{width:n,height:i}}function iu(t,e){if(e<0||e>=t.height)throw new RangeError(`row must be included between 0 and ${t.height-1}. Current value: ${e}`)}function su(t,e){if(e<0||e>=t.width)throw new RangeError(`column must be included between 0 and ${t.width-1}. Current value: ${e}`)}function ou(t,e){if(e<0||e>=t.channels)throw new RangeError(`channel must be included between 0 and ${t.channels-1}. Current value: ${e}`)}const au={nearestneighbor:"nearestNeighbor",nearestneighbour:"nearestNeighbor",bilinear:"bilinear"};function lu(t){if("string"!==typeof t)throw new TypeError("interpolation must be a string");if(t=t.toLowerCase(),!au[t])throw new RangeError(`invalid interpolation algorithm: ${t}`);return au[t]}function hu(t,e,r){const n=this.width/e,i=this.height/r;if(this.bitDepth>1)for(let s=0;s<e;s++){const e=Math.floor((s+.5)*n);for(let n=0;n<r;n++){const r=Math.floor((n+.5)*i);for(let i=0;i<this.channels;i++)t.setValueXY(s,n,i,this.getValueXY(e,r,i))}}else for(let s=0;s<e;s++){const e=Math.floor((s+.5)*n);for(let n=0;n<r;n++){const r=Math.floor((n+.5)*i);this.getBitXY(e,r)&&t.setBitXY(s,n)}}}function uu(t={}){const{factor:e=1,interpolation:r=au.nearestneighbor,preserveAspectRatio:n=!0}=t,i=lu(r);let s=t.width,o=t.height;if(s||(s=o&&n?Math.round(o*(this.width/this.height)):this.width),o||(o=n?Math.round(s*(this.height/this.width)):this.height),({width:s,height:o}=nu(e,s,o)),s===this.width&&o===this.height){const t=this.clone();return t.position=[0,0],t}let a=Math.round((this.width-s)/2),l=Math.round((this.height-o)/2);const h=Ud.createFrom(this,{width:s,height:o,position:[a,l]});switch(i){case au.nearestneighbor:hu.call(this,h,s,o);break;default:throw new Error(`unsupported resize interpolation: ${i}`)}return h}function cu(){this.checkProcessable("hsv",{bitDepth:[8,16],alpha:[0,1],colorModel:[Mo]});let t=Ud.createFrom(this,{colorModel:Ao}),e=0,r=this.data;for(let n=0;n<r.length;n+=this.channels){let i=r[n],s=r[n+1],o=r[n+2],a=Math.min(i,s,o),l=Math.max(i,s,o),h=l-a,u=0,c=0===l?0:h/l,f=l;if(l!==a){switch(l){case i:u=(s-o)/h+(s<o?6:0);break;case s:u=(o-i)/h+2;break;case o:u=(i-s)/h+4;break;default:throw new Error("unreachable")}u/=6}t.data[e++]=u*this.maxValue,t.data[e++]=c*this.maxValue,t.data[e++]=f,this.alpha&&(t.data[e++]=r[n+3])}return t}function fu(){this.checkProcessable("hsl",{bitDepth:[8,16],alpha:[0,1],colorModel:[Mo]});let t=Ud.createFrom(this,{colorModel:Eo}),e=Math.floor(this.maxValue/2),r=0,n=this.data;for(let i=0;i<n.length;i+=this.channels){let s=n[i],o=n[i+1],a=n[i+2],l=Math.max(s,o,a),h=Math.min(s,o,a),u=0,c=0,f=(l+h)/2;if(l!==h){let t=l-h;switch(c=f>e?t/(2-l-h):t/(l+h),l){case s:u=(o-a)/t+(o<a?6:0);break;case o:u=(a-s)/t+2;break;case a:u=(s-o)/t+4;break;default:throw new Error("unreachable")}u/=6}t.data[r++]=u*this.maxValue,t.data[r++]=c*this.maxValue,t.data[r++]=f,this.alpha&&(t.data[r++]=n[i+3])}return t}function du(){this.checkProcessable("cmyk",{bitDepth:[8,16],alpha:[0,1],colorModel:[Mo]});let t=Ud.createFrom(this,{components:4,colorModel:So}),e=0,r=this.data;for(let n=0;n<r.length;n+=this.channels){let i=r[n],s=r[n+1],o=r[n+2],a=Math.min(this.maxValue-i,this.maxValue-s,this.maxValue-o),l=(this.maxValue-i-a)/(1-a/this.maxValue),h=(this.maxValue-s-a)/(1-a/this.maxValue),u=(this.maxValue-o-a)/(1-a/this.maxValue);t.data[e++]=Math.round(l),t.data[e++]=Math.round(h),t.data[e++]=Math.round(u),t.data[e++]=Math.round(a),this.alpha&&(t.data[e++]=r[n+3])}return t}function pu(){return new Ud(this.width,this.height,this.getRGBAData(),{kind:"RGBA",parent:this})}const mu={luma709(t,e,r){return 6966*t+23436*e+2366*r>>15},luma601(t,e,r){return 9798*t+19235*e+3735*r>>15},maximum(t,e,r){return Math.max(t,e,r)},minimum(t,e,r){return Math.min(t,e,r)},average(t,e,r){return(t+e+r)/3>>0},minmax(t,e,r){return(Math.max(t,e,r)+Math.min(t,e,r))/2},red(t){return t},green(t,e){return e},blue(t,e,r){return r},cyan(t,e,r,n){let i=mu.black(t,e,r,n);return(n.maxValue-t-i)/(1-i/n.maxValue)>>0},magenta(t,e,r,n){let i=mu.black(t,e,r,n);return(n.maxValue-e-i)/(1-i/n.maxValue)>>0},yellow(t,e,r,n){let i=mu.black(t,e,r,n);return(n.maxValue-r-i)/(1-i/n.maxValue)>>0},black(t,e,r,n){return Math.min(n.maxValue-t,n.maxValue-e,n.maxValue-r)},hue(t,e,r,n){let i=mu.min(t,e,r),s=mu.max(t,e,r);if(s===i)return 0;let o=0,a=s-i;switch(s){case t:o=(e-r)/a+(e<r?6:0);break;case e:o=(r-t)/a+2;break;case r:o=(t-e)/a+4;break;default:throw new Error("unreachable")}return o/6*n.maxValue>>0},saturation(t,e,r,n){let i=mu.min(t,e,r),s=mu.max(t,e,r),o=s-i;return 0===s?0:o/s*n.maxValue},lightness(t,e,r){let n=mu.min(t,e,r),i=mu.max(t,e,r);return(i+n)/2}};Object.defineProperty(mu,"luminosity",{enumerable:!1,value:mu.lightness}),Object.defineProperty(mu,"luminance",{enumerable:!1,value:mu.lightness}),Object.defineProperty(mu,"min",{enumerable:!1,value:mu.minimum}),Object.defineProperty(mu,"max",{enumerable:!1,value:mu.maximum}),Object.defineProperty(mu,"brightness",{enumerable:!1,value:mu.maximum});const gu={};function wu(t={}){let{algorithm:e="luma709",keepAlpha:r=!1,mergeAlpha:n=!0}=t;if("string"!==typeof e&&"function"!==typeof e)throw new TypeError("algorithm must be a string or a function");this.checkProcessable("grey",{bitDepth:[8,16],alpha:[0,1]}),1===this.components&&(e="red"),r&=this.alpha,n&=this.alpha,r&&(n=!1);let i,s=yl(this,t,{components:1,alpha:r,colorModel:ko});if("function"===typeof e)i=e;else if(i=mu[e.toLowerCase()],!i)throw new Error(`unsupported grey algorithm: ${e}`);let o=0;for(let a=0;a<this.data.length;a+=this.channels)n?s.data[o++]=$l(i(this.data[a],this.data[a+1],this.data[a+2],this)*this.data[a+this.components]/this.maxValue,this):(s.data[o++]=$l(i(this.data[a],this.data[a+1],this.data[a+2],this),this),s.alpha&&(s.data[o++]=this.data[a+this.components]));return s}function bu(t){let e=0;for(let u=0;u<t.length;u++)if(0!==t[u]){e=u;break}let r=t.length-1;for(let u=t.length-1;u>=e;u--)if(0!==t[u]){r=u;break}let n=1/(r-e),i=new Array(t.length),s=0,o=0;for(let u=e;u<t.length;u++)s+=u*t[u],o+=t[u],i[u]=s/o;let a=new Array(t.length);s=o=0;for(let u=r;u>0;u--)s+=u*t[u],o+=t[u],a[u-1]=s/o;let l=-1,h=Number.MAX_VALUE;for(let u=0;u<t.length;u++){let e,r=0;for(let s=0;s<=u;s++)e=1/(1+n*Math.abs(s-i[u])),e<1e-6||e>.999999||(r+=t[s]*(-e*Math.log(e)-(1-e)*Math.log(1-e)));for(let i=u+1;i<t.length;i++)e=1/(1+n*Math.abs(i-a[u])),e<1e-6||e>.999999||(r+=t[i]*(-e*Math.log(e)-(1-e)*Math.log(1-e)));r<h&&(h=r,l=u)}return l}function yu(t){let e=t.slice(),r=0;while(!vu(e)){let n=0,i=0,s=e[0];for(let r=0;r<t.length-1;r++)n=i,i=s,s=e[r+1],e[r]=(n+i+s)/3;if(e[t.length-1]=(i+s)/3,r++,r>1e4)throw new Error("Intermodes Threshold not found after 10000 iterations")}let n=0;for(let i=1;i<t.length-1;i++)e[i-1]<e[i]&&e[i+1]<e[i]&&(n+=i);return Math.floor(n/2)}function vu(t){let e=!1,r=0;for(let n=1;n<t.length-1;n++)if(t[n-1]<t[n]&&t[n+1]<t[n]&&(r++,r>2))return!1;return 2===r&&(e=!0),e}function _u(t){let e,r,n,i,s=0;for(let o=1;o<t.length;o++)if(t[o]>0){s=o+1;break}while(1){e=0,n=0;for(let r=0;r<s;r++)n+=t[r],e+=t[r]*r;i=0,r=0;for(let e=s+1;e<t.length;e++)r+=t[e],i+=t[e]*e;if(n>0&&r>0&&(e/=n,i/=r,s===Math.round((e+i)/2)))break;if(s++,s>t.length-2)throw new Error("Threshold not found")}return s}function xu(t,e){let r,n,i,s,o,a,l,h,u,c,f,d;f=.5,c=0;for(let p=0;p<t.length;p++)c+=p*t[p];c/=e,l=c;do{a=l,r=a+.5|0,n=0,s=0;for(let e=0;e<=r;e++)n+=e*t[e],s+=t[e];h=0===s?0:n/s,i=0,o=0;for(let e=r+1;e<t.length;e++)i+=e*t[e],o+=t[e];u=0===o?0:i/o,d=(h-u)/(Math.log(h)-Math.log(u)),l=d<-Number.EPSILON?d-.5|0:d+.5|0}while(Math.abs(l-a)>f);return r}function ku(t,e){let r=new Array(t.length);for(let f=0;f<t.length;f++)r[f]=t[f]/e;let n=new Array(t.length),i=new Array(t.length);n[0]=r[0],i[0]=1-n[0];for(let f=1;f<t.length;f++)n[f]=n[f-1]+r[f],i[f]=1-n[f];let s=0;for(let f=0;f<t.length;f++)if(Math.abs(n[f])>=Number.EPSILON){s=f;break}let o=t.length-1;for(let f=t.length-1;f>=s;f--)if(Math.abs(i[f])>=Number.EPSILON){o=f;break}let a,l,h,u=-1,c=Number.MIN_VALUE;for(let f=s;f<=o;f++){l=0;for(let e=0;e<=f;e++)0!==t[e]&&(l-=r[e]/n[f]*Math.log(r[e]/n[f]));h=0;for(let e=f+1;e<t.length;e++)0!==t[e]&&(h-=r[e]/i[f]*Math.log(r[e]/i[f]));a=l+h,c<a&&(c=a,u=f)}return u}function Mu(t,e){let r=0;for(let n=0;n<t.length;n++)r+=n*t[n];return Math.floor(r/e)}function Eu(t,e){let r,n,i,s,o,a,l,h,u,c,f,d,p=-2,m=0;for(let g=0;g<t.length;g++)m+=g*t[g];m/=e,r=m;while(r!==p){let e=Au(t,r),m=Au(t,t.length-1),g=Su(t,r),w=Su(t,t.length-1),b=Ru(t,r),y=Ru(t,t.length-1);if(n=g/e,i=(w-g)/(m-e),s=e/m,o=(m-e)/m,a=b/e-n*n,l=(y-b)/(m-e)-i*i,h=1/a-1/l,u=n/a-i/l,c=n*n/a-i*i/l+Math.log10(a*(o*o)/(l*(s*s))),f=u*u-h*c,f<0)return r;p=r,d=(u+Math.sqrt(f))/h,r=isNaN(d)?p:Math.floor(d)}return r}function Au(t,e){let r=0;for(let n=0;n<=e;n++)r+=t[n];return r}function Su(t,e){let r=0;for(let n=0;n<=e;n++)r+=n*t[n];return r}function Ru(t,e){let r=0;for(let n=0;n<=e;n++)r+=n*n*t[n];return r}function Pu(t){if(t.length<2)return 0;let e=0,r=-1,n=-1,i=new Array(t.length);for(let s=0;s<t.length;s++)i[s]=t[s],t[s]>0&&(n=s);while(!Cu(i))if(i=Tu(i),e++,e>1e4)return r;return r=Iu(i,n),r}function Tu(t){let e=new Array(t.length);for(let r=1;r<t.length-1;r++)e[r]=(t[r-1]+t[r]+t[r+1])/3;return e[0]=(t[0]+t[1])/3,e[t.length-1]=(t[t.length-2]+t[t.length-1])/3,e}function Iu(t,e){let r;for(let n=1;n<e;n++)if(t[n-1]>t[n]&&t[n+1]>=t[n]){r=n;break}return r}function Cu(t){let e=t.length,r=!1,n=0;for(let i=1;i<e-1;i++)if(t[i-1]<t[i]&&t[i+1]<t[i]&&(n++,n>2))return!1;return 2===n&&(r=!0),r}function Du(t,e){let r,n,i,s,o,a,l=1,h=0,u=0,c=0,f=0,d=-1,p=t.length,m=new Array(p);for(let g=0;g<p;g++)m[g]=t[g]/e;for(let g=0;g<p;g++)h+=g*m[g],u+=g*g*m[g],c+=g*g*g*m[g];n=l*u-h*h,i=(-u*u+h*c)/n,s=(l*-c+u*h)/n,o=.5*(-s-Math.sqrt(s*s-4*i)),a=.5*(-s+Math.sqrt(s*s-4*i)),r=(a-h)/(a-o);for(let g=0;g<p;g++)if(f+=m[g],f>r){d=g;break}return d}function Ou(t,e){let r=0,n=0,i=0,s=0,o=0;for(let a=0;a<t.length;a++)o+=a*t[a];for(let a=0;a<t.length;a++){n+=t[a];const l=e-n;if(0===n||0===l)continue;r+=a*t[a];const h=(o-r)/l,u=n*l*(r/n-h)*(r/n-h);u>=i&&(s=a,i=u)}return s}function Bu(t){let e=-1,r=.5,n=new Array(t.length),i=Uu(t,t.length-1),s=1;for(let o=0;o<t.length;o++)n[o]=Math.abs(Uu(t,o)/i-r),n[o]<s&&(s=n[o],e=o);return e}function Uu(t,e){let r=0;for(let n=0;n<=e;n++)r+=t[n];return r}function Nu(t,e){let r,n,i,s=new Array(t.length),o=new Array(t.length),a=new Array(t.length),l=0,h=0,u=0,c=0,f=0,d=0,p=.5,m=1/(1-p),g=2,w=1/(1-g);for(let _=0;_<t.length;_++)s[_]=t[_]/e;o[0]=s[0],a[0]=1-o[0];for(let _=1;_<t.length;_++)o[_]=o[_-1]+s[_],a[_]=1-o[_];n=0;for(let _=0;_<t.length;_++)if(Math.abs(o[_])>=Number.EPSILON){n=_;break}i=t.length-1;for(let _=t.length-1;_>=n;_--)if(Math.abs(a[_])>=Number.EPSILON){i=_;break}for(let _=n;_<=i;_++){let e=0,r=0,n=0;for(let a=0;a<=_;a++)0!==t[a]&&(e-=s[a]/o[_]*Math.log(s[a]/o[_])),r+=Math.sqrt(s[a]/o[_]),n+=s[a]*s[a]/(o[_]*o[_]);let i=0,p=0,g=0;for(let o=_+1;o<t.length;o++)0!==t[o]&&(i-=s[o]/a[_]*Math.log(s[o]/a[_])),p+=Math.sqrt(s[o]/a[_]),g+=s[o]*s[o]/(a[_]*a[_]);let b=e+i,y=m*(r*p>0?Math.log(r*p):0),v=w*(n*g>0?Math.log(n*g):0);b>c&&(c=b,l=_),y>f&&(f=y,h=_),v>d&&(d=v,u=_)}let b,y=[l,h,u];y.sort(((t,e)=>t-e)),b=Math.abs(y[0]-y[1])<=5?Math.abs(y[1]-y[2])<=5?[1,2,1]:[0,1,3]:Math.abs(y[1]-y[2])<=5?[3,1,0]:[1,2,1];let v=o[y[2]]-o[y[0]];return r=Math.round(y[0]*(o[y[0]]+.25*v*b[0])+.25*y[1]*v*b[1]+y[2]*(a[y[2]]+.25*v*b[2])),r}function Fu(t,e){let r=new Array(t.length);for(let d=0;d<t.length;d++)r[d]=t[d]/e;let n=new Array(t.length),i=new Array(t.length);n[0]=r[0],i[0]=1-n[0];for(let d=1;d<t.length;d++)n[d]=n[d-1]+r[d],i[d]=1-n[d];let s=0;for(let d=0;d<t.length;d++)if(Math.abs(n[d])>=Number.EPSILON){s=d;break}let o=t.length-1;for(let d=t.length-1;d>=s;d--)if(Math.abs(i[d])>=Number.EPSILON){o=d;break}let a,l,h,u,c=-1,f=Number.MAX_VALUE;for(let d=s;d<=o;d++){h=0,a=.5/n[d];for(let t=1;t<=d;t++)h-=r[t]*Math.log(1-a*n[t-1]);h*=a,u=0,a=.5/i[d];for(let e=d+1;e<t.length;e++)u-=r[e]*Math.log(1-a*i[e]);u*=a,l=Math.abs(h-u),l<f&&(f=l,c=d)}return c}function Lu(t){let e=0,r=0,n=0,i=0;for(let c=0;c<t.length;c++)if(t[c]>0){e=c;break}e>0&&e--;for(let c=t.length-1;c>0;c--)if(t[c]>0){i=c;break}i<t.length-1&&i++;for(let c=0;c<t.length;c++)t[c]>r&&(n=c,r=t[c]);let s,o,a,l=!1;if(n-e<i-n){l=!0;let r=0,s=t.length-1;while(r<s){let e=t[r];t[r]=t[s],t[s]=e,r++,s--}e=t.length-1-i,n=t.length-1-n}if(e===n)return e;s=t[n],o=e-n,a=Math.sqrt(s*s+o*o),s/=a,o/=a,a=s*e+o*t[e];let h=e,u=0;for(let c=e+1;c<=n;c++){let e=s*c+o*t[c]-a;e>u&&(h=c,u=e)}if(h--,l){let e=0,r=t.length-1;while(e<r){let n=t[e];t[e]=t[r],t[r]=n,e++,r--}return t.length-1-h}return h}function zu(t,e){let r=new Array(t.length);for(let h=0;h<t.length;h++)r[h]=t[h]/e;let n=new Array(t.length);n[0]=r[0];for(let h=1;h<t.length;h++)n[h]=n[h-1]+r[h];let i=new Array(t.length);i[0]=r[0]*r[0];for(let h=1;h<t.length;h++)i[h]=i[h-1]+r[h]*r[h];let s=new Array(t.length);s[t.length-1]=0;for(let h=t.length-2;h>=0;h--)s[h]=s[h+1]+r[h+1]*r[h+1];let o,a=-1,l=Number.MIN_VALUE;for(let h=0;h<t.length;h++)o=-1*(i[h]*s[h]>0?Math.log(i[h]*s[h]):0)+2*(n[h]*(1-n[h])>0?Math.log(n[h]*(1-n[h])):0),o>l&&(l=o,a=h);return a}Object.keys(mu).forEach((t=>{gu[t]=t}));const ju={huang:bu,intermodes:yu,isodata:_u,li:xu,maxentropy:ku,mean:Mu,minerror:Eu,minimum:Pu,moments:Du,otsu:Ou,percentile:Bu,renyientropy:Nu,shanbhag:Fu,triangle:Lu,yen:zu},Vu={};function Yu(t={}){let{algorithm:e=Vu.otsu}=t;this.checkProcessable("getThreshold",{components:1,bitDepth:[8,16]});let r=ju[e.toLowerCase()];if(r){let t=this.getHistogram();return r(t,this.size)}throw new Error(`unknown thresholding algorithm: ${e}`)}Object.keys(ju).forEach((t=>{Vu[t]=t}));const Xu="threshold";function Gu(t={}){let{algorithm:e=Xu,threshold:r=.5,useAlpha:n=!0,invert:i=!1}=t;this.checkProcessable("mask",{components:1,bitDepth:[8,16]}),r=e===Xu?ru(r,this.maxValue):Yu.call(this,t);let s=new Ud(this.width,this.height,{kind:"BINARY",parent:this}),o=0;if(this.alpha&&n)for(let a=0;a<this.data.length;a+=this.channels){let t=this.data[a]+(this.maxValue-this.data[a])*(this.maxValue-this.data[a+1])/this.maxValue;(i&&t<=r||!i&&t>=r)&&s.setBit(o),o++}else for(let a=0;a<this.data.length;a+=this.channels)(i&&this.data[a]<=r||!i&&this.data[a]>=r)&&s.setBit(o),o++;return s}function qu(t,e,r,n){let i=t.width,s=t.height,o=e.width,a=t.channels;for(let l=0;l<i;l++)for(let h=0;h<s;h++)for(let s=0;s<a;s++){let u=(h*i+l)*a+s,c=((n+h)*o+r+l)*a+s;e.data[c]=t.data[u]}}function $u(t={}){let{size:e=0,algorithm:r="copy",color:n}=t;if(this.checkProcessable("pad",{bitDepth:[8,16]}),"set"===r){if(n.length!==this.channels)throw new Error(`pad: the color array must have the same length as the number of channels. Here: ${this.channels}`);for(let t=0;t<n.length;t++)0===n[t]&&(n[t]=.001)}else n=ih()(this.channels,null);Array.isArray(e)||(e=[e,e]);let i=this.width+2*e[0],s=this.height+2*e[1],o=this.channels,a=Ud.createFrom(this,{width:i,height:s});qu(this,a,e[0],e[1]);for(let l=e[0];l<i-e[0];l++)for(let t=0;t<o;t++){let r=n[t]||a.data[(e[1]*i+l)*o+t];for(let n=0;n<e[1];n++)a.data[(n*i+l)*o+t]=r;r=n[t]||a.data[((s-e[1]-1)*i+l)*o+t];for(let n=s-e[1];n<s;n++)a.data[(n*i+l)*o+t]=r}for(let l=0;l<s;l++)for(let t=0;t<o;t++){let r=n[t]||a.data[(l*i+e[0])*o+t];for(let n=0;n<e[0];n++)a.data[(l*i+n)*o+t]=r;r=n[t]||a.data[(l*i+i-e[0]-1)*o+t];for(let n=i-e[0];n<i;n++)a.data[(l*i+n)*o+t]=r}return a}function Hu(t=8){if(this.checkProcessable("colorDepth",{bitDepth:[1,8,16]}),![8,16].includes(t))throw Error("You need to specify the new colorDepth as 8 or 16");if(this.bitDepth===t)return this.clone();let e=Ud.createFrom(this,{bitDepth:t});switch(t){case 8:if(1===this.bitDepth)for(let t=0;t<this.size;t++)this.getBit(t)&&(e.data[t]=255);else for(let t=0;t<this.data.length;t++)e.data[t]=this.data[t]>>8;break;case 16:if(1===this.bitDepth)for(let t=0;t<this.size;t++)this.getBit(t)&&(e.data[t]=65535);else for(let t=0;t<this.data.length;t++)e.data[t]=this.data[t]<<8|this.data[t];break;default:throw new Error("colorDepth conversion unexpected case")}return e}function Zu(t,e={}){const{interpolation:r=au.nearestneighbor,width:n=this.width,height:i=this.height}=e;if("number"!==typeof t)throw new TypeError("degrees must be a number");const s=lu(r),o=t*Math.PI/180,a=Math.floor(Math.abs(n*Math.cos(o))+Math.abs(i*Math.sin(o))),l=Math.floor(Math.abs(i*Math.cos(o))+Math.abs(n*Math.sin(o))),h=Math.cos(-o),u=Math.sin(-o);let c=a/2,f=l/2;a%2===0?(c-=.5,l%2===0?f-=.5:f=Math.floor(f)):(c=Math.floor(c),l%2===0?f-=.5:f=Math.floor(f));const d=Math.floor(n/2-c),p=Math.floor(i/2-f);if(1===this.bitDepth){const t=new Ud(a,l,{kind:"BINARY",parent:this});switch(s){case au.nearestneighbor:return Ku(this,t,d,p,c,f,h,u);case au.bilinear:return Qu(this,t,d,p,c,f,h,u);default:throw new Error(`unsupported rotate interpolation: ${s}`)}}else{const t=Ud.createFrom(this,{width:a,height:l});switch(s){case au.nearestneighbor:return Wu(this,t,d,p,c,f,h,u);case au.bilinear:return Ju(this,t,d,p,c,f,h,u);default:throw new Error(`unsupported rotate interpolation: ${s}`)}}}function Wu(t,e,r,n,i,s,o,a){for(let l=0;l<e.width;l+=1)for(let h=0;h<e.height;h+=1)for(let u=0;u<t.channels;u++){let c=Math.round((l-i)*o-(h-s)*a+i)+r,f=Math.round((h-s)*o+(l-i)*a+s)+n;c<0||c>=t.width||f<0||f>=t.height?1===t.alpha&&u===t.channels-1?e.setValueXY(l,h,u,0):e.setValueXY(l,h,u,t.maxValue):e.setValueXY(l,h,u,t.getValueXY(c,f,u))}return e}function Ku(t,e,r,n,i,s,o,a){for(let l=0;l<e.width;l+=1)for(let h=0;h<e.height;h+=1){let u=Math.round((l-i)*o-(h-s)*a+i)+r,c=Math.round((h-s)*o+(l-i)*a+s)+n;(u<0||u>=t.width||c<0||c>=t.height||t.getBitXY(u,c))&&e.setBitXY(l,h)}return e}function Ju(t,e,r,n,i,s,o,a){let l=t.width*t.channels;for(let h=0;h<e.height;h++)for(let u=0;u<e.width;u++){let c=(u-i)*o-(h-s)*a+i+r,f=(h-s)*o+(u-i)*a+s+n,d=0|c,p=0|f,m=c-d,g=f-p;for(let r=0;r<t.channels;r++)if(c<0||c>=t.width||f<0||f>=t.height)1===t.alpha&&r===t.channels-1?e.setValueXY(u,h,r,0):e.setValueXY(u,h,r,t.maxValue);else{let n=(p*t.width+d)*t.channels+r,i=t.data[n],s=t.data[n+t.channels],o=t.data[n+l],a=t.data[n+l+t.channels],c=i+m*(s-i)+g*(o-i)+m*g*(i-s-o+a)|0;e.setValueXY(u,h,r,c)}}return e}function Qu(t,e,r,n,i,s,o,a){let l=t.width;for(let h=0;h<e.height;h++)for(let u=0;u<e.width;u++){let c=(u-i)*o-(h-s)*a+i+r,f=(h-s)*o+(u-i)*a+s+n,d=0|c,p=0|f,m=c-d,g=f-p;if(c<0||c>=t.width||f<0||f>=t.height)e.setBitXY(u,h);else{let r=p*t.width+d,n=t.getBit(r),i=t.getBit(r+1),s=t.getBit(r+l),o=t.getBit(r+1+l),a=n|m&i-n|g&s-n|m&g&n-i-s+o;a>0&&e.setBitXY(u,h)}}return e}function tc(t,e){if(this.checkProcessable("rotate",{bitDepth:[1,8,16]}),"number"!==typeof t)throw new TypeError("angle must be a number");switch(t<0&&(t=360*Math.ceil(-t/360)+t),t%360){case 0:return this.clone();case 90:return rc.call(this);case 180:return nc.call(this);case 270:return ec.call(this);default:return Zu.call(this,t,e)}}function ec(){if(1===this.bitDepth){const t=new Ud(this.height,this.width,{kind:"BINARY",parent:this}),e=t.height-1;for(let r=0;r<this.height;r++)for(let n=0;n<this.width;n++)this.getBitXY(n,r)&&t.setBitXY(r,e-n);return t}{const t=Ud.createFrom(this,{width:this.height,height:this.width}),e=t.height-1;for(let r=0;r<this.height;r++)for(let n=0;n<this.width;n++)for(let i=0;i<this.channels;i++)t.setValueXY(r,e-n,i,this.getValueXY(n,r,i));return t}}function rc(){if(1===this.bitDepth){const t=new Ud(this.height,this.width,{kind:"BINARY",parent:this}),e=t.width-1;for(let r=0;r<this.height;r++)for(let n=0;n<this.width;n++)this.getBitXY(n,r)&&t.setBitXY(e-r,n);return t}{const t=Ud.createFrom(this,{width:this.height,height:this.width}),e=t.width-1;for(let r=0;r<this.height;r++)for(let n=0;n<this.width;n++)for(let i=0;i<this.channels;i++)t.setValueXY(e-r,n,i,this.getValueXY(n,r,i));return t}}function nc(){if(1===this.bitDepth){const t=new Ud(this.width,this.height,{kind:"BINARY",parent:this}),e=t.width-1,r=t.height-1;for(let n=0;n<this.height;n++)for(let i=0;i<this.width;i++)this.getBitXY(i,n)&&t.setBitXY(e-i,r-n);return t}{const t=Ud.createFrom(this),e=t.width-1,r=t.height-1;for(let n=0;n<this.height;n++)for(let i=0;i<this.width;i++)for(let s=0;s<this.channels;s++)t.setValueXY(e-i,r-n,s,this.getValueXY(i,n,s));return t}}function ic(t,e={}){const r=bl(t);this.checkProcessable("insert",r);let{x:n=0,y:i=0}=e;const s=vl(this,e,{copy:!0}),o=Math.min(s.height,i+t.height),a=Math.min(s.width,n+t.width);if(1===s.bitDepth)for(let l=i;l<o;l++)for(let e=n;e<a;e++){const r=t.getBitXY(e-n,l-i);r?s.setBitXY(e,l):s.clearBitXY(e,l)}else for(let l=i;l<o;l++)for(let e=n;e<a;e++)s.setPixelXY(e,l,t.getPixelXY(e-n,l-i));return s}function sc(t={}){let{size:e=0,algorithm:r="copy",color:n}=t;if(this.checkProcessable("setBorder",{bitDepth:[8,16,32,64]}),"set"===r){if(n.length!==this.channels)throw new Error(`setBorder: the color array must have the same length as the number of channels. Here: ${this.channels}`);for(let t=0;t<n.length;t++)0===n[t]&&(n[t]=.001)}else n=ih()(this.channels,null);Array.isArray(e)||(e=[e,e]);let i=e[0],s=e[1],o=this.channels;for(let a=i;a<this.width-i;a++)for(let t=0;t<o;t++){let e=n[t]||this.data[(a+this.width*s)*o+t];for(let r=0;r<s;r++)this.data[(r*this.width+a)*o+t]=e;e=n[t]||this.data[(a+this.width*(this.height-s-1))*o+t];for(let r=this.height-s;r<this.height;r++)this.data[(r*this.width+a)*o+t]=e}for(let a=0;a<this.height;a++)for(let t=0;t<o;t++){let e=n[t]||this.data[(a*this.width+i)*o+t];for(let r=0;r<i;r++)this.data[(a*this.width+r)*o+t]=e;e=n[t]||this.data[(a*this.width+this.width-i-1)*o+t];for(let r=this.width-i;r<this.width;r++)this.data[(a*this.width+r)*o+t]=e}return this}function oc(t={}){let{preserveAlpha:e=!0}=t;if(this.checkProcessable("split",{bitDepth:[8,16]}),1===this.components)return new il([this.clone()]);let r=new il,n=this.data;if(this.alpha&&e)for(let i=0;i<this.components;i++){let t=Ud.createFrom(this,{components:1,alpha:!0,colorModel:ko}),e=0;for(let r=0;r<n.length;r+=this.channels)t.data[e++]=n[r+i],t.data[e++]=n[r+this.components];r.push(t)}else for(let i=0;i<this.channels;i++){let t=Ud.createFrom(this,{components:1,alpha:!1,colorModel:ko}),e=0;for(let r=0;r<n.length;r+=this.channels)t.data[e++]=n[r+i];r.push(t)}return r}function ac(t,e={}){let{keepAlpha:r=!1,mergeAlpha:n=!1}=e;r&=this.alpha,n&=this.alpha,this.checkProcessable("getChannel",{bitDepth:[8,16]}),t=Bl(this,t);let i=Ud.createFrom(this,{components:1,alpha:r,colorModel:ko}),s=0;for(let o=0;o<this.data.length;o+=this.channels)n?i.data[s++]=this.data[o+t]*this.data[o+this.components]/this.maxValue:(i.data[s++]=this.data[o+t],r&&(i.data[s++]=this.data[o+this.components]));return i}function lc(t=hc,e={}){let{mergeAlpha:r=!1,keepAlpha:n=!1}=e;r&=this.alpha,n&=this.alpha,this.checkProcessable("combineChannels",{bitDepth:[8,16]});let i=Ud.createFrom(this,{components:1,alpha:n,colorModel:ko}),s=0;for(let o=0;o<this.size;o++){let e=t(this.getPixel(o));r?i.data[s++]=e*this.data[o*this.channels+this.components]/this.maxValue:(i.data[s++]=e,n&&(i.data[s++]=this.data[o*this.channels+this.components]))}return i}function hc(t){return(t[0]+t[1]+t[2])/3}function uc(t,e){if(this.checkProcessable("setChannel",{bitDepth:[8,16]}),e.checkProcessable("setChannel (image parameter check)",{bitDepth:[this.bitDepth],alpha:[0],components:[1]}),e.width!==this.width||e.height!==this.height)throw new Error("Images must have exactly the same width and height");t=Bl(this,t);let r=t;for(let n=0;n<e.data.length;n++)this.data[r]=e.data[n],r+=this.channels;return this}function cc(t,e={}){let{shift:r=[0,0],average:n,channels:i,defaultAlpha:s,normalize:o,border:a=[0,0]}=e;if(this.checkProcessable("getSimilarity",{bitDepth:[8,16]}),Array.isArray(a)||(a=[a,a]),i=Cl(this,{channels:i,defaultAlpha:s}),this.bitDepth!==t.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==t.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==t.colorModel)throw new Error("Both images must have the same colorModel");"undefined"===typeof n&&(n=!0);let l=Math.max(a[0],-r[0]),h=Math.min(this.width-a[0],this.width-r[0]),u=Math.max(a[1],-r[1]),c=Math.min(this.height-a[1],this.height-r[1]),f=ih()(i.length,0);for(let d=0;d<i.length;d++){let e=i[d],n=o?this.sum[e]:Math.max(this.sum[e],t.sum[e]),s=o?t.sum[e]:Math.max(this.sum[e],t.sum[e]);if(0!==n&&0!==s)for(let i=l;i<h;i++)for(let o=u;o<c;o++){let a=i*this.multiplierX+o*this.multiplierY+e,l=a+r[0]*this.multiplierX+r[1]*this.multiplierY;f[d]+=Math.min(this.data[a]/n,t.data[l]/s)}}return n?f.reduce(((t,e)=>t+e))/f.length:f}function fc(t={}){let{sampling:e=[10,10],painted:r=!1,mask:n}=t;this.checkProcessable("getPixelsGrid",{bitDepth:[8,16],channels:1}),Array.isArray(e)||(e=[e,e]);const i=e[0],s=e[1],o=[],a=[],l=this.width/i,h=this.height/s;let u=Math.floor(l/2);for(let f=0;f<i;f++){let t=Math.floor(h/2);for(let e=0;e<s;e++){let e=Math.round(u),r=Math.round(t);n&&!n.getBitXY(e,r)||(o.push([e,r]),a.push(this.getPixelXY(e,r))),t+=h}u+=l}const c={xyS:o,zS:a};return r&&(c.painted=this.rgba8().paintPoints(o)),c}function dc(t,e,r){const n=new Array(t);for(let i=0;i<t;i++)n[i]=new Array(e);if(r)for(let i=0;i<t;i++)for(let t=0;t<e;t++)n[i][t]=r;return n.width=t,n.height=e,Object.setPrototypeOf(n,dc.prototype),n}function pc(t,e={}){let{border:r}=e;if(this.checkProcessable("getChannel",{bitDepth:[8,16]}),this.bitDepth!==t.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==t.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==t.colorModel)throw new Error("Both images must have the same colorModel");let n=new dc(t.width,t.height,-1/0),i=Math.floor(t.width/2),s=Math.floor(t.height/2),o=i,a=s,l=!1;while(!l){let e=n.localSearch(i,s,-1/0);for(let i=0;i<e.length;i++){let s=e[i],l=this.getSimilarity(t,{border:r,shift:[o-s[0],a-s[1]]});n[s[0]][s[1]]=l}let h=n.localMax(i,s);h.position[0]!==i||h.position[1]!==s?(i=h.position[0],s=h.position[1]):l=!0}return[i-o,s-a]}function mc(t,e=0){this.checkProcessable("getRow",{bitDepth:[8,16]}),iu(this,t),ou(this,e);let r=new Array(this.width),n=0,i=t*this.width*this.channels+e,s=i+this.width*this.channels;for(let o=i;o<s;o+=this.channels)r[n++]=this.data[o];return r}function gc(t,e=0){this.checkProcessable("getColumn",{bitDepth:[8,16]}),su(this,t),ou(this,e);let r=new Array(this.height),n=0,i=this.width*this.channels;for(let s=e+t*this.channels;s<this.data.length;s+=i)r[n++]=this.data[s];return r}function wc(t={}){let{channel:e}=t;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),void 0===e){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");e=0}let r=new bh.Z(this.height,this.width);for(let n=0;n<this.height;n++)for(let t=0;t<this.width;t++)r.set(n,t,this.getValueXY(t,n,e));return r}function bc(t,e={}){t=new bh.Z(t);let{channel:r}=e;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),void 0===r){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");r=0}if(this.width!==t.columns||this.height!==t.rows)throw new RangeError("The size of the matrix must be equal to the size of the image");for(let n=0;n<this.height;n++)for(let e=0;e<this.width;e++)this.setValueXY(e,n,r,t.get(n,e));return this}function yc(){this.checkProcessable("getPixelsArray",{bitDepth:[8,16,32]});let t=new Array(this.size),e=0;for(let r=0;r<this.data.length;r+=this.channels){let n=new Array(this.components);for(let t=0;t<this.components;t++)n[t]=this.data[r+t];t[e++]=n}return t}function vc(t){let e=this,r=e.getClosestCommonParent(t),n=e.getRelativePosition(r,{defaultFurther:!0}),i=_c(e,n),s=t.getRelativePosition(r,{defaultFurther:!0}),o=_c(t,s),a=xc(i,o),l={whitePixelsMask1:[],whitePixelsMask2:[],commonWhitePixels:[]};for(let h=0;h<a.length;h++){let r=a[h],i=[r[0]-n[0],r[1]-n[1]],o=[r[0]-s[0],r[1]-s[1]],u=e.getBitXY(i[0],i[1]),c=t.getBitXY(o[0],o[1]);1===u&&1===c&&l.commonWhitePixels.push(r)}for(let h=0;h<i.length;h++){let t,r;0!==h&&(t=Math.floor(h/e.width),r=h%e.width),1===e.getBitXY(t,r)&&l.whitePixelsMask1.push(i[h])}for(let h=0;h<o.length;h++){let e=0,r=0;0!==h&&(e=Math.floor(h/t.width),r=h%t.width),1===t.getBitXY(e,r)&&l.whitePixelsMask2.push(o[h])}return l}function _c(t,e){let r=[];for(let n=0;n<t.height;n++)for(let i=0;i<t.width;i++){let t=[n,i];r.push([t[0]+e[0],t[1]+e[1]])}return r}function xc(t,e){let r=0,n=0,i=[];while(r<t.length&&n<e.length)t[r][0]===e[n][0]&&t[r][1]===e[n][1]?(i.push(t[r]),r++,n++):t[r][0]<e[n][0]||t[r][0]===e[n][0]&&t[r][1]<e[n][1]?r++:n++;return i}function kc(t){let e,r=Mc(this),n=Mc(t);if(e=r>=n?Ec(this,r):Ec(t,n),0===r||0===n)return e;let i=this,s=t;while(r!==n)if(r>n){if(i=i.parent,null===i)return e;r-=1}else{if(s=s.parent,null===s)return e;n-=1}while(i!==s&&null!==i&&null!==s)if(i=i.parent,s=s.parent,null===i||null===s)return e;return i!==s?e:i}function Mc(t){let e=0,r=t;while(null!=r.parent)r=r.parent,e++;return e}function Ec(t,e){let r=t;while(e>0)r=r.parent,e-=1;return r}dc.prototype.localMin=function(t,e){let r=this[t][e],n=[t,e];for(let i=Math.max(0,t-1);i<Math.min(this.length,t+2);i++)for(let t=Math.max(0,e-1);t<Math.min(this[0].length,e+2);t++)this[i][t]<r&&(r=this[i][t],n=[i,t]);return{position:n,value:r}},dc.prototype.localMax=function(t,e){let r=this[t][e],n=[t,e];for(let i=Math.max(0,t-1);i<Math.min(this.length,t+2);i++)for(let t=Math.max(0,e-1);t<Math.min(this[0].length,e+2);t++)this[i][t]>r&&(r=this[i][t],n=[i,t]);return{position:n,value:r}},dc.prototype.localSearch=function(t,e,r){let n=[];for(let i=Math.max(0,t-1);i<Math.min(this.length,t+2);i++)for(let t=Math.max(0,e-1);t<Math.min(this[0].length,e+2);t++)this[i][t]===r&&n.push([i,t]);return n};const Ac={lowThreshold:10,highThreshold:30,gaussianBlur:1.1},Sc=[[-1,0,1],[-2,0,2],[-1,0,1]],Rc=[[-1,-2,-1],[0,0,0],[1,2,1]],Pc={bitDepth:32,mode:"periodic"};function Tc(t,e){t.checkProcessable("Canny edge detector",{bitDepth:8,channels:1,components:1}),e=Object.assign({},Ac,e);const r=t.width,n=t.height,i=t.maxValue,s={sigma:e.gaussianBlur,radius:3},o=t.gaussianFilter(s),a=o.convolution(Rc,Pc),l=o.convolution(Sc,Pc),h=l.hypotenuse(a),u=t.constructor,c=new u(r,n,{kind:"GREY",bitDepth:32}),f=new u(r,n,{kind:"GREY",bitDepth:32}),d=new u(r,n,{kind:"GREY"});for(var p=1;p<r-1;p++)for(var m=1;m<n-1;m++){var g=(Math.round(Math.atan2(l.getValueXY(p,m,0),a.getValueXY(p,m,0))*(5/Math.PI))+5)%5;0===g&&(h.getValueXY(p,m,0)<=h.getValueXY(p,m-1,0)||h.getValueXY(p,m,0)<=h.getValueXY(p,m+1,0))||1===g&&(h.getValueXY(p,m,0)<=h.getValueXY(p-1,m+1,0)||h.getValueXY(p,m,0)<=h.getValueXY(p+1,m-1,0))||2===g&&(h.getValueXY(p,m,0)<=h.getValueXY(p-1,m,0)||h.getValueXY(p,m,0)<=h.getValueXY(p+1,m,0))||3===g&&(h.getValueXY(p,m,0)<=h.getValueXY(p-1,m-1,0)||h.getValueXY(p,m,0)<=h.getValueXY(p+1,m+1,0))||c.setValueXY(p,m,0,h.getValueXY(p,m,0))}for(p=0;p<r*n;++p){var w=c.data[p],b=0;w>e.highThreshold&&(b++,d.data[p]=i),w>e.lowThreshold&&b++,f.data[p]=b}var y=[];for(p=1;p<r-1;++p)for(m=1;m<n-1;++m)if(1===f.getValueXY(p,m,0))t:for(var v=p-1;v<p+2;++v)for(var _=m-1;_<m+2;++_)if(2===f.getValueXY(v,_,0)){y.push([p,m]),d.setValueXY(p,m,0,i);break t}while(y.length>0){var x=[];for(p=0;p<y.length;++p)for(m=-1;m<2;++m)for(v=-1;v<2;++v)if(0!==m||0!==v){var k=y[p][0]+m,M=y[p][1]+v;1===f.getValueXY(k,M,0)&&0===d.getValueXY(k,M,0)&&(x.push([k,M]),d.setValueXY(k,M,0,i))}y=x}return d}function Ic(t){return Tc(this,t)}function Cc(t,e={}){let{position:r}=e;if(this.checkProcessable("extract",{bitDepth:[1,8,16]}),!r&&(r=t.getRelativePosition(this),!r))throw new Error("extract : can not extract an image because the relative position can not be determined, try to specify manually the position as an array of 2 elements [x,y].");if(this.bitDepth>1){let e=Ud.createFrom(this,{width:t.width,height:t.height,alpha:1,position:r,parent:this});for(let n=0;n<t.width;n++)for(let i=0;i<t.height;i++){for(let t=0;t<this.channels;t++){let s=this.getValueXY(n+r[0],i+r[1],t);e.setValueXY(n,i,t,s)}t.getBitXY(n,i)||e.setValueXY(n,i,this.components,0)}return e}{let e=Ud.createFrom(this,{width:t.width,height:t.height,position:r,parent:this});for(let n=0;n<t.height;n++)for(let i=0;i<t.width;i++)t.getBitXY(i,n)&&this.getBitXY(i+r[0],n+r[1])&&e.setBitXY(i,n);return e}}var Dc=r(3471),Oc=r.n(Dc);function Bc(t={}){const{x:e=0,y:r=0,inPlace:n=!0}=t,i=n?this:Ud.createFrom(this);this.checkProcessable("floodFill",{bitDepth:1});const s=this.getBitXY(e,r);if(s)return i;const o=new(Oc());o.push(new Uc(e,r));while(o.length>0){const t=o.shift();i.setBitXY(t.x,t.y);for(let e=t.x+1;e<this.width;e++){if(i.getBitXY(e,t.y)||this.getBitXY(e,t.y))break;i.setBitXY(e,t.y),t.y+1<this.height&&!this.getBitXY(e,t.y+1)&&o.push(new Uc(e,t.y+1)),t.y-1>=0&&!this.getBitXY(e,t.y-1)&&o.push(new Uc(e,t.y-1))}for(let e=t.x-1;e>=0;e++){if(i.getBitXY(e,t.y)||this.getBitXY(e,t.y))break;i.setBitXY(e,t.y),t.y+1<this.height&&!this.getBitXY(e,t.y+1)&&o.push(new Uc(e,t.y+1)),t.y-1>=0&&!this.getBitXY(e,t.y-1)&&o.push(new Uc(e,t.y-1))}}return i}function Uc(t,e){this.x=t,this.y=e}function Nc(){return Nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nc.apply(this,arguments)}function Fc(t,e,r){e/=100,r/=100;var n=[],i=r*e,s=t/60,o=i*(1-Math.abs(s%2-1)),a=r-i;return n=s>=0&&s<1?[i,o,0]:s>=1&&s<2?[o,i,0]:s>=2&&s<3?[0,i,o]:t>=3&&s<4?[0,o,i]:t>=4&&s<5?[o,0,i]:t>=5&&s<=6?[i,0,o]:[0,0,0],{r:Math.round(255*(n[0]+a)),g:Math.round(255*(n[1]+a)),b:Math.round(255*(n[2]+a))}}function Lc(t,e,r){return e*=(r<50?r:100-r)/100,{h:t,s:2*e/(r+e)*100,v:r+e}}function zc(t,e,r){var n=Lc(t,e,r);return Fc(n.h,n.s,n.v)}var jc={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]};function Vc(t){return Yc(t)||$c(t)||qc(t)||Xc(t)||Gc(t)||Hc(t)||Zc(t)}function Yc(t){var e=jc[t.toLowerCase()];if(e)return{r:e[0],g:e[1],b:e[2],a:100}}function Xc(t){var e=t.match(/rgb\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */).map(Number);return{r:r[0],g:r[1],b:r[2],a:100}}}function Gc(t){var e=t.match(/rgba\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */).map(Number);return{r:r[0],g:r[1],b:r[2],a:100*r[3]}}}function qc(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:100}}function $c(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:100}}function Hc(t){var e=t.match(/hsl\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */),n=parseInt(r[0],10),i=parseInt(r[1],10),s=parseInt(r[2],10),o=zc(n,i,s);return Nc({},o,{a:100})}}function Zc(t){var e=t.match(/hsla\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */),n=parseInt(r[0],10),i=parseInt(r[1],10),s=parseInt(r[2],10),o=parseInt(100*parseFloat(r[3]),10),a=zc(n,i,s);return Nc({},a,{a:o})}}function Wc(t){let e=Vc(t);return[e.r,e.g,e.b,Math.round(255*e.a/100)]}function Kc(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Jc(t,e,r){let n,i,s,o,a,l;return e/=100,r/=100,0===e?o=a=l=255*r:(i=r<=.5?r*(e+1):r+e-r*e,n=2*r-i,s=t/360,o=Kc(n,i,s+1/3),a=Kc(n,i,s),l=Kc(n,i,s-1/3)),{r:o,g:a,b:l}}function Qc(t){let e=new Array(t),r=0;for(let n=0;n<360;n+=360/t){r++;let t=Jc(n,100,30+r%4*15);e[r-1]=[Math.round(255*t.r),Math.round(255*t.g),Math.round(255*t.b)]}return e}function tf(){return[Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.floor(256*Math.random())]}function ef(t){let{color:e,colors:r,randomColors:n,numberColors:i=50}=t;if(e&&!Array.isArray(e)&&(e=Wc(e)),e)return[e];if(r)return r=r.map((function(t){return Array.isArray(t)?t:Wc(t)})),r;if(n){r=new Array(i);for(let t=0;t<i;t++)r[t]=tf()}return Qc(i)}function rf(t,e,r={}){let{color:n="blue",colors:i,font:s="12px Helvetica",rotate:o=0}=r;if(this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:Mo}),!Array.isArray(t))throw Error("paintLabels: labels must be an array");if(!Array.isArray(e))throw Error("paintLabels: positions must be an array");if(n&&!Array.isArray(n)&&(n=Wc(n)),i=i?i.map((function(t){return Array.isArray(t)?t:Wc(t)})):[n],t.length!==e.length)throw Error("paintLabels: positions and labels must be arrays from the same size");Array.isArray(s)||(s=[s]),Array.isArray(o)||(o=[o]);let a=this.getCanvas(),l=a.getContext("2d");for(let h=0;h<t.length;h++){l.save();let r=i[h%i.length];l.fillStyle=`rgba(${r[0]},${r[1]},${r[2]},${r[3]/this.maxValue})`,l.font=s[h%s.length];let n=e[h];l.translate(n[0],n[1]),l.rotate(o[h%o.length]/180*Math.PI),l.fillText(t[h],0,0),l.restore()}return this.data=Uint8Array.from(l.getImageData(0,0,this.width,this.height).data),this}function nf(t,e={}){let{alpha:r=255,labels:n=[],labelsPosition:i=[],labelColor:s="blue",labelFont:o="12px Helvetica"}=e;this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:Mo});let a=ef(Object.assign({},e,{numberColors:t.length}));Array.isArray(t)||(t=[t]);for(let l=0;l<t.length;l++){let e=t[l],n=a[l%a.length];for(let t=0;t<e.width;t++)for(let i=0;i<e.height;i++)if(e.getBitXY(t,i))for(let s=0;s<Math.min(this.components,n.length);s++)if(255===r)this.setValueXY(t+e.position[0],i+e.position[1],s,n[s]);else{let o=this.getValueXY(t+e.position[0],i+e.position[1],s);o=Math.round((o*(255-r)+n[s]*r)/255),this.setValueXY(t+e.position[0],i+e.position[1],s,o)}}if(Array.isArray(n)&&n.length>0){let e=this.getCanvas(),r=e.getContext("2d");r.fillStyle=s,r.font=o;for(let s=0;s<Math.min(t.length,n.length);s++){let e=i[s]?i[s]:t[s].position;r.fillText(n[s],e[0],e[1])}this.data=Uint8Array.from(r.getImageData(0,0,this.width,this.height).data)}return this}function sf(t,e){let r=new Array(t);for(let n=0;n<t;n++)r[n]=new Array(e).fill(0);return r}const of=[[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0]],af=[[0,1,0],[1,1,1],[0,1,0]];class lf{constructor(t={}){let{kind:e="cross",shape:r,size:n,width:i,height:s,filled:o=!0}=t;if(n&&(i=n,s=n),r)switch(r.toLowerCase()){case"square":case"rectangle":this.matrix=hf(i,s,{filled:o});break;case"circle":case"ellipse":this.matrix=uf(i,s,{filled:o});break;case"triangle":this.matrix=cf(i,s,{filled:o});break;default:throw new Error(`Shape: unexpected shape: ${r}`)}else{if(!e)throw new Error("Shape: expected a kind or a shape option");switch(e.toLowerCase()){case"cross":this.matrix=of;break;case"smallcross":this.matrix=af;break;default:throw new Error(`Shape: unexpected kind: ${e}`)}}this.height=this.matrix.length,this.width=this.matrix[0].length,this.halfHeight=this.height/2>>0,this.halfWidth=this.width/2>>0}getPoints(){let t=this.matrix,e=[];for(let r=0;r<t.length;r++)for(let n=0;n<t[0].length;n++)t[r][n]&&e.push([n-this.halfWidth,r-this.halfHeight]);return e}getMask(){let t=new Ud(this.width,this.height,{kind:Uo});for(let e=0;e<this.matrix.length;e++)for(let r=0;r<this.matrix[0].length;r++)this.matrix[e][r]&&t.setBitXY(r,e);return t}}function hf(t,e,r){const n=sf(e,t);if(r.filled)for(let i=0;i<e;i++)for(let e=0;e<t;e++)n[i][e]=1;else{for(let r of[0,e-1])for(let e=0;e<t;e++)n[r][e]=1;for(let r=0;r<e;r++)for(let e of[0,t-1])n[r][e]=1}return n}function uf(t,e,r){const n=sf(e,t,r);let i=1-e%2,s=1-t%2,o=Math.floor((t-1)/2),a=Math.floor((e-1)/2),l=o*o,h=a*a;if(r.filled)for(let u=0;u<=a;u++){let e=Math.floor(Math.sqrt(l-l*u*u/h));for(let r=o-e;r<=o;r++)n[a-u][r]=1,n[a+u+i][r]=1,n[a-u][t-r-1]=1,n[a+u+i][t-r-1]=1}else{for(let e=0;e<=a;e++){let r=Math.floor(Math.sqrt(l-l*e*e/h)),s=o-r;n[a-e][s]=1,n[a+e+i][s]=1,n[a-e][t-s-1]=1,n[a+e+i][t-s-1]=1}for(let t=0;t<=o;t++){let r=Math.floor(Math.sqrt(h-h*t*t/l)),i=a-r;n[i][o-t]=1,n[i][o+t+s]=1,n[e-i-1][o-t]=1,n[e-i-1][o+t+s]=1}}return n}function cf(t,e,r){if(!r.filled)throw new Error("Non filled triangle is not implemented");const n=sf(e,t,r);for(let i=0;i<e;i++){let r=Math.floor((1-i/e)*t/2);for(let e=r;e<t-r;e++)n[i][e]=1}return n}function ff(t,e={}){let{shape:r}=e;this.checkProcessable("paintPoints",{bitDepth:[8,16]});let n=ef(Object.assign({},e,{numberColors:t.length})),i=new lf(r).getPoints(),s=Math.min(this.channels,n[0].length);for(let o=0;o<t.length;o++){let e=n[o%n.length],r=t[o][0],a=t[o][1];for(let t=0;t<i.length;t++){let n=i[t][0],o=i[t][1];if(r+n>=0&&a+o>=0&&r+n<this.width&&a+o<this.height){let t=(r+n+(a+o)*this.width)*this.channels;for(let r=0;r<s;r++)this.data[t+r]=e[r]}}}return this}function df(t,e={}){let{color:r=[this.maxValue,0,0],closed:n=!1}=e;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]});let i=Math.min(this.channels,r.length);for(let s=0;s<t.length-1+n;s++){let e=t[s],n=t[(s+1)%t.length],o=n[0]-e[0],a=n[1]-e[1],l=Math.max(Math.abs(o),Math.abs(a)),h=o/l,u=a/l,c=e[0],f=e[1];for(let t=0;t<=l;t++){let t=Math.round(c),e=Math.round(f);if(t>=0&&e>=0&&t<this.width&&e<this.height)if(1===this.bitDepth)this.setBitXY(t,e);else{let n=(t+e*this.width)*this.channels;for(let t=0;t<i;t++)this.data[n+t]=r[t]}c+=h,f+=u}}return this}function pf(t,e={}){let r=Object.assign({},e);this.checkProcessable("paintPolylines",{bitDepth:[8,16]});let n=ef(Object.assign({},e,{numberColors:t.length}));for(let i=0;i<t.length;i++)r.color=n[i%n.length],this.paintPolyline(t[i],r);return this}function mf(t,e={}){let{color:r=[this.maxValue,0,0],filled:n=!1}=e;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]}),e.closed=!0;let i=gf(t);if(!1===n)return this.paintPolyline(t,e);{let n=Array(this.height);for(let t=0;t<this.height;t++){n[t]=[];for(let e=0;e<this.width;e++)n[t].push(0)}for(let t=0;t<i.length;t++){const e=wf(i[t],i[(t+1)%i.length]);for(let t=0;t<this.height;t++)for(let r=0;r<this.width;r++)bf(r,t,e,this.height)&&(n[t][r]=0===n[t][r]?1:0)}for(let t=0;t<this.height;t++)for(let e=0;e<this.width;e++)if(1===n[t][e])if(1===this.bitDepth)this.setBitXY(e,t);else{let n=Math.min(this.channels,r.length),i=(e+t*this.width)*this.channels;for(let t=0;t<n;t++)this.data[i+t]=r[t]}return this.paintPolyline(t,e)}}function gf(t){let e=[];for(let r=0;r<t.length;r++)t[r][0]===t[(r+1)%t.length][0]&&t[r][1]===t[(r+1)%t.length][1]||t[r][0]===t[(r-1+t.length)%t.length][0]&&t[r][1]===t[(r-1+t.length)%t.length][1]||t[(r+1)%t.length][0]===t[(r-1+t.length)%t.length][0]&&t[(r-1+t.length)%t.length][1]===t[(r+1)%t.length][1]||e.push(t[r]);return e}function wf(t,e){if(t[0]===e[0])return{a:0,b:t[0],vertical:!0};{const r=(e[1]-t[1])/(e[0]-t[0]),n=t[1]-r*t[0];return{a:r,b:n,vertical:!1}}}function bf(t,e,r,n){if(!0===r.vertical)return r.b<=t;if(0===r.a)return!1;{const i=(e-r.b)/r.a;return i<t&&i>=0&&i<=n}}function yf(t,e={}){let r=Object.assign({},e);this.checkProcessable("paintPolygons",{bitDepth:[8,16]});let n=ef(Object.assign({},e,{numberColors:t.length}));for(let i=0;i<t.length;i++)r.color=n[i%n.length],this.paintPolygon(t[i],r);return this}function vf(t={}){let{maxSlots:e=256,channel:r,useAlpha:n=!0}=t;if(this.checkProcessable("getHistogram",{bitDepth:[1,8,16]}),void 0===r){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");r=0}return xf.call(this,r,{useAlpha:n,maxSlots:e})}function _f(t={}){const{maxSlots:e=256,useAlpha:r=!0}=t;this.checkProcessable("getHistograms",{bitDepth:[8,16]});let n=new Array(r?this.components:this.channels);for(let i=0;i<n.length;i++)n[i]=xf.call(this,i,{useAlpha:r,maxSlots:e});return n}function xf(t,e){let{useAlpha:r,maxSlots:n}=e;if(1===this.bitDepth){let t=[0,0];for(let e=0;e<this.height;e++)for(let r=0;r<this.width;r++){let n=this.getBitXY(e,r);0===n?t[0]+=1:1===n&&(t[1]+=1)}return t}let i=Math.log2(n);if(!Gl()(i))throw new RangeError("maxSlots must be a power of 2, for example: 64, 256, 1024");let s=0;this.bitDepth>i&&(s=this.bitDepth-i);let o=this.data,a=ih()(Math.pow(2,Math.min(this.bitDepth,i)),0);if(r&&this.alpha){let e=this.channels-t-1;for(let r=t;r<o.length;r+=this.channels)a[o[r]>>s]+=o[r+e]/this.maxValue}else for(let l=t;l<o.length;l+=this.channels)a[o[l]>>s]++;return a}function kf(t={}){let{useAlpha:e=!0,nbSlots:r=512}=t;this.checkProcessable("getColorHistogram",{bitDepth:[8,16],components:[3]});let n=Math.log(r)/Math.log(8);if(n!==Math.floor(n))throw new RangeError("nbSlots must be a power of 8. Usually 8, 64, 512 or 4096");let i=this.bitDepth-n,s=this.data,o=ih()(Math.pow(8,n),0),a=Math.pow(2,2*n),l=Math.pow(2,n);for(let h=0;h<s.length;h+=this.channels){let t=(s[h]>>i)*a+(s[h+1]>>i)*l+(s[h+2]>>i);e&&this.alpha?o[t]+=s[h+this.channels-1]/this.maxValue:o[t]++}return o}function Mf(){this.checkProcessable("min",{bitDepth:[8,16,32]});let t=ih()(this.channels,1/0);for(let e=0;e<this.data.length;e+=this.channels)for(let r=0;r<this.channels;r++)this.data[e+r]<t[r]&&(t[r]=this.data[e+r]);return t}function Ef(){this.checkProcessable("max",{bitDepth:[8,16,32]});let t=ih()(this.channels,-1/0);for(let e=0;e<this.data.length;e+=this.channels)for(let r=0;r<this.channels;r++)this.data[e+r]>t[r]&&(t[r]=this.data[e+r]);return t}function Af(){this.checkProcessable("sum",{bitDepth:[8,16]});let t=ih()(this.channels,0);for(let e=0;e<this.data.length;e+=this.channels)for(let r=0;r<this.channels;r++)t[r]+=this.data[e+r];return t}function Sf(t=0,e=0){this.checkProcessable("getMoment",{bitDepth:[1]});let r=0;for(let n=0;n<this.width;n++)for(let i=0;i<this.height;i++)1===this.getBitXY(n,i)&&(r+=n**t*i**e);return r}function Rf(t={}){let{mask:e,region:r=3,removeClosePoints:n=0,invert:i=!1,maxEquals:s=2}=t,o=this;this.checkProcessable("localMaxima",{bitDepth:[8,16],components:1}),r*=4;let a=i?0:1,l=[1,0,-1,0,1,1,-1,-1,2,0,-2,0,2,2,-2,-2],h=[0,1,0,-1,1,-1,1,-1,0,2,0,-2,2,-2,2,-2],u=r<=8?1:2,c=[];for(let f=u;f<o.height-u;f++)for(let t=u;t<o.width-u;t++){if(e&&e.getBitXY(t,f)!==a)continue;let n=0,u=0,d=o.data[t+f*o.width];for(let e=0;e<r;e++)i?o.data[t+l[e]+(f+h[e])*o.width]>d&&n++:o.data[t+l[e]+(f+h[e])*o.width]<d&&n++,o.data[t+l[e]+(f+h[e])*o.width]===d&&u++;n+u===r&&u<=s&&c.push([t,f])}if(n>0)for(let f=0;f<c.length;f++)for(let t=f+1;t<c.length;t++)Math.sqrt(Math.pow(c[f][0]-c[t][0],2)+Math.pow(c[f][1]-c[t][1],2))<n&&(c[f][0]=c[f][0]+c[t][0]>>1,c[f][1]=c[f][1]+c[t][1]>>1,c.splice(t,1),t--);return c}function Pf(){let t=this.getHistograms({maxSlots:this.maxValue+1}),e=new Array(t.length);for(let r=0;r<t.length;r++){let n=t[r];e[r]=Za(n)}return e}function Tf(){let t=this.getHistograms({maxSlots:this.maxValue+1}),e=new Array(t.length);for(let r=0;r<t.length;r++){let n=t[r];e[r]=Ha(n)}return e}function If(){this.checkProcessable("points",{bitDepth:[1]});const t=[];for(let e=0;e<this.width;e++)for(let r=0;r<this.height;r++)1===this.getBitXY(e,r)&&t.push([e,r]);return t}function Cf(){this.checkProcessable("extendedPoints",{bitDepth:[1]});const t=[];for(let e=0;e<this.height;e++)for(let r=0;r<this.width;r++)if(1===this.getBitXY(r,e)){t.push([r,e]),1!==this.getBitXY(r+1,e)?(t.push([r+1,e]),t.push([r+1,e+1]),1!==this.getBitXY(r,e+1)&&t.push([r,e+1])):1!==this.getBitXY(r,e+1)&&(t.push([r,e+1]),t.push([r+1,e+1]));while(r<this.width-2&&1===this.getBitXY(r+1,e)&&1===this.getBitXY(r+2,e))r++}return t}function Df(t,e={}){if(this===t)return[0,0];let r=[0,0],n=this;while(n){if(n===t)return r;n.position&&(r[0]+=n.position[0],r[1]+=n.position[1]),n=n.parent}return!!e.defaultFurther&&r}function Of(t={}){let{alpha:e=1}=t;this.checkProcessable("countAlphaPixels",{bitDepth:[8,16],alpha:1});let r=0;if(void 0!==e){for(let t=this.components;t<this.data.length;t+=this.channels)this.data[t]===e&&r++;return r}return this.size}function Bf(t,e={}){const{sorted:r}=e;r||(t=t.slice().sort(Nf));const n=t.length,i=new Array(2*n);let s=0;for(let a=0;a<n;a++){const e=t[a];while(s>=2&&Uf(i[s-2],i[s-1],e)<=0)s--;i[s++]=e}const o=s+1;for(let a=n-2;a>=0;a--){const e=t[a];while(s>=o&&Uf(i[s-2],i[s-1],e)<=0)s--;i[s++]=e}return i.slice(0,s-1)}function Uf(t,e,r){return(e[1]-t[1])*(r[0]-t[0])-(e[0]-t[0])*(r[1]-t[1])}function Nf(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}function Ff(){return Bf(this.extendedPoints,{sorted:!1})}function Lf(t){for(let e=0;e<t.length;e++)t[e][0]=Math.round(t[e][0]),t[e][1]=Math.round(t[e][1]);return t}function zf(t,e){return[t[0]-e[0],t[1]-e[1]]}function jf(t){let e=Math.sqrt(t[0]**2+t[1]**2);return[t[0]/e,t[1]/e]}function Vf(t,e,r){void 0===r&&(r=new Array(e.length));let n=Math.cos(t),i=Math.sin(t);for(let s=0;s<r.length;++s)r[s]=[n*e[s][0]-i*e[s][1],i*e[s][0]+n*e[s][1]];return r}function Yf(t){let e=0;for(let r=0;r<t.length;r++){let n=t[r][0],i=t[r][1],s=t[r===t.length-1?0:r+1][0],o=t[r===t.length-1?0:r+1][1];e+=Math.sqrt((s-n)**2+(o-i)**2)}return e}function Xf(t){let e=0;for(let r=0;r<t.length;r++){let n=t[r][0],i=t[r===t.length-1?0:r+1][1],s=t[r===t.length-1?0:r+1][0],o=t[r][1];e+=n*i*.5,e-=s*o*.5}return Math.abs(e)}function Gf(t){let e=1/0,r=1/0,n=-1/0,i=-1/0;for(let s=0;s<t.length;s++)t[s][0]<e&&(e=t[s][0]),t[s][0]>n&&(n=t[s][0]),t[s][1]<r&&(r=t[s][1]),t[s][1]>i&&(i=t[s][1]);return[[e,r],[n,i]]}function qf(t,e){void 0===e&&(e=new Array(t.length).fill(0).map((()=>[])));let r=Gf(t),n=r[0][0],i=r[0][1];for(let s=0;s<t.length;s++)e[s][0]=t[s][0]-n,e[s][1]=t[s][1]-i;return e}function $f(t={}){const{originalPoints:e=Ff.call(this)}=t;if(0===e.length)return[];if(1===e.length)return[e[0],e[0],e[0],e[0]];const r=new Array(e.length);let n,i=1/0,s=0;for(let o=0;o<r.length;o++){let t=Hf(e[o],e[(o+1)%r.length]);Vf(-t,e,r);let a=r[o][0],l=r[o][1],h=r[(o+1)%r.length][0],u=r[(o+1)%r.length][1],c=!0,f=0,d=0,p=0;for(let e=0;e<r.length;e++){let t=r[e][0],n=r[e][1],i=(t-a)/(h-a);!0===c?(c=!1,f=i,d=i):(i<f&&(f=i),i>d&&(d=i));let s=(-(h-a)*n+h*l-u*a)/(h-a);Math.abs(s)>Math.abs(p)&&(p=s)}let m=[a+f*(h-a),l],g=[a+d*(h-a),l],w=Math.abs(p*(f-d)*(h-a));w<i&&(s=t,i=w,n=[m,g,[g[0],g[1]-p],[m[0],m[1]-p]])}return Vf(s,n,n),n}function Hf(t,e){let r=zf(e,t),n=jf(r),i=Math.acos(n[0]);return n[1]<0?-i:i}function Zf(t){let e={inPlace:!0};t.extendMethod("invert",Ml),t.extendMethod("abs",_l),t.extendMethod("level",sh,e),t.extendMethod("add",uh,e),t.extendMethod("subtract",ch,e),t.extendMethod("subtractImage",fh),t.extendMethod("multiply",ph,e),t.extendMethod("divide",mh,e),t.extendMethod("hypotenuse",dh),t.extendMethod("background",Mh),t.extendMethod("flipX",Sl),t.extendMethod("flipY",Rl),t.extendMethod("blurFilter",Pl),t.extendMethod("medianFilter",Ul),t.extendMethod("gaussianFilter",Nl),t.extendMethod("sobelFilter",eh),t.extendMethod("gradientFilter",th),t.extendMethod("scharrFilter",rh),t.extendMethod("dilate",Eh),t.extendMethod("erode",Th),t.extendMethod("open",Bh),t.extendMethod("close",Uh),t.extendMethod("topHat",Nh),t.extendMethod("blackHat",Fh),t.extendMethod("morphologicalGradient",Lh),t.extendMethod("warpingFourPoints",qh),t.extendMethod("crop",$h),t.extendMethod("cropAlpha",Wh),t.extendMethod("resize",uu).extendMethod("scale",uu),t.extendMethod("hsv",cu),t.extendMethod("hsl",fu),t.extendMethod("cmyk",du),t.extendMethod("rgba8",pu),t.extendMethod("grey",wu).extendMethod("gray",wu),t.extendMethod("mask",Gu),t.extendMethod("pad",$u),t.extendMethod("colorDepth",Hu),t.extendMethod("setBorder",sc,e),t.extendMethod("rotate",tc),t.extendMethod("rotateLeft",ec),t.extendMethod("rotateRight",rc),t.extendMethod("insert",ic),t.extendMethod("getRow",mc),t.extendMethod("getColumn",gc),t.extendMethod("getMatrix",wc),t.extendMethod("setMatrix",bc),t.extendMethod("getPixelsArray",yc),t.extendMethod("getIntersection",vc),t.extendMethod("getClosestCommonParent",kc),t.extendMethod("getThreshold",Yu),t.extendMethod("split",oc),t.extendMethod("getChannel",ac),t.extendMethod("combineChannels",lc),t.extendMethod("setChannel",uc),t.extendMethod("getSimilarity",cc),t.extendMethod("getPixelsGrid",fc),t.extendMethod("getBestMatch",pc),t.extendMethod("cannyEdge",Ic),t.extendMethod("convolution",Ql),t.extendMethod("extract",Cc),t.extendMethod("floodFill",Bc),t.extendMethod("paintLabels",rf,e),t.extendMethod("paintMasks",nf,e),t.extendMethod("paintPoints",ff,e),t.extendMethod("paintPolyline",df,e),t.extendMethod("paintPolylines",pf,e),t.extendMethod("paintPolygon",mf,e),t.extendMethod("paintPolygons",yf,e),t.extendMethod("countAlphaPixels",Of),t.extendMethod("monotoneChainConvexHull",Ff),t.extendMethod("minimalBoundingRectangle",$f),t.extendMethod("getHistogram",vf).extendProperty("histogram",vf),t.extendMethod("getHistograms",_f).extendProperty("histograms",_f),t.extendMethod("getColorHistogram",kf).extendProperty("colorHistogram",kf),t.extendMethod("getMin",Mf).extendProperty("min",Mf),t.extendMethod("getMax",Ef).extendProperty("max",Ef),t.extendMethod("getSum",Af).extendProperty("sum",Af),t.extendMethod("getMoment",Sf).extendProperty("moment",Sf),t.extendMethod("getLocalMaxima",Rf),t.extendMethod("getMedian",Tf).extendProperty("median",Tf),t.extendMethod("getMean",Pf).extendProperty("mean",Pf),t.extendMethod("getPoints",If).extendProperty("points",If),t.extendMethod("getExtendedPoints",Cf).extendProperty("extendedPoints",Cf),t.extendMethod("getRelativePosition",Df)}var Wf=r(757),Kf=r.n(Wf);function Jf(t,e=""){let r=e.split(".");for(let n of r){if(void 0===t[n])return;t=t[n]}return t}var Qf=r(9339),td=r.n(Qf);function ed(t={}){const{originalPoints:e=Ff.call(this)}=t;if(0===e.length)return{min:0,max:0,minLine:[],maxLine:[],aspectRatio:1};if(1===e.length)return{min:1,max:1,minLine:[e[0],e[0]],maxLine:[e[0],e[0]],aspectRatio:1};const r=new Array(e.length);let n=1/0,i=0,s=[];for(let h=0;h<e.length;h++){let t=rd(e[h],e[(h+1)%e.length]);Vf(-t,e,r);let o=0,a=[];for(let n=0;n<e.length;n++){let t=Math.abs(r[h][1]-r[n][1]);t>o&&(o=t,a=[],a.push([r[n][0],r[h][1]],[r[n][0],r[n][1]]))}o<n&&(n=o,i=t,s=a)}Vf(i,s,s);let o=0,a=[],l=0;for(let h=0;h<e.length-1;h++)for(let t=h+1;t<e.length;t++){let r=(e[h][0]-e[t][0])**2+(e[h][1]-e[t][1])**2;r>l&&(l=r,o=Math.sqrt(r),a=[e[h],e[t]])}return{min:n,minLine:s,max:o,maxLine:a,aspectRatio:n/o}}function rd(t,e){let r=zf(e,t),n=jf(r),i=Math.acos(n[0]);return n[1]<0?-i:i}class nd{constructor(t,e){this.map=t,this.id=e,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY,this.meanX=0,this.meanY=0,this.surface=0,this.computed={}}getMask(t={}){const{scale:e=1,kind:r=""}=t;let n;switch(r){case"contour":n=this.contourMask;break;case"box":n=this.boxMask;break;case"filled":n=this.filledMask;break;case"center":n=this.centerMask;break;case"mbr":n=this.mbrFilledMask;break;case"hull":n=this.convexHullFilledMask;break;case"hullContour":n=this.convexHullMask;break;case"mbrContour":n=this.mbrMask;break;case"feret":n=this.feretMask;break;default:n=this.mask}return e<1&&(n=n.resize({factor:e}),n.parent=this.mask.parent,n.position[0]+=this.minX,n.position[1]+=this.minY),n}get mean(){throw new Error("Roi mean not implemented yet")}get center(){return this.computed.center||(this.computed.center=[this.width/2>>0,this.height/2>>0]),this.computed.center}get ratio(){return this.width/this.height}get width(){return this.maxX-this.minX+1}get height(){return this.maxY-this.minY+1}_computExternalIDs(){let t=this.borderIDs,e=this.borderLengths;this.computed.externalIDs=[],this.computed.externalLengths=[];let r=this.internalIDs;for(let n=0;n<t.length;n++)r.includes(t[n])||(this.computed.externalIDs.push(t[n]),this.computed.externalLengths.push(e[n]))}get externalIDs(){return this.computed.externalIDs||this._computExternalIDs(),this.computed.externalIDs}get externalLengths(){return this.computed.externalLengths||this._computExternalIDs(),this.computed.externalLengths}_computeBorderIDs(){let t=id(this);this.computed.borderIDs=t.ids,this.computed.borderLengths=t.lengths}get borderIDs(){return this.computed.borderIDs||this._computeBorderIDs(),this.computed.borderIDs}get borderLengths(){return this.computed.borderLengths||this._computeBorderIDs(),this.computed.borderLengths}get boxIDs(){return this.computed.boxIDs||(this.computed.boxIDs=sd(this)),this.computed.boxIDs}get internalIDs(){return this.computed.internalIDs||(this.computed.internalIDs=cd(this)),this.computed.internalIDs}get box(){return this.computed.box||(this.computed.box=od(this)),this.computed.box}get external(){return this.computed.external||(this.computed.external=hd(this)),this.computed.external}get holesInfo(){return this.computed.holesInfo||(this.computed.holesInfo=ud(this)),this.computed.holesInfo}get border(){return this.computed.border||(this.computed.border=ad(this)),this.computed.border}get contourMask(){if(!this.computed.contourMask){let t=new Ud(this.width,this.height,{kind:Uo,position:[this.minX,this.minY],parent:this.map.parent});for(let e=0;e<this.width;e++)for(let r=0;r<this.height;r++)this.map.data[e+this.minX+(r+this.minY)*this.map.width]===this.id&&(e>0&&e<this.width-1&&r>0&&r<this.height-1&&this.map.data[e-1+this.minX+(r+this.minY)*this.map.width]===this.id&&this.map.data[e+1+this.minX+(r+this.minY)*this.map.width]===this.id&&this.map.data[e+this.minX+(r-1+this.minY)*this.map.width]===this.id&&this.map.data[e+this.minX+(r+1+this.minY)*this.map.width]===this.id||t.setBitXY(e,r));this.computed.contourMask=t}return this.computed.contourMask}get boxMask(){if(!this.computed.boxMask){let t=new Ud(this.width,this.height,{kind:Uo,position:[this.minX,this.minY],parent:this.map.parent});for(let e=0;e<this.width;e++)t.setBitXY(e,0),t.setBitXY(e,this.height-1);for(let e=0;e<this.height;e++)t.setBitXY(0,e),t.setBitXY(this.width-1,e);this.computed.boxMask=t}return this.computed.boxMask}get mask(){if(!this.computed.mask){let t=new Ud(this.width,this.height,{kind:Uo,position:[this.minX,this.minY],parent:this.map.parent});for(let e=0;e<this.width;e++)for(let r=0;r<this.height;r++)this.map.data[e+this.minX+(r+this.minY)*this.map.width]===this.id&&t.setBitXY(e,r);this.computed.mask=t}return this.computed.mask}get filledMask(){if(!this.computed.filledMask){let t=new Ud(this.width,this.height,{kind:Uo,position:[this.minX,this.minY],parent:this.map.parent});for(let e=0;e<this.width;e++)for(let r=0;r<this.height;r++){let n=e+this.minX+(r+this.minY)*this.map.width;this.internalIDs.includes(this.map.data[n])&&t.setBitXY(e,r)}this.computed.filledMask=t}return this.computed.filledMask}get centerMask(){if(!this.computed.centerMask){let t=new lf({kind:"smallCross"}).getMask();t.parent=this.map.parent,t.position=[this.minX+this.center[0]-1,this.minY+this.center[1]-1],this.computed.centerMask=t}return this.computed.centerMask}get convexHull(){if(!this.computed.convexHull){const t=[];for(let r=0;r<this.width;r++)for(let e=0;e<this.height;e++)this.map.data[r+this.minX+(e+this.minY)*this.map.width]===this.id&&(r>0&&r<this.width-1&&e>0&&e<this.height-1&&this.map.data[r-1+this.minX+(e+this.minY)*this.map.width]===this.id&&this.map.data[r+1+this.minX+(e+this.minY)*this.map.width]===this.id&&this.map.data[r+this.minX+(e-1+this.minY)*this.map.width]===this.id&&this.map.data[r+this.minX+(e+1+this.minY)*this.map.width]===this.id||(t.push([r,e]),t.push([r+1,e]),t.push([r,e+1]),t.push([r+1,e+1])));const e=Bf(t);this.computed.convexHull={polyline:e,surface:Xf(e),perimeter:Yf(e)}}return this.computed.convexHull}get convexHullMask(){if(!this.computed.convexHullMask){const t=this.convexHull,e=new Ud(this.width+1,this.height+1,{kind:Uo,position:[this.minX,this.minY],parent:this.map.parent});e.paintPolyline(t.polyline,{closed:!0}),this.computed.convexHullMask=e}return this.computed.convexHullMask}get convexHullFilledMask(){if(!this.computed.convexHullFilledMask){const t=this.convexHull,e=new Ud(this.width,this.height,{kind:Uo,position:[this.minX,this.minY],parent:this.map.parent});for(let r=0;r<this.width;r++)for(let n=0;n<this.height;n++)1!==td()(t.polyline,[r,n])&&e.setBitXY(r,n);this.computed.convexHullFilledMask=e}return this.computed.convexHullFilledMask}get mbr(){if(!this.computed.mbr){let t=$f({originalPoints:this.convexHull.polyline});if(0===t.length)this.computed.mbr={width:0,height:0,surface:0,perimeter:0,rectangle:t};else{let e=t[0],r=t[1],n=t[2],i=Math.sqrt((e[0]-r[0])**2+(e[1]-r[1])**2),s=Math.sqrt((n[0]-r[0])**2+(n[1]-r[1])**2);this.computed.mbr={width:i,height:s,elongation:1-i/s,aspectRatio:i/s,surface:i*s,perimeter:2*(i+s),rectangle:t}}}return this.computed.mbr}get fillRatio(){return this.surface/(this.surface+this.holesInfo.surface)}get feretDiameters(){return this.computed.feretDiameters||(this.computed.feretDiameters=ed({originalPoints:this.convexHull.polyline})),this.computed.feretDiameters}get eqpc(){return this.computed.eqpc||(this.computed.eqpc=2*Math.sqrt(this.surface/Math.PI)),this.computed.eqpc}get perimeterInfo(){return this.computed.perimeterInfo||(this.computed.perimeterInfo=ld(this)),this.computed.perimeterInfo}get perimeter(){let t=this.perimeterInfo,e=2-Math.sqrt(2);return t.one+2*t.two+3*t.three+4*t.four-e*(t.two+2*t.three+t.four)}get ped(){return this.computed.ped||(this.computed.ped=this.perimeter/Math.PI),this.computed.ped}get feretMask(){if(!this.computed.feretMask){const t=new Ud(this.width+1,this.height+1,{kind:Uo,position:[this.minX,this.minY],parent:this.map.parent});t.paintPolyline(this.feretDiameters.minLine),t.paintPolyline(this.feretDiameters.maxLine),this.computed.feretMask=t}return this.computed.feretMask}get mbrMask(){if(!this.computed.mbrMask){let t=Lf(this.mbr.rectangle);if(t.length>0){const e=Gf(t),r=new Ud(e[1][0]-e[0][0]+1,e[1][1]-e[0][1]+1,{kind:Uo,position:[this.minX+e[0][0],this.minY+e[0][1]],parent:this.map.parent});t=qf(t),r.paintPolyline(t,{closed:!0}),this.computed.mbrMask=r}else this.computed.mbrMask=new Ud(1,1,{kind:Uo,position:[this.minX,this.minY],parent:this.map.parent})}return this.computed.mbrMask}get mbrFilledMask(){if(!this.computed.mbrFilledMask){const t=new Ud(this.width,this.height,{kind:Uo,position:[this.minX,this.minY],parent:this.map.parent}),e=this.mask.minimalBoundingRectangle();for(let r=0;r<this.width;r++)for(let n=0;n<this.height;n++)1!==td()(e,[r,n])&&t.setBitXY(r,n);this.computed.mbrFilledMask=t}return this.computed.mbrFilledMask}get points(){if(!this.computed.points){let t=[];for(let e=0;e<this.height;e++)for(let r=0;r<this.width;r++){let n=(e+this.minY)*this.map.width+r+this.minX;this.map.data[n]===this.id&&t.push([r,e])}this.computed.points=t}return this.computed.points}get maxLengthPoints(){if(!this.computed.maxLengthPoints){let t,e=0;const r=this.points;for(let n=0;n<r.length;n++)for(let i=n+1;i<r.length;i++){let s=Math.pow(r[n][0]-r[i][0],2)+Math.pow(r[n][1]-r[i][1],2);s>=e&&(e=s,t=[r[n],r[i]])}this.computed.maxLengthPoints=t}return this.computed.maxLengthPoints}get maxLength(){if(!this.computed.maxLength){let t=Math.sqrt(Math.pow(this.maxLengthPoints[0][0]-this.maxLengthPoints[1][0],2)+Math.pow(this.maxLengthPoints[0][1]-this.maxLengthPoints[1][1],2));this.computed.maxLength=t}return this.computed.maxLength}get roundness(){return 4*this.surface/(Math.PI*this.feretDiameters.max**2)}get sphericity(){return 2*Math.sqrt(this.surface*Math.PI)/this.perimeter}get solidity(){return this.surface/this.convexHull.surface}get angle(){if(!this.computed.angle){let t=this.maxLengthPoints,e=180*-Math.atan2(t[0][1]-t[1][1],t[0][0]-t[1][0])/Math.PI;this.computed.angle=e}return this.computed.angle}toJSON(){return{id:this.id,minX:this.minX,maxX:this.maxX,minY:this.minY,maxY:this.maxY,meanX:this.meanX,meanY:this.meanY,height:this.height,width:this.width,surface:this.surface,mbrWidth:this.mbr.width,mbrHeight:this.mbr.height,mbrSurface:this.mbr.surface,eqpc:this.eqpc,ped:this.ped,feretDiameterMin:this.feretDiameters.min,feretDiameterMax:this.feretDiameters.max,aspectRatio:this.feretDiameters.aspectRatio,fillRatio:this.fillRatio,sphericity:this.sphericity,roundness:this.roundness,solidity:this.solidity,perimeter:this.perimeter}}}function id(t){let e=t.map,r=e.data,n=new Set,i=new Map,s=new Set,o=[1,0,-1,0],a=[0,1,0,-1];for(let u=t.minX;u<=t.maxX;u++)for(let l=t.minY;l<=t.maxY;l++){let h=u+l*e.width;if(r[h]===t.id)for(let c=0;c<4;c++){let h=u+o[c],f=l+a[c];if(h>=0&&f>=0&&h<e.width&&f<e.height){let o=h+f*e.width;if(r[o]!==t.id&&!s.has(o)){s.add(o),n.add(r[o]);let t=i.get(r[o]);t?i.set(r[o],++t):i.set(r[o],1)}}}}let l=Array.from(n),h=l.map((function(t){return i.get(t)}));return{ids:l,lengths:h}}function sd(t){let e=new Set,r=t.map,n=r.data;for(let i of[0,t.height-1])for(let s=0;s<t.width;s++){let o=(i+t.minY)*r.width+s+t.minX;if(s-t.minX>0&&n[o]===t.id&&n[o-1]!==t.id){let t=n[o-1];e.add(t)}if(r.width-s-t.minX>1&&n[o]===t.id&&n[o+1]!==t.id){let t=n[o+1];e.add(t)}}for(let i of[0,t.width-1])for(let s=0;s<t.height;s++){let o=(s+t.minY)*r.width+i+t.minX;if(s-t.minY>0&&n[o]===t.id&&n[o-r.width]!==t.id){let t=n[o-r.width];e.add(t)}if(r.height-s-t.minY>1&&n[o]===t.id&&n[o+r.width]!==t.id){let t=n[o+r.width];e.add(t)}}return Array.from(e)}function od(t){let e=0,r=t.map,n=r.data,i=[0];t.height>1&&(i[1]=t.height-1);for(let o of i)for(let i=1;i<t.width-1;i++){let s=(o+t.minY)*r.width+i+t.minX;n[s]===t.id&&e++}let s=[0];t.width>1&&(s[1]=t.width-1);for(let o of s)for(let i=0;i<t.height;i++){let s=(i+t.minY)*r.width+o+t.minX;n[s]===t.id&&e++}return e}function ad(t){let e=0,r=t.map,n=r.data;for(let i=1;i<t.width-1;i++)for(let s=1;s<t.height-1;s++){let o=(s+t.minY)*r.width+i+t.minX;n[o]===t.id&&(n[o-1]===t.id&&n[o+1]===t.id&&n[o-r.width]===t.id&&n[o+r.width]===t.id||e++)}return e+t.box}function ld(t){let e=t.map,r=e.data,n=0,i=0,s=0,o=0;for(let a=0;a<t.width;a++)for(let l=0;l<t.height;l++){let h=(l+t.minY)*e.width+a+t.minX;if(r[h]===t.id){let u=0;switch((0===a||t.externalIDs.includes(r[h-1]))&&u++,(a===t.width-1||t.externalIDs.includes(r[h+1]))&&u++,(0===l||t.externalIDs.includes(r[h-e.width]))&&u++,(l===t.height-1||t.externalIDs.includes(r[h+e.width]))&&u++,u){case 1:n++;break;case 2:i++;break;case 3:s++;break;case 4:o++;break;default:}}}return{one:n,two:i,three:s,four:o}}function hd(t){let e=0,r=t.map,n=r.data;for(let i=1;i<t.width-1;i++)for(let s=1;s<t.height-1;s++){let o=(s+t.minY)*r.width+i+t.minX;n[o]===t.id&&(t.externalIDs.includes(n[o-1])||t.externalIDs.includes(n[o+1])||t.externalIDs.includes(n[o-r.width])||t.externalIDs.includes(n[o+r.width]))&&e++}return e+t.box}function ud(t){let e=0,r=t.map.width,n=t.map.data;for(let i=1;i<t.width-1;i++)for(let s=1;s<t.height-1;s++){let o=(s+t.minY)*r+i+t.minX;t.internalIDs.includes(n[o])&&n[o]!==t.id&&e++}return{number:t.internalIDs.length-1,surface:e}}function cd(t){let e=[t.id],r=t.map,n=r.data;if(t.height>2)for(let s=0;s<t.width;s++){let i=t.minY*r.width+s+t.minX;if(e.includes(n[i])){let s=n[i+r.width];e.includes(s)||t.boxIDs.includes(s)||e.push(s)}}let i=new Array(4);for(let s=1;s<t.width-1;s++)for(let o=1;o<t.height-1;o++){let a=(o+t.minY)*r.width+s+t.minX;if(e.includes(n[a])){i[0]=n[a-1],i[1]=n[a+1],i[2]=n[a-r.width],i[3]=n[a+r.width];for(let r=0;r<4;r++){let n=i[r];e.includes(n)||t.boxIDs.includes(n)||e.push(n)}}}return e}class fd{constructor(t,e){this.roiMap=t,this.options=e,this.roi=this.createRoi()}createRoi(){let t=this.roiMap.data,e={};this.roiMap.positive=0,this.roiMap.negative=0;for(let o=0;o<t.length;o++)t[o]&&!e[t[o]]&&(e[t[o]]=!0,t[o]>0?this.roiMap.positive++:this.roiMap.negative++);let r={};for(let o in e)r[o]=new nd(this.roiMap,1*o);let n=this.roiMap.width,i=this.roiMap.height;for(let o=0;o<i;o++)for(let e=0;e<n;e++){let i=o*n+e;if(0!==t[i]){const n=t[i],s=r[n];e<s.minX&&(s.minX=e),e>s.maxX&&(s.maxX=e),o<s.minY&&(s.minY=o),o>s.maxY&&(s.maxY=o),s.meanX+=e,s.meanY+=o,s.surface++}}let s=[];for(let o in e)r[o].meanX/=r[o].surface,r[o].meanY/=r[o].surface,s.push(r[o]);return s}}function dd(t){let e=t.data,r=[1,0,-1,0],n=[0,1,0,-1],i=t.minMax,s=-i.min,o=i.max+s,a=[];for(let h=0;h<=o;h++)a.push(Object.create(null));for(let h=0;h<t.width;h++)for(let i=0;i<t.height;i++){let o=h+i*t.width,l=e[o];if(0!==l){let o=Object.create(null),u=!1;for(let c=0;c<4;c++){let f=h+r[c],d=i+n[c];if(f>=0&&d>=0&&f<t.width&&d<t.height){let r=e[f+d*t.width];l!==r&&(u=!0,0!==r&&void 0===o[r]&&(o[r]=!0,a[r+s][l]?a[r+s][l]++:a[r+s][l]=1))}else u=!0}u&&(a[l+s][l]?a[l+s][l]++:a[l+s][l]=1)}}let l={};for(let h=0;h<a.length;h++)Object.keys(a[h]).length>0&&(l[h-s]=a[h]);return l}function pd(t={}){const{algorithm:e="commonBorderLength",minCommonBorderLength:r=5,maxCommonBorderLength:n=100,minCommonBorderRatio:i=.3,maxCommonBorderRatio:s=1}=t;let o=function(t,e,i){return t[i]>=r&&t[i]<=n};"function"===typeof e&&(o=e),"commonborderratio"===e.toLowerCase()&&(o=function(t,e,r){let n=Math.min(t[r]/t[e],1);return n>=i&&n<=s});const a=this,l=a.commonBorderLength;let h={},u={};for(let g of Object.keys(l)){let t=l[g],e=Object.keys(t);for(let r of e)if(r!==g&&o(t,g,r)){let t=r;u[r]&&(t=u[r]);let e=g;if(u[g]&&(e=u[g]),Number(t)!==e){let r=Math.min(t,e),n=Math.max(t,e);if(h[r]||(h[r]={}),h[r][n]=!0,u[n]=r,h[n]){for(let t of Object.keys(h[n]))h[r][t]=!0,u[t]=r;delete h[n]}}}}let c=a.minMax,f=-c.min,d=c.max+f,p=new Array(d+1).fill(0);for(let g of Object.keys(u))p[Number(g)+f]=u[g];let m=a.data;for(let g=0;g<m.length;g++){let t=m[g];if(0!==t){let e=p[t+f];0!==e&&(m[g]=e)}}return a.computed={},a}class md{constructor(t,e){this.parent=t,this.width=t.width,this.height=t.height,this.data=e,this.negative=0,this.positive=0}get total(){return this.negative+this.positive}get minMax(){let t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;for(let r=0;r<this.data.length;r++)this.data[r]<t&&(t=this.data[r]),this.data[r]>e&&(e=this.data[r]);return{min:t,max:e}}get commonBorderLength(){return dd(this)}mergeRoi(t={}){return pd.call(this,t)}mergeRois(t){const e=t[0],r=t.slice(1);for(let n=0;n<this.data.length;n++)r.includes(this.data[n])&&(this.data[n]=e)}rowsInfo(){let t=new Array(this.height),e=0;for(let r=0;r<this.data.length;r+=this.width){let n={row:e,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};t[e++]=n;let i={},s={},o=[],a=this.data[r],l=0;for(let t=r;t<r+this.width;t++){let e=this.data[t];a!==e&&(a=e,o.push(l),l=0),l++,e>0?(n.positivePixel++,i[e]||(i[e]=!0)):e<0?(n.negativePixel++,s[e]||(s[e]=!0)):n.zeroPixel++}o.push(l),n.medianChange=o.sort(((t,e)=>t-e))[Math.floor(o.length/2)],n.positiveRoiIDs=Object.keys(i),n.negativeRoiIDs=Object.keys(s),n.positiveRoi=n.positiveRoiIDs.length,n.negativeRoi=n.negativeRoiIDs.length}return t}colsInfo(){let t=new Array(this.width),e=0;for(let r=0;r<this.width;r++){let n={col:e,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};t[e++]=n;let i={},s={},o=[],a=this.data[r],l=0;for(let t=r;t<r+this.data.length;t+=this.width){let e=this.data[t];a!==e&&(a=e,o.push(l),l=0),l++,e>0?(n.positivePixel++,i[e]||(i[e]=!0)):e<0?(n.negativePixel++,s[e]||(s[e]=!0)):n.zeroPixel++}o.push(l),n.medianChange=o.sort(((t,e)=>t-e))[Math.floor(o.length/2)],n.positiveRoiIDs=Object.keys(i),n.negativeRoiIDs=Object.keys(s),n.positiveRoi=n.positiveRoiIDs.length,n.negativeRoi=n.negativeRoiIDs.length}return t}}function gd(t,e={}){const{allowCorners:r=!1}=e,n=65535;let i=new Int16Array(t.size),s=0,o=0,a=new Uint16Array(n+1),l=new Uint16Array(n+1);for(let u=0;u<t.width;u++)for(let e=0;e<t.height;e++)0===i[e*t.width+u]&&h(u,e);function h(e,h){let u=0,c=0,f=t.getBitXY(e,h),d=f?++s:--o;if(s>32767||o<-32768)throw new Error("Too many regions of interest");a[0]=e,l[0]=h;while(u<=c){let e=a[u&n],s=l[u&n];if(i[s*t.width+e]=d,e>0&&0===i[s*t.width+e-1]&&t.getBitXY(e-1,s)===f&&(c++,a[c&n]=e-1,l[c&n]=s,i[s*t.width+e-1]=-32768),s>0&&0===i[(s-1)*t.width+e]&&t.getBitXY(e,s-1)===f&&(c++,a[c&n]=e,l[c&n]=s-1,i[(s-1)*t.width+e]=-32768),e<t.width-1&&0===i[s*t.width+e+1]&&t.getBitXY(e+1,s)===f&&(c++,a[c&n]=e+1,l[c&n]=s,i[s*t.width+e+1]=-32768),s<t.height-1&&0===i[(s+1)*t.width+e]&&t.getBitXY(e,s+1)===f&&(c++,a[c&n]=e,l[c&n]=s+1,i[(s+1)*t.width+e]=-32768),r&&(e>0&&s>0&&0===i[(s-1)*t.width+e-1]&&t.getBitXY(e-1,s-1)===f&&(c++,a[c&n]=e-1,l[c&n]=s-1,i[(s-1)*t.width+e-1]=-32768),e<t.width-1&&s>0&&0===i[(s-1)*t.width+e+1]&&t.getBitXY(e+1,s-1)===f&&(c++,a[c&n]=e+1,l[c&n]=s-1,i[(s-1)*t.width+e+1]=-32768),e>0&&s<t.height-1&&0===i[(s+1)*t.width+e-1]&&t.getBitXY(e-1,s+1)===f&&(c++,a[c&n]=e-1,l[c&n]=s+1,i[(s+1)*t.width+e-1]=-32768),e<t.width-1&&s<t.height-1&&0===i[(s+1)*t.width+e+1]&&t.getBitXY(e+1,s+1)===f&&(c++,a[c&n]=e+1,l[c&n]=s+1,i[(s+1)*t.width+e+1]=-32768)),u++,c-u>n)throw new Error("analyseMask can not finish, the array to manage internal data is not big enough.You could improve mask by changing MAX_ARRAY")}}return new md(t,i)}var wd=r(6603),bd=r.n(wd);const yd=[-1,0],vd=[0,-1],_d=[null,null],xd=[-1,-1,0,1],kd=[0,-1,-1,-1],Md=[null,null,null,null];function Ed(t,e={}){const{allowCorners:r=!1}=e;let n,i,s,o=4;if(r&&(o=8),8===o)n=xd,i=kd,s=Md;else{if(4!==o)throw new RangeError(`unsupported neighbours count: ${o}`);n=yd,i=vd,s=_d}const a=t.size,l=t.width,h=t.height,u=new Array(a),c=new Uint32Array(a),f=new(bd());let d=1;for(let p=0;p<h;p++)for(let e=0;e<l;e++){const r=e+p*l;if(t.getBit(r)){let t=null;for(let r=0;r<s.length;r++){const o=e+n[r],a=p+i[r];if(o>=0&&a>=0&&o<l&&a<h){const e=o+a*l;let n=u[e];n?(s[r]=n,(!t||s[r].value<t.value)&&(t=s[r])):s[r]=null}}if(t){u[r]=t;for(let e=0;e<s.length;e++)s[e]&&s[e]!==t&&f.union(t,s[e])}else u[r]=f.add(d++)}}for(let p=0;p<h;p++)for(let e=0;e<l;e++){const r=e+p*l;t.getBit(r)&&(c[r]=f.find(u[r]).value)}return new md(t,c)}function Ad(t={}){let{allowCorner:e=!0,onlyTop:r=!1,invert:n=!1}=t,i=this;i.checkProcessable("fromMaxima",{components:[1]});const s=1,o=2;let a=0,l=0,h=new Int16Array(i.size),u=new Int8Array(i.size),c=new Float32Array(i.size),f=1048575,d=new Uint16Array(f+1),p=new Uint16Array(f+1),m=0,g=0,w=new Uint16Array(f+1),b=new Uint16Array(f+1),y=0,v=0;_(i,{maxima:!n});while(m<g){let t=d[m&f],e=p[m&f];k(t,e,o),m++}return new md(i,h);function _({maxima:t=!0}){for(let r=1;r<i.height-1;r++)for(let n=1;n<i.width-1;n++){let o=n+r*i.width;if(0===u[o]){let u=t?i.data[o]:-i.data[n+r*i.width];if(i.data[r*i.width+n-1]>u)continue;if(i.data[r*i.width+n+1]>u)continue;if(i.data[(r-1)*i.width+n]>u)continue;if(i.data[(r+1)*i.width+n]>u)continue;if(e){if(i.data[(r-1)*i.width+n-1]>u)continue;if(i.data[(r-1)*i.width+n+1]>u)continue;if(i.data[(r+1)*i.width+n-1]>u)continue;if(i.data[(r+1)*i.width+n+1]>u)continue}h[o]=t?++a:--l;let c=x(n,r,s);c||(t?--a:++l)}}}function x(t,e){let r=g;y=0,v=1,w[0]=t,b[0]=e;let n=!0;while(y<v){let t=w[y&f],e=b[y&f];n&=k(t,e,s),y++}if(!n){for(let t=0;t<v;t++){let e=w[t&f],r=b[t&f],n=r*i.width+e;h[n]=0}g=r}return n}function k(t,e,n){let a=h[e*i.width+t],l=i.data[e*i.width+t];for(let m=e-1;m<=e+1;m++)for(let e=t-1;e<=t+1;e++){let t=m*i.width+e;if(0===u[t])switch(u[t]=1,c[t]=i.data[t]-l,n){case s:if(0===c[t]){if(0===e||0===m||e===i.width-1||m===i.height-1)return!1;h[t]=a,w[v&f]=e,b[v&f]=m,v++}else{if(c[t]>0)return!1;r||(h[t]=a,d[g&f]=e,p[g&f]=m,g++)}break;case o:c[t]<=0&&(h[t]=a,d[g&f]=e,p[g&f]=m,g++);break;default:throw new Error("unreachable")}}return!0}}function Sd(t,e={}){let r=new lf(e),n=new Int16Array(this.size),i=0,s=r.getPoints();for(let o=0;o<t.length;o++){i++;let e=t[o][0],r=t[o][1];for(let t=0;t<s.length;t++){let o=s[t][0],a=s[t][1];e+o>=0&&r+a>=0&&e+o<this.width&&r+a<this.height&&(n[e+o+(r+a)*this.width]=i)}}return new md(this,n)}var Rd=r(6462),Pd=r.n(Rd);const Td=[1,0,-1,0,1,1,-1,-1],Id=[0,1,0,-1,1,-1,1,-1];function Cd(t={}){let{points:e,mask:r,image:n,fillMaxValue:i=this.maxValue,invert:s=!1}=t,o=n||this;o.checkProcessable("fromWaterShed",{bitDepth:[8,16],components:1}),s=!s,e||(e=o.getLocalMaxima({invert:s,mask:r}));let a=s?0:1,l=new Int16Array(o.size),h=o.width,u=o.height,c=new(Pd())({comparator:(t,e)=>t[2]-e[2],strategy:Pd().BinaryHeapStrategy});for(let f=0;f<e.length;f++){let t=e[f][0]+e[f][1]*h;l[t]=f+1;let r=o.data[t];(s&&r<=i||!s&&r>=i)&&c.queue([e[f][0],e[f][1],r])}while(c.length>0){let t=c.dequeue(),e=t[0]+t[1]*h;for(let n=0;n<4;n++){let f=t[0]+Td[n],d=t[1]+Id[n];if(f>=0&&d>=0&&f<h&&d<u){let u=f+d*h;if(!r||r.getBit(u)===a){let r=o.data[u];(s&&r<=i||!s&&r>=i)&&0===l[u]&&(l[u]=l[e],c.queue([t[0]+Td[n],t[1]+Id[n],r]))}}}}return new md(o,l)}class Dd{constructor(t,e={}){this._image=t,this._options=e,this._options.label||(this._options.label="default"),this._layers={},this._painted=null}fromMaxima(t={}){let e=Object.assign({},this._options,t),r=Ad.call(this._image,t);this._layers[e.label]=new fd(r,e)}fromPoints(t,e={}){let r=Object.assign({},this._options,e),n=Sd.call(this._image,t,e);return this._layers[r.label]=new fd(n,r),this}putMap(t,e={}){let r=new md(this._image,t),n=Object.assign({},this._options,e);return this._layers[n.label]=new fd(r,n),this}fromWaterShed(t={}){let e=Object.assign({},this._options,t),r=Cd.call(this._image,t);this._layers[e.label]=new fd(r,e)}fromMask(t,e={}){let r=Object.assign({},this._options,e),n=gd.call(this._image,t,e);return this._layers[r.label]=new fd(n,r),this}fromMaskConnectedComponentLabelingAlgorithm(t,e={}){let r=Object.assign({},this._options,e),n=Ed.call(this._image,t,e);return this._layers[r.label]=new fd(n,r),this}getMap(t={}){let e=Object.assign({},this._options,t);return this._assertLayerWithLabel(e.label),this._layers[e.label].roiMap}rowsInfo(t={}){return this.getMap(t).rowsInfo()}colsInfo(t={}){return this.getMap(t).rowsInfo()}getRoiIds(t={}){let e=this.getRois(t);if(e){let t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=e[r].id;return t}throw new Error("ROIs not found")}getRois(t={}){let{label:e=this._options.label,positive:r=!0,negative:n=!0,minSurface:i=0,maxSurface:s=Number.POSITIVE_INFINITY,minWidth:o=0,maxWidth:a=Number.POSITIVE_INFINITY,minHeight:l=0,maxHeight:h=Number.POSITIVE_INFINITY,minRatio:u=0,maxRatio:c=Number.POSITIVE_INFINITY}=t;if(!this._layers[e])throw new Error(`this Roi layer (${e}) does not exist`);const f=this._layers[e].roi,d=[];for(const p of f)(p.id<0&&n||p.id>0&&r)&&p.surface>=i&&p.surface<=s&&p.width>=o&&p.width<=a&&p.height>=l&&p.height<=h&&p.ratio>=u&&p.ratio<=c&&d.push(p);return d}getRoi(t,e={}){const{label:r=this._options.label}=e;if(!this._layers[r])throw new Error(`this Roi layer (${r}) does not exist`);const n=this._layers[r].roi.find((e=>e.id===t));if(!n)throw new Error(`found no Roi with id ${t}`);return n}getMasks(t={}){let e=this.getRois(t),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n].getMask(t);return r}getAnalysisMasks(t={}){const{analysisProperty:e}=t;let r=`${e}Mask`,n=this.getRois(t);return 0!==n.length&&n[0][r]?n.map((t=>t[r])):[]}getData(t={}){let e=Object.assign({},this._options,t);return this._assertLayerWithLabel(e.label),this._layers[e.label].roiMap.data}paint(t={}){let{labelProperty:e,analysisProperty:r}=t;this._painted||(this._painted=this._image.rgba8());let n=this.getMasks(t);if(e){const r=this.getRois(t);t.labels=r.map((t=>Jf(t,e)));const n=Math.max(...t.labels);let i=!1,s=!1;if(e.includes("surface")?i=!0:/(?:perimeter|min|max|external|width|height|length)/.test(e)&&(s=!0),isFinite(n)){let e="";if("pixel"!==t.unit&&t.pixelSize&&(s||i)){e=i?`${t.unit}^2`:t.unit;let r=i?"m^2":"m",n=i?t.pixelSize**2:t.pixelSize;const s=Kf().swiftConverter(r,e);t.labels=t.labels.map((t=>s(n*t)))}t.labels=n>50?t.labels.map((t=>Math.round(t)+e)):n>10?t.labels.map((t=>t.toFixed(1)+e)):t.labels.map((t=>t.toFixed(2)+e))}t.labelsPosition=r.map((t=>[t.meanX,t.meanY]))}if(this._painted.paintMasks(n,t),r){let e=this.getAnalysisMasks(t);this._painted.paintMasks(e,{color:t.analysisColor,alpha:t.analysisAlpha})}return this._painted}getMask(t={}){let e=new Ud(this._image.width,this._image.height,{kind:"BINARY"}),r=this.getMasks(t);for(let n=0;n<r.length;n++){let t=r[n];for(let r=0;r<t.width;r++)for(let n=0;n<t.height;n++)t.getBitXY(r,n)&&e.setBitXY(r+t.position[0],n+t.position[1])}return e}resetPainted(t={}){const{image:e}=t;this._painted=e?this.image.rgba8():this._image.rgba8()}mergeRoi(t={}){const e=this.getMap(t);return e.mergeRoi(t),this.putMap(e.data,t),this}mergeRois(t,e={}){if(!Array.isArray(t)||t.some((t=>!Number.isInteger(t))))throw new Error("Roi ids must be an array of integers");if(t.length<2)throw new Error("Roi ids must have at least two elements");if(new Set(t).size!==t.length)throw new Error("Roi ids must be all different");t.forEach((t=>this.getRoi(t)));const r=this.getMap(e);return r.mergeRois(t),this.putMap(r.data,e),this}findCorrespondingRoi(t,e={}){let r=this.getRois(e),n=[];for(let i=0;i<r.length;i++){let e=r[i],s=e.minX,o=e.minY,a=e.points,l=Math.sign(e.id),h=Od(s,o,a,t,l);n.push(h)}return n}_assertLayerWithLabel(t){if(!this._layers[t])throw new Error(`no layer with label ${t}`)}}function Od(t,e,r,n,i){let s={id:[],surface:[],roiSurfaceCovered:[],same:0,opposite:0,total:0};for(let o=0;o<r.length;o++){let i=r[o],a=i[0],l=i[1],h=a+t+(l+e)*n.width,u=n.data[h];(u>0||u<0)&&(s.id.includes(u)?s.surface[s.id.indexOf(u)]+=1:(s.id.push(u),s.surface.push(1)))}for(let o=0;o<s.id.length;o++){let t=Math.sign(s.id[o]);t===i?s.same+=s.surface[o]:s.opposite+=s.surface[o],s.roiSurfaceCovered[o]=s.surface[o]/r.length}return s.total=s.opposite+s.same,s}const Bd=Object.prototype.toString;class Ud{constructor(t,e,r,n){if(1===arguments.length?(n=t,({width:t,height:e,data:r}=n)):r&&!r.length&&(n=r,({data:r}=n)),void 0===t&&(t=1),void 0===e&&(e=1),void 0===n&&(n={}),"object"!==typeof n||null===n)throw new TypeError("options must be an object");if(!Number.isInteger(t)||t<=0)throw new RangeError("width must be a positive integer");if(!Number.isInteger(e)||e<=0)throw new RangeError("height must be a positive integer");const{kind:i=zo}=n;if("string"!==typeof i)throw new TypeError("kind must be a string");const s=Xo(i),o=Object.assign({},n);for(const p in s)void 0===o[p]&&(o[p]=s[p]);qo(o);const{components:a,bitDepth:l,colorModel:h}=o,u=o.alpha+0,c=t*e,f=a+u,d=32===l?Number.MAX_VALUE:2**l-1;if(void 0===r)r=Ho(c,a,u,f,l,d);else{const t=$o(c,f,l);if(r.length!==t)throw new RangeError(`incorrect data size: ${r.length}. Should be ${t}`)}this.width=t,this.height=e,this.data=r,this.size=c,this.components=a,this.alpha=u,this.bitDepth=l,this.maxValue=d,this.colorModel=h,this.channels=f,this.meta=n.meta||{},Object.defineProperty(this,"parent",{enumerable:!1,writable:!0,configurable:!0,value:n.parent||null}),this.position=n.position||[0,0],this.computed=null,this.sizes=[this.width,this.height],this.multiplierX=this.channels,this.multiplierY=this.channels*this.width,this.isClamped=this.bitDepth<32,this.borderSizes=[0,0]}get[Symbol.toStringTag](){return"IJSImage"}static isImage(t){return"[object IJSImage]"===Bd.call(t)}static fromCanvas(t){const e=t.getContext("2d"),r=e.getImageData(0,0,t.width,t.height);return new Ud(r.width,r.height,r.data)}static createFrom(t,e){const r=bl(t);return Object.assign(r,{parent:t,position:[0,0]},e),new Ud(r)}getRoiManager(t){return new Dd(this,t)}clone(){const t=this.data.slice();return new Ud(this.width,this.height,t,this)}apply(t){for(let e=0;e<this.height;e++)for(let r=0;r<this.width;r++){let n=(e*this.width+r)*this.channels;t.call(this,n)}}}wl(Ud),u(Ud),wo(Ud),Ud.prototype.checkProcessable=c,Ud.prototype.getRGBAData=Ro,Ud.load=ol,Ud.extendMethod=_o,Ud.extendProperty=xo,Zf(Ud);var Nd=r(4877),Fd=r.n(Nd);const Ld={regression:{kernelType:"polynomial",kernelOptions:{degree:2,constant:1}},threshold:.02,roi:{minSurface:100,positive:!1},sampling:20,include:[]};function zd(t,e,r){e=Object.assign({},Ld,e);const n=this.manager;return Array.isArray(t)?Promise.all(t.map((function(t){const i=jd(n,t,e);return"function"===typeof r&&i.then(r),i}))):jd(n,t,e)}function jd(t,e,r){return t.post("data",[e,r]).then((function(t){for(let e in t)t[e]=new Ud(t[e]);return t}))}function Vd(){worker.on("data",(function(t,e,r){e=new IJS(e);const n={},i=[],s=e.grey(),o=s.sobelFilter();d("sobel",o);const a=o.level().mask({threshold:r.threshold});d("mask",a);const l=o.getRoiManager();l.fromMask(a);const h=l.getMask(r.roi);d("realMask",h);const u=s.getPixelsGrid({sampling:r.sampling,mask:h}),c=e.getBackground(u.xyS,u.zS,r.regression);d("background",c);const f=e.subtract(c);function d(t,e){r.include.includes(t)&&(n[t]=e,i.push(e.data.buffer))}n.result=f,i.push(f.data.buffer),t(n,i)}))}const Yd={run:zd,work:Vd};var Xd=Yd;function Gd(t){t.extendMethod("background",Xd)}class qd{constructor(){this._url=null,this._deps=[null]}checkUrl(){if(null===this._url)throw new Error("image worker must be initialized with an URL")}get url(){return this._url}set url(t){if("string"!==typeof t)throw new TypeError("worker URL must be a string");this._url=t,this._deps[0]=t}static extendMethod(t,e){let r,n,i={};function s(...t){return r||(this.checkUrl(),n=this.url,r=new(Fd())(e.work,{deps:n}),i.manager=r),e.run.call(i,...t)}s.reset=function(){r&&(r.terminate(),r=new(Fd())(e.work,{deps:n}),i.manager=r)},qd.prototype[t]=s}}Gd(qd);new qd},9730:function(t,e,r){"use strict";const n=r(3464),i=new Set(["jpg","png","gif","webp","flif","cr2","tif","bmp","jxr","psd","ico","bpg","jp2","jpm","jpx","heic","cur","dcm"]),s=t=>{const e=n(t);return i.has(e&&e.ext)?e:null};t.exports=s,t.exports["default"]=s,Object.defineProperty(s,"minimumBytes",{value:n.minimumBytes})},9538:function(t,e,r){"use strict";r.r(e),r.d(e,{IOBuffer:function(){return h}});r(1439),r(7585),r(5315),r(7658),r(8532);function n(t,e="utf8"){const r=new TextDecoder(e);return r.decode(t)}const i=new TextEncoder;function s(t){return i.encode(t)}const o=8192,a=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),l={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class h{constructor(t=o,e={}){let r=!1;"number"===typeof t?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const n=e.offset?e.offset>>>0:0,i=t.byteLength-n;let s=n;(ArrayBuffer.isView(t)||t instanceof h)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+n),t=t.buffer),this.lastWrittenByte=r?i:0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(void 0===t)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const e=this.offset+t,r=2*e,n=new Uint8Array(r);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const r=l[e].BYTES_PER_ELEMENT*t,n=this.byteOffset+this.offset,i=this.buffer.slice(n,n+r);if(this.littleEndian===a&&"uint8"!==e&&"int8"!==e){const t=new Uint8Array(this.buffer.slice(n,n+r));t.reverse();const i=new l[e](t.buffer);return this.offset+=r,i.reverse(),i}const s=new l[e](i);return this.offset+=r,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){return n(this.readBytes(t))}decodeText(t=1,e="utf-8"){return n(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(s(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}},8532:function(t,e,r){"use strict";r(1439),r(7585),r(5315),r(7658),function(t){if(t["TextEncoder"]&&t["TextDecoder"])return!1;function e(t="utf-8"){if("utf-8"!==t)throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${t}') is invalid.`)}function r(t="utf-8",e={fatal:!1}){if("utf-8"!==t)throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${t}') is invalid.`);if(e.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e={stream:!1}){if(e.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let r=0;const n=t.length;let i=0,s=Math.max(32,n+(n>>1)+7),o=new Uint8Array(s>>3<<3);while(r<n){let e=t.charCodeAt(r++);if(e>=55296&&e<=56319){if(r<n){const n=t.charCodeAt(r);56320===(64512&n)&&(++r,e=((1023&e)<<10)+(1023&n)+65536)}if(e>=55296&&e<=56319)continue}if(i+4>o.length){s+=8,s*=1+r/t.length*2,s=s>>3<<3;const e=new Uint8Array(s);e.set(o),o=e}if(0!==(4294967168&e)){if(0===(4294965248&e))o[i++]=e>>6&31|192;else if(0===(4294901760&e))o[i++]=e>>12&15|224,o[i++]=e>>6&63|128;else{if(0!==(4292870144&e))continue;o[i++]=e>>18&7|240,o[i++]=e>>12&63|128,o[i++]=e>>6&63|128}o[i++]=63&e|128}else o[i++]=e}return o.slice(0,i)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1}),r.prototype.decode=function(t,e={stream:!1}){if(e["stream"])throw new Error("Failed to decode: the 'stream' option is unsupported.");const r=new Uint8Array(t);let n=0;const i=r.length,s=[];while(n<i){const t=r[n++];if(0===t)break;if(0===(128&t))s.push(t);else if(192===(224&t)){const e=63&r[n++];s.push((31&t)<<6|e)}else if(224===(240&t)){const e=63&r[n++],i=63&r[n++];s.push((31&t)<<12|e<<6|i)}else if(240===(248&t)){const e=63&r[n++],i=63&r[n++],o=63&r[n++];let a=(7&t)<<18|e<<12|i<<6|o;a>65535&&(a-=65536,s.push(a>>>10&1023|55296),a=56320|1023&a),s.push(a)}}return String.fromCharCode.apply(null,s)},t["TextEncoder"]=e,t["TextDecoder"]=r}("undefined"!==typeof window?window:"undefined"!==typeof self?self:this)},2273:function(t,e,r){"use strict";r.d(e,{N:function(){return i}});const n=Object.prototype.toString;function i(t){const e=n.call(t);return e.endsWith("Array]")&&!e.includes("Big")}},7980:function(t){"use strict";var e=Object.prototype.toString;t.exports=function(t){return"Array"===e.call(t).substr(-6,5)}},3650:function(t){"use strict";t.exports=Number.isFinite||function(t){return!("number"!==typeof t||t!==t||t===1/0||t===-1/0)}},6586:function(t,e,r){var n=r(3650);t.exports=Number.isInteger||function(t){return"number"===typeof t&&n(t)&&Math.floor(t)===t}},3791:function(t,e,r){var n=r(683),i=r(8092);t.exports={encode:n,decode:i}},8092:function(t,e,r){r(1439),r(7585),r(5315),r(7658);var n=function(){"use strict";var t=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),e=4017,r=799,n=3406,i=2276,s=1567,o=3784,a=5793,l=2896;function h(){}function u(t,e){var r,n,i=0,s=[],o=16;while(o>0&&!t[o-1])o--;s.push({children:[],index:0});var a,l=s[0];for(r=0;r<o;r++){for(n=0;n<t[r];n++){l=s.pop(),l.children[l.index]=e[i];while(l.index>0){if(0===s.length)throw new Error("Could not recreate Huffman Table");l=s.pop()}l.index++,s.push(l);while(s.length<=r)s.push(a={children:[],index:0}),l.children[l.index]=a.children,l=a;i++}r+1<o&&(s.push(a={children:[],index:0}),l.children[l.index]=a.children,l=a)}return s[0].children}function c(e,r,n,i,s,o,a,l,h,u){n.precision,n.samplesPerLine,n.scanLines;var c=n.mcusPerLine,f=n.progressive,d=(n.maxH,n.maxV,r),p=0,m=0;function g(){if(m>0)return m--,p>>m&1;if(p=e[r++],255==p){var t=e[r++];if(t)throw new Error("unexpected marker: "+(p<<8|t).toString(16))}return m=7,p>>>7}function w(t){var e,r=t;while(null!==(e=g())){if(r=r[e],"number"===typeof r)return r;if("object"!==typeof r)throw new Error("invalid huffman sequence")}return null}function b(t){var e=0;while(t>0){var r=g();if(null===r)return;e=e<<1|r,t--}return e}function y(t){var e=b(t);return e>=1<<t-1?e:e+(-1<<t)+1}function v(e,r){var n=w(e.huffmanTableDC),i=0===n?0:y(n);r[0]=e.pred+=i;var s=1;while(s<64){var o=w(e.huffmanTableAC),a=15&o,l=o>>4;if(0!==a){s+=l;var h=t[s];r[h]=y(a),s++}else{if(l<15)break;s+=16}}}function _(t,e){var r=w(t.huffmanTableDC),n=0===r?0:y(r)<<h;e[0]=t.pred+=n}function x(t,e){e[0]|=g()<<h}var k=0;function M(e,r){if(k>0)k--;else{var n=o,i=a;while(n<=i){var s=w(e.huffmanTableAC),l=15&s,u=s>>4;if(0!==l){n+=u;var c=t[n];r[c]=y(l)*(1<<h),n++}else{if(u<15){k=b(u)+(1<<u)-1;break}n+=16}}}}var E,A=0;function S(e,r){var n=o,i=a,s=0;while(n<=i){var l=t[n],u=r[l]<0?-1:1;switch(A){case 0:var c=w(e.huffmanTableAC),f=15&c;s=c>>4;if(0===f)s<15?(k=b(s)+(1<<s),A=4):(s=16,A=1);else{if(1!==f)throw new Error("invalid ACn encoding");E=y(f),A=s?2:3}continue;case 1:case 2:r[l]?r[l]+=(g()<<h)*u:(s--,0===s&&(A=2==A?3:0));break;case 3:r[l]?r[l]+=(g()<<h)*u:(r[l]=E<<h,A=0);break;case 4:r[l]&&(r[l]+=(g()<<h)*u);break}n++}4===A&&(k--,0===k&&(A=0))}function R(t,e,r,n,i){var s=r/c|0,o=r%c,a=s*t.v+n,l=o*t.h+i;void 0===t.blocks[a]&&u.tolerantDecoding||e(t,t.blocks[a][l])}function P(t,e,r){var n=r/t.blocksPerLine|0,i=r%t.blocksPerLine;void 0===t.blocks[n]&&u.tolerantDecoding||e(t,t.blocks[n][i])}var T,I,C,D,O,B,U=i.length;B=f?0===o?0===l?_:x:0===l?M:S:v;var N,F,L,z,j=0;F=1==U?i[0].blocksPerLine*i[0].blocksPerColumn:c*n.mcusPerColumn,s||(s=F);while(j<F){for(I=0;I<U;I++)i[I].pred=0;if(k=0,1==U)for(T=i[0],O=0;O<s;O++)P(T,B,j),j++;else for(O=0;O<s;O++){for(I=0;I<U;I++)for(T=i[I],L=T.h,z=T.v,C=0;C<z;C++)for(D=0;D<L;D++)R(T,B,j,C,D);if(j++,j===F)break}if(j===F)do{if(255===e[r]&&0!==e[r+1])break;r+=1}while(r<e.length-2);if(m=0,N=e[r]<<8|e[r+1],N<65280)throw new Error("marker was not found");if(!(N>=65488&&N<=65495))break;r+=2}return r-d}function f(t,h){var u,c,f=[],d=h.blocksPerLine,p=h.blocksPerColumn,m=d<<3,w=new Int32Array(64),b=new Uint8Array(64);function y(t,u,c){var f,d,p,m,g,w,b,y,v,_,x=h.quantizationTable,k=c;for(_=0;_<64;_++)k[_]=t[_]*x[_];for(_=0;_<8;++_){var M=8*_;0!=k[1+M]||0!=k[2+M]||0!=k[3+M]||0!=k[4+M]||0!=k[5+M]||0!=k[6+M]||0!=k[7+M]?(f=a*k[0+M]+128>>8,d=a*k[4+M]+128>>8,p=k[2+M],m=k[6+M],g=l*(k[1+M]-k[7+M])+128>>8,y=l*(k[1+M]+k[7+M])+128>>8,w=k[3+M]<<4,b=k[5+M]<<4,v=f-d+1>>1,f=f+d+1>>1,d=v,v=p*o+m*s+128>>8,p=p*s-m*o+128>>8,m=v,v=g-b+1>>1,g=g+b+1>>1,b=v,v=y+w+1>>1,w=y-w+1>>1,y=v,v=f-m+1>>1,f=f+m+1>>1,m=v,v=d-p+1>>1,d=d+p+1>>1,p=v,v=g*i+y*n+2048>>12,g=g*n-y*i+2048>>12,y=v,v=w*r+b*e+2048>>12,w=w*e-b*r+2048>>12,b=v,k[0+M]=f+y,k[7+M]=f-y,k[1+M]=d+b,k[6+M]=d-b,k[2+M]=p+w,k[5+M]=p-w,k[3+M]=m+g,k[4+M]=m-g):(v=a*k[0+M]+512>>10,k[0+M]=v,k[1+M]=v,k[2+M]=v,k[3+M]=v,k[4+M]=v,k[5+M]=v,k[6+M]=v,k[7+M]=v)}for(_=0;_<8;++_){var E=_;0!=k[8+E]||0!=k[16+E]||0!=k[24+E]||0!=k[32+E]||0!=k[40+E]||0!=k[48+E]||0!=k[56+E]?(f=a*k[0+E]+2048>>12,d=a*k[32+E]+2048>>12,p=k[16+E],m=k[48+E],g=l*(k[8+E]-k[56+E])+2048>>12,y=l*(k[8+E]+k[56+E])+2048>>12,w=k[24+E],b=k[40+E],v=f-d+1>>1,f=f+d+1>>1,d=v,v=p*o+m*s+2048>>12,p=p*s-m*o+2048>>12,m=v,v=g-b+1>>1,g=g+b+1>>1,b=v,v=y+w+1>>1,w=y-w+1>>1,y=v,v=f-m+1>>1,f=f+m+1>>1,m=v,v=d-p+1>>1,d=d+p+1>>1,p=v,v=g*i+y*n+2048>>12,g=g*n-y*i+2048>>12,y=v,v=w*r+b*e+2048>>12,w=w*e-b*r+2048>>12,b=v,k[0+E]=f+y,k[56+E]=f-y,k[8+E]=d+b,k[48+E]=d-b,k[16+E]=p+w,k[40+E]=p-w,k[24+E]=m+g,k[32+E]=m-g):(v=a*c[_+0]+8192>>14,k[0+E]=v,k[8+E]=v,k[16+E]=v,k[24+E]=v,k[32+E]=v,k[40+E]=v,k[48+E]=v,k[56+E]=v)}for(_=0;_<64;++_){var A=128+(k[_]+8>>4);u[_]=A<0?0:A>255?255:A}}g(m*p*8);for(var v=0;v<p;v++){var _=v<<3;for(u=0;u<8;u++)f.push(new Uint8Array(m));for(var x=0;x<d;x++){y(h.blocks[v][x],b,w);var k=0,M=x<<3;for(c=0;c<8;c++){var E=f[_+c];for(u=0;u<8;u++)E[M+u]=b[k++]}}}return f}function d(t){return t<0?0:t>255?255:t}h.prototype={load:function(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(){var t=new Uint8Array(e.response||e.mozResponseArrayBuffer);this.parse(t),this.onload&&this.onload()}.bind(this),e.send(null)},parse:function(e){var r=1e3*this.opts.maxResolutionInMP*1e3,n=0;e.length;function i(){var t=e[n]<<8|e[n+1];return n+=2,t}function s(){var t=i(),r=e.subarray(n,n+t-2);return n+=r.length,r}function o(t){var e,r,n=1,i=1;for(r in t.components)t.components.hasOwnProperty(r)&&(e=t.components[r],n<e.h&&(n=e.h),i<e.v&&(i=e.v));var s=Math.ceil(t.samplesPerLine/8/n),o=Math.ceil(t.scanLines/8/i);for(r in t.components)if(t.components.hasOwnProperty(r)){e=t.components[r];var a=Math.ceil(Math.ceil(t.samplesPerLine/8)*e.h/n),l=Math.ceil(Math.ceil(t.scanLines/8)*e.v/i),h=s*e.h,u=o*e.v,c=u*h,f=[];g(256*c);for(var d=0;d<u;d++){for(var p=[],m=0;m<h;m++)p.push(new Int32Array(64));f.push(p)}e.blocksPerLine=a,e.blocksPerColumn=l,e.blocks=f}t.maxH=n,t.maxV=i,t.mcusPerLine=s,t.mcusPerColumn=o}var a,l,h=null,d=null,p=[],m=[],w=[],b=[],y=i(),v=-1;if(this.comments=[],65496!=y)throw new Error("SOI not found");y=i();while(65497!=y){switch(y){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var _=s();if(65534===y){var x=String.fromCharCode.apply(null,_);this.comments.push(x)}65504===y&&74===_[0]&&70===_[1]&&73===_[2]&&70===_[3]&&0===_[4]&&(h={version:{major:_[5],minor:_[6]},densityUnits:_[7],xDensity:_[8]<<8|_[9],yDensity:_[10]<<8|_[11],thumbWidth:_[12],thumbHeight:_[13],thumbData:_.subarray(14,14+3*_[12]*_[13])}),65505===y&&69===_[0]&&120===_[1]&&105===_[2]&&102===_[3]&&0===_[4]&&(this.exifBuffer=_.subarray(5,_.length)),65518===y&&65===_[0]&&100===_[1]&&111===_[2]&&98===_[3]&&101===_[4]&&0===_[5]&&(d={version:_[6],flags0:_[7]<<8|_[8],flags1:_[9]<<8|_[10],transformCode:_[11]});break;case 65499:var k=i(),M=k+n-2;while(n<M){var E=e[n++];g(256);var A=new Int32Array(64);if(E>>4===0)for(Z=0;Z<64;Z++){var S=t[Z];A[S]=e[n++]}else{if(E>>4!==1)throw new Error("DQT: invalid table spec");for(Z=0;Z<64;Z++){S=t[Z];A[S]=i()}}p[15&E]=A}break;case 65472:case 65473:case 65474:i(),a={},a.extended=65473===y,a.progressive=65474===y,a.precision=e[n++],a.scanLines=i(),a.samplesPerLine=i(),a.components={},a.componentsOrder=[];var R=a.scanLines*a.samplesPerLine;if(R>r){var P=Math.ceil((R-r)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${P}MP`)}var T,I=e[n++];for($=0;$<I;$++){T=e[n];var C=e[n+1]>>4,D=15&e[n+1],O=e[n+2];if(C<=0||D<=0)throw new Error("Invalid sampling factor, expected values above 0");a.componentsOrder.push(T),a.components[T]={h:C,v:D,quantizationIdx:O},n+=3}o(a),m.push(a);break;case 65476:var B=i();for($=2;$<B;){var U=e[n++],N=new Uint8Array(16),F=0;for(Z=0;Z<16;Z++,n++)F+=N[Z]=e[n];g(16+F);var L=new Uint8Array(F);for(Z=0;Z<F;Z++,n++)L[Z]=e[n];$+=17+F,(U>>4===0?b:w)[15&U]=u(N,L)}break;case 65501:i(),l=i();break;case 65500:i(),i();break;case 65498:i();var z=e[n++],j=[];for($=0;$<z;$++){W=a.components[e[n++]];var V=e[n++];W.huffmanTableDC=b[V>>4],W.huffmanTableAC=w[15&V],j.push(W)}var Y=e[n++],X=e[n++],G=e[n++],q=c(e,n,a,j,l,Y,X,G>>4,15&G,this.opts);n+=q;break;case 65535:255!==e[n]&&n--;break;default:if(255==e[n-3]&&e[n-2]>=192&&e[n-2]<=254){n-=3;break}if(224===y||225==y){if(-1!==v)throw new Error(`first unknown JPEG marker at offset ${v.toString(16)}, second unknown JPEG marker ${y.toString(16)} at offset ${(n-1).toString(16)}`);v=n-1;const t=i();if(255===e[n+t-2]){n+=t-2;break}}throw new Error("unknown JPEG marker "+y.toString(16))}y=i()}if(1!=m.length)throw new Error("only single frame JPEGs supported");for(var $=0;$<m.length;$++){var H=m[$].components;for(var Z in H)H[Z].quantizationTable=p[H[Z].quantizationIdx],delete H[Z].quantizationIdx}this.width=a.samplesPerLine,this.height=a.scanLines,this.jfif=h,this.adobe=d,this.components=[];for($=0;$<a.componentsOrder.length;$++){var W=a.components[a.componentsOrder[$]];this.components.push({lines:f(a,W),scaleX:W.h/a.maxH,scaleY:W.v/a.maxV})}},getData:function(t,e){var r,n,i,s,o,a,l,h,u,c,f,p,m,w,b,y,v,_,x,k,M,E=this.width/t,A=this.height/e,S=0,R=t*e*this.components.length;g(R);var P=new Uint8Array(R);switch(this.components.length){case 1:for(r=this.components[0],c=0;c<e;c++)for(o=r.lines[0|c*r.scaleY*A],u=0;u<t;u++)f=o[0|u*r.scaleX*E],P[S++]=f;break;case 2:for(r=this.components[0],n=this.components[1],c=0;c<e;c++)for(o=r.lines[0|c*r.scaleY*A],a=n.lines[0|c*n.scaleY*A],u=0;u<t;u++)f=o[0|u*r.scaleX*E],P[S++]=f,f=a[0|u*n.scaleX*E],P[S++]=f;break;case 3:for(M=!0,this.adobe&&this.adobe.transformCode?M=!0:"undefined"!==typeof this.opts.colorTransform&&(M=!!this.opts.colorTransform),r=this.components[0],n=this.components[1],i=this.components[2],c=0;c<e;c++)for(o=r.lines[0|c*r.scaleY*A],a=n.lines[0|c*n.scaleY*A],l=i.lines[0|c*i.scaleY*A],u=0;u<t;u++)M?(f=o[0|u*r.scaleX*E],p=a[0|u*n.scaleX*E],m=l[0|u*i.scaleX*E],_=d(f+1.402*(m-128)),x=d(f-.3441363*(p-128)-.71413636*(m-128)),k=d(f+1.772*(p-128))):(_=o[0|u*r.scaleX*E],x=a[0|u*n.scaleX*E],k=l[0|u*i.scaleX*E]),P[S++]=_,P[S++]=x,P[S++]=k;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(M=!1,this.adobe&&this.adobe.transformCode?M=!0:"undefined"!==typeof this.opts.colorTransform&&(M=!!this.opts.colorTransform),r=this.components[0],n=this.components[1],i=this.components[2],s=this.components[3],c=0;c<e;c++)for(o=r.lines[0|c*r.scaleY*A],a=n.lines[0|c*n.scaleY*A],l=i.lines[0|c*i.scaleY*A],h=s.lines[0|c*s.scaleY*A],u=0;u<t;u++)M?(f=o[0|u*r.scaleX*E],p=a[0|u*n.scaleX*E],m=l[0|u*i.scaleX*E],w=h[0|u*s.scaleX*E],b=255-d(f+1.402*(m-128)),y=255-d(f-.3441363*(p-128)-.71413636*(m-128)),v=255-d(f+1.772*(p-128))):(b=o[0|u*r.scaleX*E],y=a[0|u*n.scaleX*E],v=l[0|u*i.scaleX*E],w=h[0|u*s.scaleX*E]),P[S++]=255-b,P[S++]=255-y,P[S++]=255-v,P[S++]=255-w;break;default:throw new Error("Unsupported color mode")}return P},copyToImageData:function(t,e){var r,n,i,s,o,a,l,h,u,c=t.width,f=t.height,p=t.data,m=this.getData(c,f),g=0,w=0;switch(this.components.length){case 1:for(n=0;n<f;n++)for(r=0;r<c;r++)i=m[g++],p[w++]=i,p[w++]=i,p[w++]=i,e&&(p[w++]=255);break;case 3:for(n=0;n<f;n++)for(r=0;r<c;r++)l=m[g++],h=m[g++],u=m[g++],p[w++]=l,p[w++]=h,p[w++]=u,e&&(p[w++]=255);break;case 4:for(n=0;n<f;n++)for(r=0;r<c;r++)o=m[g++],a=m[g++],i=m[g++],s=m[g++],l=255-d(o*(1-s/255)+s),h=255-d(a*(1-s/255)+s),u=255-d(i*(1-s/255)+s),p[w++]=l,p[w++]=h,p[w++]=u,e&&(p[w++]=255);break;default:throw new Error("Unsupported color mode")}}};var p=0,m=0;function g(t=0){var e=p+t;if(e>m){var r=Math.ceil((e-m)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${r}MB`)}p=e}return h.resetMaxMemoryUsage=function(t){p=0,m=t},h.getBytesAllocated=function(){return p},h.requestMemoryAllocation=g,h}();function i(t,e={}){var r={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},i={...r,...e},s=new Uint8Array(t),o=new n;o.opts=i,n.resetMaxMemoryUsage(1024*i.maxMemoryUsageInMB*1024),o.parse(s);var a=i.formatAsRGBA?4:3,l=o.width*o.height*a;try{n.requestMemoryAllocation(l);var h={width:o.width,height:o.height,exifBuffer:o.exifBuffer,data:i.useTArray?new Uint8Array(l):Buffer.alloc(l)};o.comments.length>0&&(h["comments"]=o.comments)}catch(u){if(u instanceof RangeError)throw new Error("Could not allocate enough memory for the image. Required: "+l);if(u instanceof ReferenceError&&"Buffer is not defined"===u.message)throw new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true");throw u}return o.copyToImageData(h,i.formatAsRGBA),h}t.exports=i},683:function(t,e,r){r(7658),r(1439),r(7585),r(5315);function n(t){Math.round;var e,r,n,i,s,o=Math.floor,a=new Array(64),l=new Array(64),h=new Array(64),u=new Array(64),c=new Array(65535),f=new Array(65535),d=new Array(64),p=new Array(64),m=[],g=0,w=7,b=new Array(64),y=new Array(64),v=new Array(64),_=new Array(256),x=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],A=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],I=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function C(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var n=o((e[r]*t+50)/100);n<1?n=1:n>255&&(n=255),a[k[r]]=n}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var c=o((i[s]*t+50)/100);c<1?c=1:c>255&&(c=255),l[k[s]]=c}for(var f=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d=0,p=0;p<8;p++)for(var m=0;m<8;m++)h[d]=1/(a[k[d]]*f[p]*f[m]*8),u[d]=1/(l[k[d]]*f[p]*f[m]*8),d++}function D(t,e){for(var r=0,n=0,i=new Array,s=1;s<=16;s++){for(var o=1;o<=t[s];o++)i[e[n]]=[],i[e[n]][0]=r,i[e[n]][1]=s,n++,r++;r*=2}return i}function O(){e=D(M,E),r=D(R,P),n=D(A,S),i=D(T,I)}function B(){for(var t=1,e=2,r=1;r<=15;r++){for(var n=t;n<e;n++)f[32767+n]=r,c[32767+n]=[],c[32767+n][1]=r,c[32767+n][0]=n;for(var i=-(e-1);i<=-t;i++)f[32767+i]=r,c[32767+i]=[],c[32767+i][1]=r,c[32767+i][0]=e-1+i;t<<=1,e<<=1}}function U(){for(var t=0;t<256;t++)x[t]=19595*t,x[t+256>>0]=38470*t,x[t+512>>0]=7471*t+32768,x[t+768>>0]=-11059*t,x[t+1024>>0]=-21709*t,x[t+1280>>0]=32768*t+8421375,x[t+1536>>0]=-27439*t,x[t+1792>>0]=-5329*t}function N(t){var e=t[0],r=t[1]-1;while(r>=0)e&1<<r&&(g|=1<<w),r--,w--,w<0&&(255==g?(F(255),F(0)):F(g),w=7,g=0)}function F(t){m.push(t)}function L(t){F(t>>8&255),F(255&t)}function z(t,e){var r,n,i,s,o,a,l,h,u,c,f=0,p=8,m=64;for(u=0;u<p;++u){r=t[f],n=t[f+1],i=t[f+2],s=t[f+3],o=t[f+4],a=t[f+5],l=t[f+6],h=t[f+7];var g=r+h,w=r-h,b=n+l,y=n-l,v=i+a,_=i-a,x=s+o,k=s-o,M=g+x,E=g-x,A=b+v,S=b-v;t[f]=M+A,t[f+4]=M-A;var R=.707106781*(S+E);t[f+2]=E+R,t[f+6]=E-R,M=k+_,A=_+y,S=y+w;var P=.382683433*(M-S),T=.5411961*M+P,I=1.306562965*S+P,C=.707106781*A,D=w+C,O=w-C;t[f+5]=O+T,t[f+3]=O-T,t[f+1]=D+I,t[f+7]=D-I,f+=8}for(f=0,u=0;u<p;++u){r=t[f],n=t[f+8],i=t[f+16],s=t[f+24],o=t[f+32],a=t[f+40],l=t[f+48],h=t[f+56];var B=r+h,U=r-h,N=n+l,F=n-l,L=i+a,z=i-a,j=s+o,V=s-o,Y=B+j,X=B-j,G=N+L,q=N-L;t[f]=Y+G,t[f+32]=Y-G;var $=.707106781*(q+X);t[f+16]=X+$,t[f+48]=X-$,Y=V+z,G=z+F,q=F+U;var H=.382683433*(Y-q),Z=.5411961*Y+H,W=1.306562965*q+H,K=.707106781*G,J=U+K,Q=U-K;t[f+40]=Q+Z,t[f+24]=Q-Z,t[f+8]=J+W,t[f+56]=J-W,f++}for(u=0;u<m;++u)c=t[u]*e[u],d[u]=c>0?c+.5|0:c-.5|0;return d}function j(){L(65504),L(16),F(74),F(70),F(73),F(70),F(0),F(1),F(1),F(0),L(1),L(1),F(0),F(0)}function V(t){if(t){L(65505),69===t[0]&&120===t[1]&&105===t[2]&&102===t[3]?L(t.length+2):(L(t.length+5+2),F(69),F(120),F(105),F(102),F(0));for(var e=0;e<t.length;e++)F(t[e])}}function Y(t,e){L(65472),L(17),F(8),L(e),L(t),F(3),F(1),F(17),F(0),F(2),F(17),F(1),F(3),F(17),F(1)}function X(){L(65499),L(132),F(0);for(var t=0;t<64;t++)F(a[t]);F(1);for(var e=0;e<64;e++)F(l[e])}function G(){L(65476),L(418),F(0);for(var t=0;t<16;t++)F(M[t+1]);for(var e=0;e<=11;e++)F(E[e]);F(16);for(var r=0;r<16;r++)F(A[r+1]);for(var n=0;n<=161;n++)F(S[n]);F(1);for(var i=0;i<16;i++)F(R[i+1]);for(var s=0;s<=11;s++)F(P[s]);F(17);for(var o=0;o<16;o++)F(T[o+1]);for(var a=0;a<=161;a++)F(I[a])}function q(t){"undefined"!==typeof t&&t.constructor===Array&&t.forEach((t=>{if("string"===typeof t){L(65534);var e,r=t.length;for(L(r+2),e=0;e<r;e++)F(t.charCodeAt(e))}}))}function $(){L(65498),L(12),F(3),F(1),F(0),F(2),F(17),F(3),F(17),F(0),F(63),F(0)}function H(t,e,r,n,i){for(var s,o=i[0],a=i[240],l=16,h=63,u=64,d=z(t,e),m=0;m<u;++m)p[k[m]]=d[m];var g=p[0]-r;r=p[0],0==g?N(n[0]):(s=32767+g,N(n[f[s]]),N(c[s]));for(var w=63;w>0&&0==p[w];w--);if(0==w)return N(o),r;var b,y=1;while(y<=w){for(var v=y;0==p[y]&&y<=w;++y);var _=y-v;if(_>=l){b=_>>4;for(var x=1;x<=b;++x)N(a);_&=15}s=32767+p[y],N(i[(_<<4)+f[s]]),N(c[s]),y++}return w!=h&&N(o),r}function Z(){for(var t=String.fromCharCode,e=0;e<256;e++)_[e]=t(e)}function W(t){if(t<=0&&(t=1),t>100&&(t=100),s!=t){var e=0;e=t<50?Math.floor(5e3/t):Math.floor(200-2*t),C(e),s=t}}function K(){var e=(new Date).getTime();t||(t=50),Z(),O(),B(),U(),W(t);(new Date).getTime()}this.encode=function(t,s){(new Date).getTime();s&&W(s),m=new Array,g=0,w=7,L(65496),j(),q(t.comments),V(t.exifBuffer),X(),Y(t.width,t.height),G(),$();var o=0,a=0,l=0;g=0,w=7,this.encode.displayName="_encode_";var c,f,d,p,_,k,M,E,A,S=t.data,R=t.width,P=t.height,T=4*R,I=0;while(I<P){c=0;while(c<T){for(_=T*I+c,k=_,M=-1,E=0,A=0;A<64;A++)E=A>>3,M=4*(7&A),k=_+E*T+M,I+E>=P&&(k-=T*(I+1+E-P)),c+M>=T&&(k-=c+M-T+4),f=S[k++],d=S[k++],p=S[k++],b[A]=(x[f]+x[d+256>>0]+x[p+512>>0]>>16)-128,y[A]=(x[f+768>>0]+x[d+1024>>0]+x[p+1280>>0]>>16)-128,v[A]=(x[f+1280>>0]+x[d+1536>>0]+x[p+1792>>0]>>16)-128;o=H(b,h,o,e,n),a=H(y,u,a,r,i),l=H(v,u,l,r,i),c+=32}I+=8}if(w>=0){var C=[];C[1]=w+1,C[0]=(1<<w+1)-1,N(C)}return L(65497),Buffer.from(m)},K()}function i(t,e){"undefined"===typeof e&&(e=50);var r=new n(e),i=r.encode(t,e);return{data:i,width:t.width,height:t.height}}t.exports=i},6462:function(t,e,r){r(7658),function(e){t.exports=e()}((function(){return function t(e,r,n){function i(o,a){if(!r[o]){if(!e[o]){var l=void 0;if(!a&&l)return require(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var u=r[o]={exports:{}};e[o][0].call(u.exports,(function(t){var r=e[o][1][t];return i(r||t)}),u,u.exports,t,e,r,n)}return r[o].exports}for(var s=void 0,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(t,e,r){var n,i,s,o,a,l=function(t,e){for(var r in e)h.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;n=t("./PriorityQueue/AbstractPriorityQueue"),i=t("./PriorityQueue/ArrayStrategy"),o=t("./PriorityQueue/BinaryHeapStrategy"),s=t("./PriorityQueue/BHeapStrategy"),a=function(t){function e(t){t||(t={}),t.strategy||(t.strategy=o),t.comparator||(t.comparator=function(t,e){return(t||0)-(e||0)}),e.__super__.constructor.call(this,t)}return l(e,t),e}(n),a.ArrayStrategy=i,a.BinaryHeapStrategy=o,a.BHeapStrategy=s,e.exports=a},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3,"./PriorityQueue/BHeapStrategy":4,"./PriorityQueue/BinaryHeapStrategy":5}],2:[function(t,e,r){e.exports=function(){function t(t){var e;if(null==(null!=t?t.strategy:void 0))throw"Must pass options.strategy, a strategy";if(null==(null!=t?t.comparator:void 0))throw"Must pass options.comparator, a comparator";this.priv=new t.strategy(t),this.length=(null!=t&&null!=(e=t.initialValues)?e.length:void 0)||0}return t.prototype.queue=function(t){this.length++,this.priv.queue(t)},t.prototype.dequeue=function(t){if(!this.length)throw"Empty queue";return this.length--,this.priv.dequeue()},t.prototype.peek=function(t){if(!this.length)throw"Empty queue";return this.priv.peek()},t.prototype.clear=function(){return this.length=0,this.priv.clear()},t}()},{}],3:[function(t,e,r){var n;n=function(t,e,r){var n,i,s;i=0,n=t.length;while(i<n)s=i+n>>>1,r(t[s],e)>=0?i=s+1:n=s;return i},e.exports=function(){function t(t){var e;this.options=t,this.comparator=this.options.comparator,this.data=(null!=(e=this.options.initialValues)?e.slice(0):void 0)||[],this.data.sort(this.comparator).reverse()}return t.prototype.queue=function(t){var e;e=n(this.data,t,this.comparator),this.data.splice(e,0,t)},t.prototype.dequeue=function(){return this.data.pop()},t.prototype.peek=function(){return this.data[this.data.length-1]},t.prototype.clear=function(){this.data.length=0},t}()},{}],4:[function(t,e,r){e.exports=function(){function t(t){var e,r,n,i,s,o,a,l;this.comparator=(null!=t?t.comparator:void 0)||function(t,e){return t-e},this.pageSize=(null!=t?t.pageSize:void 0)||512,this.length=0,a=0;while(1<<a<this.pageSize)a+=1;if(1<<a!==this.pageSize)throw"pageSize must be a power of two";for(this._shift=a,this._emptyMemoryPageTemplate=e=[],r=0,s=this.pageSize;0<=s?r<s:r>s;0<=s?++r:--r)e.push(null);if(this._memory=[],this._mask=this.pageSize-1,t.initialValues)for(o=t.initialValues,n=0,i=o.length;n<i;n++)l=o[n],this.queue(l)}return t.prototype.queue=function(t){this.length+=1,this._write(this.length,t),this._bubbleUp(this.length,t)},t.prototype.dequeue=function(){var t,e;return t=this._read(1),e=this._read(this.length),this.length-=1,this.length>0&&(this._write(1,e),this._bubbleDown(1,e)),t},t.prototype.peek=function(){return this._read(1)},t.prototype.clear=function(){this.length=0,this._memory.length=0},t.prototype._write=function(t,e){var r;r=t>>this._shift;while(r>=this._memory.length)this._memory.push(this._emptyMemoryPageTemplate.slice(0));return this._memory[r][t&this._mask]=e},t.prototype._read=function(t){return this._memory[t>>this._shift][t&this._mask]},t.prototype._bubbleUp=function(t,e){var r,n,i,s;r=this.comparator;while(t>1){if(n=t&this._mask,t<this.pageSize||n>3?i=t&~this._mask|n>>1:n<2?(i=t-this.pageSize>>this._shift,i+=i&~(this._mask>>1),i|=this.pageSize>>1):i=t-2,s=this._read(i),r(s,e)<0)break;this._write(i,e),this._write(t,s),t=i}},t.prototype._bubbleDown=function(t,e){var r,n,i,s,o;o=this.comparator;while(t<this.length)if(t>this._mask&&!(t&this._mask-1)?r=n=t+2:t&this.pageSize>>1?(r=(t&~this._mask)>>1,r|=t&this._mask>>1,r=r+1<<this._shift,n=r+1):(r=t+(t&this._mask),n=r+1),r!==n&&n<=this.length)if(i=this._read(r),s=this._read(n),o(i,e)<0&&o(i,s)<=0)this._write(r,e),this._write(t,i),t=r;else{if(!(o(s,e)<0))break;this._write(n,e),this._write(t,s),t=n}else{if(!(r<=this.length))break;if(i=this._read(r),!(o(i,e)<0))break;this._write(r,e),this._write(t,i),t=r}},t}()},{}],5:[function(t,e,r){e.exports=function(){function t(t){var e;this.comparator=(null!=t?t.comparator:void 0)||function(t,e){return t-e},this.length=0,this.data=(null!=(e=t.initialValues)?e.slice(0):void 0)||[],this._heapify()}return t.prototype._heapify=function(){var t,e,r;if(this.data.length>0)for(t=e=1,r=this.data.length;1<=r?e<r:e>r;t=1<=r?++e:--e)this._bubbleUp(t)},t.prototype.queue=function(t){this.data.push(t),this._bubbleUp(this.data.length-1)},t.prototype.dequeue=function(){var t,e;return e=this.data[0],t=this.data.pop(),this.data.length>0&&(this.data[0]=t,this._bubbleDown(0)),e},t.prototype.peek=function(){return this.data[0]},t.prototype.clear=function(){this.length=0,this.data.length=0},t.prototype._bubbleUp=function(t){var e,r;while(t>0){if(e=t-1>>>1,!(this.comparator(this.data[t],this.data[e])<0))break;r=this.data[e],this.data[e]=this.data[t],this.data[t]=r,t=e}},t.prototype._bubbleDown=function(t){var e,r,n,i,s;e=this.data.length-1;while(1){if(r=1+(t<<1),i=r+1,n=t,r<=e&&this.comparator(this.data[r],this.data[n])<0&&(n=r),i<=e&&this.comparator(this.data[i],this.data[n])<0&&(n=i),n===t)break;s=this.data[n],this.data[n]=this.data[t],this.data[t]=s,t=n}},t}()},{}]},{},[1])(1)}))},757:function(t,e,r){r(7658),function(e,r){t.exports=r()}(0,(function(){"use strict";function t(t){return"string"===typeof t||t instanceof String}var e=Number.isFinite||window.isFinite;function r(t){return e(t)}function n(t){return t}function i(t){var e={};return t.filter((function(t){return!e.hasOwnProperty(t)&&(e[t]=!0)}))}function s(t,e){if(e.length!==t.length)return!1;for(var r=0;r<t.length;r++){if(e[r].compareArray&&!e[r].compareArray(t[r]))return!1;if(e[r]!==t[r])return!1}return!0}function o(t,e){Object.keys(e).forEach((function(r){t[r]=e[r]}))}function a(){for(var t=1,e=0,r=0;r<arguments.length;r++){var n=arguments[r];e+=u(n),t*=n}return 0!==e?h(t,e):t}function l(t,e){if(0===e)throw new Error("Divide by zero");var r=Math.pow(10,u(e)),n=r/(r*e);return a(t,n)}function h(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}function u(t){if(!isFinite(t))return 0;var e=0;while(t%1!==0)t*=10,e++;return e}function c(){var t;if(!this)return t=Object.create(c.prototype),c.apply(t,arguments),t;t=Error.apply(this,arguments),this.name="QtyError",this.message=t.message,this.stack=t.stack}function f(t,e){throw new c("Incompatible units: "+t+" and "+e)}c.prototype=Object.create(Error.prototype,{constructor:{value:c}});var d={"<googol>":[["googol"],1e100,"prefix"],"<kibi>":[["Ki","Kibi","kibi"],Math.pow(2,10),"prefix"],"<mebi>":[["Mi","Mebi","mebi"],Math.pow(2,20),"prefix"],"<gibi>":[["Gi","Gibi","gibi"],Math.pow(2,30),"prefix"],"<tebi>":[["Ti","Tebi","tebi"],Math.pow(2,40),"prefix"],"<pebi>":[["Pi","Pebi","pebi"],Math.pow(2,50),"prefix"],"<exi>":[["Ei","Exi","exi"],Math.pow(2,60),"prefix"],"<zebi>":[["Zi","Zebi","zebi"],Math.pow(2,70),"prefix"],"<yebi>":[["Yi","Yebi","yebi"],Math.pow(2,80),"prefix"],"<yotta>":[["Y","Yotta","yotta"],1e24,"prefix"],"<zetta>":[["Z","Zetta","zetta"],1e21,"prefix"],"<exa>":[["E","Exa","exa"],1e18,"prefix"],"<peta>":[["P","Peta","peta"],1e15,"prefix"],"<tera>":[["T","Tera","tera"],1e12,"prefix"],"<giga>":[["G","Giga","giga"],1e9,"prefix"],"<mega>":[["M","Mega","mega"],1e6,"prefix"],"<kilo>":[["k","kilo"],1e3,"prefix"],"<hecto>":[["h","Hecto","hecto"],100,"prefix"],"<deca>":[["da","Deca","deca","deka"],10,"prefix"],"<deci>":[["d","Deci","deci"],.1,"prefix"],"<centi>":[["c","Centi","centi"],.01,"prefix"],"<milli>":[["m","Milli","milli"],.001,"prefix"],"<micro>":[["u","μ","µ","Micro","mc","micro"],1e-6,"prefix"],"<nano>":[["n","Nano","nano"],1e-9,"prefix"],"<pico>":[["p","Pico","pico"],1e-12,"prefix"],"<femto>":[["f","Femto","femto"],1e-15,"prefix"],"<atto>":[["a","Atto","atto"],1e-18,"prefix"],"<zepto>":[["z","Zepto","zepto"],1e-21,"prefix"],"<yocto>":[["y","Yocto","yocto"],1e-24,"prefix"],"<1>":[["1","<1>"],1,""],"<meter>":[["m","meter","meters","metre","metres"],1,"length",["<meter>"]],"<inch>":[["in","inch","inches",'"'],.0254,"length",["<meter>"]],"<foot>":[["ft","foot","feet","'"],.3048,"length",["<meter>"]],"<yard>":[["yd","yard","yards"],.9144,"length",["<meter>"]],"<mile>":[["mi","mile","miles"],1609.344,"length",["<meter>"]],"<naut-mile>":[["nmi","naut-mile"],1852,"length",["<meter>"]],"<league>":[["league","leagues"],4828,"length",["<meter>"]],"<furlong>":[["furlong","furlongs"],201.2,"length",["<meter>"]],"<rod>":[["rd","rod","rods"],5.029,"length",["<meter>"]],"<mil>":[["mil","mils"],254e-7,"length",["<meter>"]],"<angstrom>":[["ang","angstrom","angstroms"],1e-10,"length",["<meter>"]],"<fathom>":[["fathom","fathoms"],1.829,"length",["<meter>"]],"<pica>":[["pica","picas"],.00423333333,"length",["<meter>"]],"<point>":[["pt","point","points"],.000352777778,"length",["<meter>"]],"<redshift>":[["z","red-shift","redshift"],1302773e20,"length",["<meter>"]],"<AU>":[["AU","astronomical-unit"],1495979e5,"length",["<meter>"]],"<light-second>":[["ls","light-second"],299792500,"length",["<meter>"]],"<light-minute>":[["lmin","light-minute"],1798755e4,"length",["<meter>"]],"<light-year>":[["ly","light-year"],9460528e9,"length",["<meter>"]],"<parsec>":[["pc","parsec","parsecs"],3085678e10,"length",["<meter>"]],"<datamile>":[["DM","datamile"],1828.8,"length",["<meter>"]],"<kilogram>":[["kg","kilogram","kilograms"],1,"mass",["<kilogram>"]],"<AMU>":[["u","AMU","amu"],1660538921e-36,"mass",["<kilogram>"]],"<dalton>":[["Da","Dalton","Daltons","dalton","daltons"],1660538921e-36,"mass",["<kilogram>"]],"<slug>":[["slug","slugs"],14.5939029,"mass",["<kilogram>"]],"<short-ton>":[["tn","ton","short-ton"],907.18474,"mass",["<kilogram>"]],"<metric-ton>":[["t","tonne","metric-ton"],1e3,"mass",["<kilogram>"]],"<carat>":[["ct","carat","carats"],2e-4,"mass",["<kilogram>"]],"<pound>":[["lbs","lb","pound","pounds","#"],.45359237,"mass",["<kilogram>"]],"<ounce>":[["oz","ounce","ounces"],.0283495231,"mass",["<kilogram>"]],"<gram>":[["g","gram","grams","gramme","grammes"],.001,"mass",["<kilogram>"]],"<grain>":[["grain","grains","gr"],6479891e-11,"mass",["<kilogram>"]],"<dram>":[["dram","drams","dr"],.0017718452,"mass",["<kilogram>"]],"<stone>":[["stone","stones","st"],6.35029318,"mass",["<kilogram>"]],"<hectare>":[["hectare"],1e4,"area",["<meter>","<meter>"]],"<acre>":[["acre","acres"],4046.85642,"area",["<meter>","<meter>"]],"<sqft>":[["sqft"],1,"area",["<foot>","<foot>"]],"<liter>":[["l","L","liter","liters","litre","litres"],.001,"volume",["<meter>","<meter>","<meter>"]],"<gallon>":[["gal","gallon","gallons"],.0037854118,"volume",["<meter>","<meter>","<meter>"]],"<gallon-imp>":[["galimp","gallon-imp","gallons-imp"],.00454609,"volume",["<meter>","<meter>","<meter>"]],"<quart>":[["qt","quart","quarts"],.00094635295,"volume",["<meter>","<meter>","<meter>"]],"<pint>":[["pt","pint","pints"],.000473176475,"volume",["<meter>","<meter>","<meter>"]],"<pint-imp>":[["ptimp","pint-imp","pints-imp"],.00056826125,"volume",["<meter>","<meter>","<meter>"]],"<cup>":[["cu","cup","cups"],.000236588238,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce>":[["floz","fluid-ounce","fluid-ounces"],295735297e-13,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce-imp>":[["flozimp","floz-imp","fluid-ounce-imp","fluid-ounces-imp"],284130625e-13,"volume",["<meter>","<meter>","<meter>"]],"<tablespoon>":[["tb","tbsp","tbs","tablespoon","tablespoons"],147867648e-13,"volume",["<meter>","<meter>","<meter>"]],"<teaspoon>":[["tsp","teaspoon","teaspoons"],492892161e-14,"volume",["<meter>","<meter>","<meter>"]],"<bushel>":[["bu","bsh","bushel","bushels"],.035239072,"volume",["<meter>","<meter>","<meter>"]],"<oilbarrel>":[["bbl","oilbarrel","oilbarrels","oil-barrel","oil-barrels"],.158987294928,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel>":[["bl","bl-us","beerbarrel","beerbarrels","beer-barrel","beer-barrels"],.1173477658,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel-imp>":[["blimp","bl-imp","beerbarrel-imp","beerbarrels-imp","beer-barrel-imp","beer-barrels-imp"],.16365924,"volume",["<meter>","<meter>","<meter>"]],"<kph>":[["kph"],.277777778,"speed",["<meter>"],["<second>"]],"<mph>":[["mph"],.44704,"speed",["<meter>"],["<second>"]],"<knot>":[["kt","kn","kts","knot","knots"],.514444444,"speed",["<meter>"],["<second>"]],"<fps>":[["fps"],.3048,"speed",["<meter>"],["<second>"]],"<gee>":[["gee"],9.80665,"acceleration",["<meter>"],["<second>","<second>"]],"<Gal>":[["Gal"],.01,"acceleration",["<meter>"],["<second>","<second>"]],"<kelvin>":[["degK","kelvin"],1,"temperature",["<kelvin>"]],"<celsius>":[["degC","celsius","celsius","centigrade"],1,"temperature",["<kelvin>"]],"<fahrenheit>":[["degF","fahrenheit"],5/9,"temperature",["<kelvin>"]],"<rankine>":[["degR","rankine"],5/9,"temperature",["<kelvin>"]],"<temp-K>":[["tempK","temp-K"],1,"temperature",["<temp-K>"]],"<temp-C>":[["tempC","temp-C"],1,"temperature",["<temp-K>"]],"<temp-F>":[["tempF","temp-F"],5/9,"temperature",["<temp-K>"]],"<temp-R>":[["tempR","temp-R"],5/9,"temperature",["<temp-K>"]],"<second>":[["s","sec","secs","second","seconds"],1,"time",["<second>"]],"<minute>":[["min","mins","minute","minutes"],60,"time",["<second>"]],"<hour>":[["h","hr","hrs","hour","hours"],3600,"time",["<second>"]],"<day>":[["d","day","days"],86400,"time",["<second>"]],"<week>":[["wk","week","weeks"],604800,"time",["<second>"]],"<fortnight>":[["fortnight","fortnights"],1209600,"time",["<second>"]],"<year>":[["y","yr","year","years","annum"],31556926,"time",["<second>"]],"<decade>":[["decade","decades"],315569260,"time",["<second>"]],"<century>":[["century","centuries"],3155692600,"time",["<second>"]],"<pascal>":[["Pa","pascal","Pascal"],1,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<bar>":[["bar","bars"],1e5,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<mmHg>":[["mmHg"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inHg>":[["inHg"],3386.3881472,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<torr>":[["torr"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<atm>":[["atm","ATM","atmosphere","atmospheres"],101325,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<psi>":[["psi"],6894.76,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<cmh2o>":[["cmH2O","cmh2o"],98.0638,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inh2o>":[["inH2O","inh2o"],249.082052,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<poise>":[["P","poise"],.1,"viscosity",["<kilogram>"],["<meter>","<second>"]],"<stokes>":[["St","stokes"],1e-4,"viscosity",["<meter>","<meter>"],["<second>"]],"<mole>":[["mol","mole"],1,"substance",["<mole>"]],"<molar>":[["M","molar"],1e3,"molar_concentration",["<mole>"],["<meter>","<meter>","<meter>"]],"<wtpercent>":[["wt%","wtpercent"],10,"molar_concentration",["<kilogram>"],["<meter>","<meter>","<meter>"]],"<katal>":[["kat","katal","Katal"],1,"activity",["<mole>"],["<second>"]],"<unit>":[["U","enzUnit","unit"],16667e-19,"activity",["<mole>"],["<second>"]],"<farad>":[["F","farad","Farad"],1,"capacitance",["<second>","<second>","<second>","<second>","<ampere>","<ampere>"],["<meter>","<meter>","<kilogram>"]],"<coulomb>":[["C","coulomb","Coulomb"],1,"charge",["<ampere>","<second>"]],"<Ah>":[["Ah"],3600,"charge",["<ampere>","<second>"]],"<ampere>":[["A","Ampere","ampere","amp","amps"],1,"current",["<ampere>"]],"<siemens>":[["S","Siemens","siemens"],1,"conductance",["<second>","<second>","<second>","<ampere>","<ampere>"],["<kilogram>","<meter>","<meter>"]],"<henry>":[["H","Henry","henry"],1,"inductance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>","<ampere>"]],"<volt>":[["V","Volt","volt","volts"],1,"potential",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>"]],"<ohm>":[["Ohm","ohm","Ω","Ω"],1,"resistance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>","<ampere>"]],"<weber>":[["Wb","weber","webers"],1,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<tesla>":[["T","tesla","teslas"],1,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<gauss>":[["G","gauss"],1e-4,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<maxwell>":[["Mx","maxwell","maxwells"],1e-8,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<oersted>":[["Oe","oersted","oersteds"],250/Math.PI,"magnetism",["<ampere>"],["<meter>"]],"<joule>":[["J","joule","Joule","joules","Joules"],1,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<erg>":[["erg","ergs"],1e-7,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<btu>":[["BTU","btu","BTUs"],1055.056,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<calorie>":[["cal","calorie","calories"],4.184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Calorie>":[["Cal","Calorie","Calories"],4184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<therm-US>":[["th","therm","therms","Therm","therm-US"],105480400,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Wh>":[["Wh"],3600,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<electronvolt>":[["eV","electronvolt","electronvolts"],1602176634e-28,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<newton>":[["N","Newton","newton"],1,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<dyne>":[["dyn","dyne"],1e-5,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<pound-force>":[["lbf","pound-force"],4.448222,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<hertz>":[["Hz","hertz","Hertz"],1,"frequency",["<1>"],["<second>"]],"<radian>":[["rad","radian","radians"],1,"angle",["<radian>"]],"<degree>":[["deg","degree","degrees"],Math.PI/180,"angle",["<radian>"]],"<arcminute>":[["arcmin","arcminute","arcminutes"],Math.PI/10800,"angle",["<radian>"]],"<arcsecond>":[["arcsec","arcsecond","arcseconds"],Math.PI/648e3,"angle",["<radian>"]],"<gradian>":[["gon","grad","gradian","grads"],Math.PI/200,"angle",["<radian>"]],"<steradian>":[["sr","steradian","steradians"],1,"solid_angle",["<steradian>"]],"<rotation>":[["rotation"],2*Math.PI,"angle",["<radian>"]],"<rpm>":[["rpm"],2*Math.PI/60,"angular_velocity",["<radian>"],["<second>"]],"<byte>":[["B","byte","bytes"],1,"information",["<byte>"]],"<bit>":[["b","bit","bits"],.125,"information",["<byte>"]],"<Bps>":[["Bps"],1,"information_rate",["<byte>"],["<second>"]],"<bps>":[["bps"],.125,"information_rate",["<byte>"],["<second>"]],"<dollar>":[["USD","dollar"],1,"currency",["<dollar>"]],"<cents>":[["cents"],.01,"currency",["<dollar>"]],"<candela>":[["cd","candela"],1,"luminosity",["<candela>"]],"<lumen>":[["lm","lumen"],1,"luminous_power",["<candela>","<steradian>"]],"<lux>":[["lux"],1,"illuminance",["<candela>","<steradian>"],["<meter>","<meter>"]],"<watt>":[["W","watt","watts"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere>":[["VA","volt-ampere"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere-reactive>":[["var","Var","VAr","VAR","volt-ampere-reactive"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<horsepower>":[["hp","horsepower"],745.699872,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<gray>":[["Gy","gray","grays"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<roentgen>":[["R","roentgen"],.00933,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<sievert>":[["Sv","sievert","sieverts"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<becquerel>":[["Bq","becquerel","becquerels"],1,"radiation",["<1>"],["<second>"]],"<curie>":[["Ci","curie","curies"],37e9,"radiation",["<1>"],["<second>"]],"<cpm>":[["cpm"],1/60,"rate",["<count>"],["<second>"]],"<dpm>":[["dpm"],1/60,"rate",["<count>"],["<second>"]],"<bpm>":[["bpm"],1/60,"rate",["<count>"],["<second>"]],"<dot>":[["dot","dots"],1,"resolution",["<each>"]],"<pixel>":[["pixel","px"],1,"resolution",["<each>"]],"<ppi>":[["ppi"],1,"resolution",["<pixel>"],["<inch>"]],"<dpi>":[["dpi"],1,"typography",["<dot>"],["<inch>"]],"<cell>":[["cells","cell"],1,"counting",["<each>"]],"<each>":[["each"],1,"counting",["<each>"]],"<count>":[["count"],1,"counting",["<each>"]],"<base-pair>":[["bp","base-pair"],1,"counting",["<each>"]],"<nucleotide>":[["nt","nucleotide"],1,"counting",["<each>"]],"<molecule>":[["molecule","molecules"],1,"counting",["<1>"]],"<dozen>":[["doz","dz","dozen"],12,"prefix_only",["<each>"]],"<percent>":[["%","percent"],.01,"prefix_only",["<1>"]],"<ppm>":[["ppm"],1e-6,"prefix_only",["<1>"]],"<ppb>":[["ppb"],1e-9,"prefix_only",["<1>"]],"<ppt>":[["ppt"],1e-12,"prefix_only",["<1>"]],"<ppq>":[["ppq"],1e-15,"prefix_only",["<1>"]],"<gross>":[["gr","gross"],144,"prefix_only",["<dozen>","<dozen>"]],"<decibel>":[["dB","decibel","decibels"],1,"logarithmic",["<decibel>"]]},p=["<meter>","<kilogram>","<second>","<mole>","<ampere>","<radian>","<kelvin>","<temp-K>","<byte>","<dollar>","<candela>","<each>","<steradian>","<decibel>"],m="<1>",g=[m];function w(t,e){var n=e[1],i=e[3]||[],s=e[4]||[];if(!r(n))throw new c(t+": Invalid unit definition. 'scalar' must be a number");i.forEach((function(e){if(void 0===d[e])throw new c(t+": Invalid unit definition. Unit "+e+" in 'numerator' is not recognized")})),s.forEach((function(e){if(void 0===d[e])throw new c(t+": Invalid unit definition. Unit "+e+" in 'denominator' is not recognized")}))}var b={},y={},v={},_={},x={};for(var k in d)if(d.hasOwnProperty(k)){var M=d[k];if("prefix"===M[2]){b[k]=M[1];for(var E=0;E<M[0].length;E++)y[M[0][E]]=k}else{w(k,M),v[k]={scalar:M[1],numerator:M[3],denominator:M[4]};for(var A=0;A<M[0].length;A++)_[M[0][A]]=k}x[k]=M[0][0]}function S(t){var e,r=[],n=Object.keys(d);if("undefined"===typeof t)for(e=0;e<n.length;e++)-1===["","prefix"].indexOf(d[n[e]][2])&&r.push(n[e].substr(1,n[e].length-2));else{if(-1===this.getKinds().indexOf(t))throw new c("Kind not recognized");for(e=0;e<n.length;e++)d[n[e]][2]===t&&r.push(n[e].substr(1,n[e].length-2))}return r.sort((function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:t.toLowerCase()>e.toLowerCase()?1:0}))}function R(t){if(!_[t])throw new c("Unit not recognized");return d[_[t]][0]}var P=["length","time","temperature","mass","current","substance","luminosity","currency","information","angle"];function T(){if(this.signature)return this.signature;for(var t=I.call(this),e=0;e<t.length;e++)t[e]*=Math.pow(20,e);return t.reduce((function(t,e){return t+e}),0)}function I(){if(!this.isBase())return I.call(this.toBase());for(var t,e,r=new Array(P.length),n=0;n<r.length;n++)r[n]=0;for(var i=0;i<this.numerator.length;i++)(t=d[this.numerator[i]])&&(e=P.indexOf(t[2]),e>=0&&(r[e]=r[e]+1));for(var s=0;s<this.denominator.length;s++)(t=d[this.denominator[s]])&&(e=P.indexOf(t[2]),e>=0&&(r[e]=r[e]-1));return r}var C="[+-]",D="\\d+",O=C+"?"+D,B="\\."+D,U="(?:"+D+"(?:"+B+")?)|(?:"+B+")",N="[Ee]"+O,F="(?:"+U+")(?:"+N+")?",L=C+"?\\s*"+F,z="("+L+")?\\s*([^/]*)(?:/(.+))?",j=new RegExp("^"+z+"$"),V="\\^|\\*{2}",Y="[01234]",X=new RegExp("([^ \\*\\d]+?)(?:"+V+")?(-?"+Y+"(?![a-zA-Z]))"),G=new RegExp("([^ \\*\\d]+?)(?:"+V+")?("+Y+"(?![a-zA-Z]))");function q(e){t(e)||(e=e.toString()),e=e.trim();var r=j.exec(e);if(!r)throw new c(e+": Quantity not recognized");var n=r[1];n?(n=n.replace(/\s/g,""),this.scalar=parseFloat(n)):this.scalar=1;var i,s,o,a=r[2],l=r[3];while(r=X.exec(a)){if(i=parseFloat(r[2]),isNaN(i))throw new c("Unit exponent is not a number");if(0===i&&!K.test(r[1]))throw new c("Unit not recognized");s=r[1]+" ",o="";for(var h=0;h<Math.abs(i);h++)o+=s;i>=0?a=a.replace(r[0],o):(l=l?l+o:o,a=a.replace(r[0],""))}while(r=G.exec(l)){if(i=parseFloat(r[2]),isNaN(i))throw new c("Unit exponent is not a number");if(0===i&&!K.test(r[1]))throw new c("Unit not recognized");s=r[1]+" ",o="";for(var u=0;u<i;u++)o+=s;l=l.replace(r[0],o)}a&&(this.numerator=tt(a.trim())),l&&(this.denominator=tt(l.trim()))}var $=Object.keys(y).sort((function(t,e){return e.length-t.length})).join("|"),H=Object.keys(_).sort((function(t,e){return e.length-t.length})).join("|"),Z="\\b|$",W="("+$+")??("+H+")(?:"+Z+")",K=new RegExp("^\\s*("+W+"[\\s\\*]*)+$"),J=new RegExp(W,"g"),Q={};function tt(t){var e=Q[t];if(e)return e;var r,n=[];if(!K.test(t))throw new c("Unit not recognized");while(r=J.exec(t))n.push(r.slice(1));return n=n.map((function(t){return y[t[0]]?[y[t[0]],_[t[1]]]:[_[t[1]]]})),n=n.reduce((function(t,e){return t.concat(e)}),[]),n=n.filter((function(t){return t})),Q[t]=n,n}function et(e){if(!t(e))throw new c("Argument should be a string");try{return this(e)}catch(r){return null}}function rt(t){return t instanceof nt}function nt(t,e){if(it.apply(null,arguments),!rt(this))return new nt(t,e);if(this.scalar=null,this.baseScalar=null,this.signature=null,this._conversionCache={},this.numerator=g,this.denominator=g,st(t)?(this.scalar=t.scalar,this.numerator=t.numerator&&0!==t.numerator.length?t.numerator:g,this.denominator=t.denominator&&0!==t.denominator.length?t.denominator:g):e?(q.call(this,e),this.scalar=t):q.call(this,t),this.denominator.join("*").indexOf("temp")>=0)throw new c("Cannot divide with temperatures");if(this.numerator.join("*").indexOf("temp")>=0){if(this.numerator.length>1)throw new c("Cannot multiply by temperatures");if(!s(this.denominator,g))throw new c("Cannot divide with temperatures")}if(this.initValue=t,ot.call(this),this.isTemperature()&&this.baseScalar<0)throw new c("Temperatures must not be less than absolute zero")}function it(e,n){if(n){if(!r(e)||!t(n))throw new c("Only number accepted as initialization value when units are explicitly provided")}else if(!(t(e)||r(e)||rt(e)||st(e)))throw new c("Only string, number or quantity accepted as single initialization value")}function st(t){return t&&"object"===typeof t&&t.hasOwnProperty("scalar")}function ot(){if(this.baseScalar)return this.baseScalar;if(this.isBase())this.baseScalar=this.scalar,this.signature=T.call(this);else{var t=this.toBase();this.baseScalar=t.scalar,this.signature=t.signature}}nt.prototype={constructor:nt};var at={"-312078":"elastance","-312058":"resistance","-312038":"inductance","-152058":"potential","-152040":"magnetism","-152038":"magnetism","-7997":"specific_volume","-79":"snap","-59":"jolt","-39":"acceleration","-38":"radiation","-20":"frequency","-19":"speed","-18":"viscosity","-17":"volumetric_flow","-1":"wavenumber",0:"unitless",1:"length",2:"area",3:"volume",20:"time",400:"temperature",7941:"yank",7942:"power",7959:"pressure",7961:"force",7962:"energy",7979:"viscosity",7981:"momentum",7982:"angular_momentum",7997:"density",7998:"area_density",8e3:"mass",152020:"radiation_exposure",159999:"magnetism",16e4:"current",160020:"charge",312058:"conductance",312078:"capacitance",3199980:"activity",3199997:"molar_concentration",32e5:"substance",63999998:"illuminance",64e6:"luminous_power",128e7:"currency",25599999980:"information_rate",256e8:"information",511999999980:"angular_velocity",512e9:"angle"};function lt(){return i(Object.keys(at).map((function(t){return at[t]})))}function ht(t,e){var r=t.units(),n=e.to(r),i=nt(ft(r));return nt({scalar:t.scalar-n.scalar,numerator:i.numerator,denominator:i.denominator})}function ut(t,e){var r=e.to(ft(t.units()));return nt({scalar:t.scalar-r.scalar,numerator:t.numerator,denominator:t.denominator})}function ct(t,e){var r=e.to(ft(t.units()));return nt({scalar:t.scalar+r.scalar,numerator:t.numerator,denominator:t.denominator})}function ft(t){if("tempK"===t)return"degK";if("tempC"===t)return"degC";if("tempF"===t)return"degF";if("tempR"===t)return"degR";throw new c("Unknown type for temp conversion from: "+t)}function dt(t,e){var r,n=pt(t),i=e.units();if("degK"===i)r=n.scalar;else if("degC"===i)r=n.scalar;else if("degF"===i)r=9*n.scalar/5;else{if("degR"!==i)throw new c("Unknown type for degree conversion to: "+i);r=9*n.scalar/5}return nt({scalar:r,numerator:e.numerator,denominator:e.denominator})}function pt(t){var e,r=t.units();if(r.match(/(deg)[CFRK]/))e=t.baseScalar;else if("tempK"===r)e=t.scalar;else if("tempC"===r)e=t.scalar;else if("tempF"===r)e=5*t.scalar/9;else{if("tempR"!==r)throw new c("Unknown type for temp conversion from: "+r);e=5*t.scalar/9}return nt({scalar:e,numerator:["<kelvin>"],denominator:g})}function mt(t,e){var r,n=e.units();if("tempK"===n)r=t.baseScalar;else if("tempC"===n)r=t.baseScalar-273.15;else if("tempF"===n)r=9*t.baseScalar/5-459.67;else{if("tempR"!==n)throw new c("Unknown type for temp conversion to: "+n);r=9*t.baseScalar/5}return nt({scalar:r,numerator:e.numerator,denominator:e.denominator})}function gt(t){var e,r=t.units();if(r.match(/(deg)[CFRK]/))e=t.baseScalar;else if("tempK"===r)e=t.scalar;else if("tempC"===r)e=t.scalar+273.15;else if("tempF"===r)e=5*(t.scalar+459.67)/9;else{if("tempR"!==r)throw new c("Unknown type for temp conversion from: "+r);e=5*t.scalar/9}return nt({scalar:e,numerator:["<temp-K>"],denominator:g})}function wt(t,e){var r,i=nt(t),s=nt(e);return i.eq(s)?n:(r=i.isTemperature()?function(t){return i.mul(t).to(s).scalar}:function(t){return t*i.baseScalar/s.baseScalar},function(t){var e,n,i;if(Array.isArray(t)){for(n=t.length,i=[],e=0;e<n;e++)i.push(r(t[e]));return i}return r(t)})}nt.prototype.kind=function(){return at[this.signature.toString()]},o(nt.prototype,{isDegrees:function(){return(null===this.signature||400===this.signature)&&1===this.numerator.length&&s(this.denominator,g)&&(this.numerator[0].match(/<temp-[CFRK]>/)||this.numerator[0].match(/<(kelvin|celsius|rankine|fahrenheit)>/))},isTemperature:function(){return this.isDegrees()&&this.numerator[0].match(/<temp-[CFRK]>/)}}),o(nt.prototype,{to:function(e){var r,n;if(void 0===e||null===e)return this;if(!t(e))return this.to(e.units());if(r=this._conversionCache[e],r)return r;if(n=nt(e),n.units()===this.units())return this;if(this.isCompatible(n))if(n.isTemperature())n=mt(this,n);else if(n.isDegrees())n=dt(this,n);else{var i=l(this.baseScalar,n.baseScalar);n=nt({scalar:i,numerator:n.numerator,denominator:n.denominator})}else this.isInverse(n)?n=this.inverse().to(e):f(this.units(),n.units());return this._conversionCache[e]=n,n},toBase:function(){if(this.isBase())return this;if(this.isTemperature())return gt(this);var t=bt[this.units()];return t||(t=yt(this.numerator,this.denominator),bt[this.units()]=t),t.mul(this.scalar)},toFloat:function(){if(this.isUnitless())return this.scalar;throw new c("Can't convert to Float unless unitless.  Use Unit#scalar")},toPrec:function(e){if(t(e)&&(e=nt(e)),r(e)&&(e=nt(e+" "+this.units())),this.isUnitless()?e.isUnitless()||f(this.units(),e.units()):e=e.to(this.units()),0===e.scalar)throw new c("Divide by zero");var n=a(Math.round(this.scalar/e.scalar),e.scalar);return nt(n+this.units())}});var bt={};function yt(t,e){for(var r,n=[],i=[],s=1,o=0;o<t.length;o++)r=t[o],b[r]?s=a(s,b[r]):v[r]&&(s*=v[r].scalar,v[r].numerator&&n.push(v[r].numerator),v[r].denominator&&i.push(v[r].denominator));for(var l=0;l<e.length;l++)r=e[l],b[r]?s/=b[r]:v[r]&&(s/=v[r].scalar,v[r].numerator&&i.push(v[r].numerator),v[r].denominator&&n.push(v[r].denominator));return n=n.reduce((function(t,e){return t.concat(e)}),[]),i=i.reduce((function(t,e){return t.concat(e)}),[]),nt({scalar:s,numerator:n,denominator:i})}function vt(t,e,r,n){function i(t){return t!==m}t=t.filter(i),r=r.filter(i),e=e.filter(i),n=n.filter(i);var s={};function o(t,e){for(var r,n,i,o=0;o<t.length;o++)if(b[t[o]]?(r=t[o+1],n=t[o],i=b[n],o++):(r=t[o],n=null,i=1),r&&r!==m)if(s[r]){s[r][0]+=e;var a=s[r][2]?b[s[r][2]]:1;s[r][1===e?3:4]*=l(i,a)}else s[r]=[e,r,n,1,1]}o(t,1),o(e,-1),o(r,1),o(n,-1);var a=[],h=[],u=1;for(var c in s)if(s.hasOwnProperty(c)){var f,d=s[c];if(d[0]>0)for(f=0;f<d[0];f++)a.push(null===d[2]?d[1]:[d[2],d[1]]);else if(d[0]<0)for(f=0;f<-d[0];f++)h.push(null===d[2]?d[1]:[d[2],d[1]]);u*=l(d[3],d[4])}return 0===a.length&&(a=g),0===h.length&&(h=g),a=a.reduce((function(t,e){return t.concat(e)}),[]),h=h.reduce((function(t,e){return t.concat(e)}),[]),[a,h,u]}function _t(){}function xt(t,e){return(t+" "+e).trim()}nt.parse=et,nt.getUnits=S,nt.getAliases=R,nt.mulSafe=a,nt.divSafe=l,nt.getKinds=lt,nt.swiftConverter=wt,nt.Error=c,o(nt.prototype,{add:function(e){if(t(e)&&(e=nt(e)),this.isCompatible(e)||f(this.units(),e.units()),this.isTemperature()&&e.isTemperature())throw new c("Cannot add two temperatures");return this.isTemperature()?ct(this,e):e.isTemperature()?ct(e,this):nt({scalar:this.scalar+e.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},sub:function(e){if(t(e)&&(e=nt(e)),this.isCompatible(e)||f(this.units(),e.units()),this.isTemperature()&&e.isTemperature())return ht(this,e);if(this.isTemperature())return ut(this,e);if(e.isTemperature())throw new c("Cannot subtract a temperature from a differential degree unit");return nt({scalar:this.scalar-e.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},mul:function(e){if(r(e))return nt({scalar:a(this.scalar,e),numerator:this.numerator,denominator:this.denominator});if(t(e)&&(e=nt(e)),(this.isTemperature()||e.isTemperature())&&!this.isUnitless()&&!e.isUnitless())throw new c("Cannot multiply by temperatures");var n=this,i=e;n.isCompatible(i)&&400!==n.signature&&(i=i.to(n));var s=vt(n.numerator,n.denominator,i.numerator,i.denominator);return nt({scalar:a(n.scalar,i.scalar,s[2]),numerator:s[0],denominator:s[1]})},div:function(e){if(r(e)){if(0===e)throw new c("Divide by zero");return nt({scalar:this.scalar/e,numerator:this.numerator,denominator:this.denominator})}if(t(e)&&(e=nt(e)),0===e.scalar)throw new c("Divide by zero");if(e.isTemperature())throw new c("Cannot divide with temperatures");if(this.isTemperature()&&!e.isUnitless())throw new c("Cannot divide with temperatures");var n=this,i=e;n.isCompatible(i)&&400!==n.signature&&(i=i.to(n));var s=vt(n.numerator,n.denominator,i.denominator,i.numerator);return nt({scalar:a(n.scalar,s[2])/i.scalar,numerator:s[0],denominator:s[1]})},inverse:function(){if(this.isTemperature())throw new c("Cannot divide with temperatures");if(0===this.scalar)throw new c("Divide by zero");return nt({scalar:1/this.scalar,numerator:this.denominator,denominator:this.numerator})}}),o(nt.prototype,{eq:function(t){return 0===this.compareTo(t)},lt:function(t){return-1===this.compareTo(t)},lte:function(t){return this.eq(t)||this.lt(t)},gt:function(t){return 1===this.compareTo(t)},gte:function(t){return this.eq(t)||this.gt(t)},compareTo:function(e){return t(e)?this.compareTo(nt(e)):(this.isCompatible(e)||f(this.units(),e.units()),this.baseScalar<e.baseScalar?-1:this.baseScalar===e.baseScalar?0:this.baseScalar>e.baseScalar?1:void 0)},same:function(t){return this.scalar===t.scalar&&this.units()===t.units()}}),o(nt.prototype,{isUnitless:function(){return[this.numerator,this.denominator].every((function(t){return s(t,g)}))},isCompatible:function(e){return t(e)?this.isCompatible(nt(e)):!!rt(e)&&(void 0!==e.signature&&this.signature===e.signature)},isInverse:function(t){return this.inverse().isCompatible(t)},isBase:function(){return void 0!==this._isBase?this._isBase:this.isDegrees()&&this.numerator[0].match(/<(kelvin|temp-K)>/)?(this._isBase=!0,this._isBase):(this.numerator.concat(this.denominator).forEach((function(t){t!==m&&-1===p.indexOf(t)&&(this._isBase=!1)}),this),!1===this._isBase||(this._isBase=!0),this._isBase)}}),_t.prototype.get=function(t){return arguments.length>1&&(t=Array.apply(null,arguments)),t.reduce((function(e,r,n){if(e){var i=e[r];return n===t.length-1?i?i.data:void 0:i}}),this)},_t.prototype.set=function(t,e){return arguments.length>2&&(t=Array.prototype.slice.call(arguments,0,-1),e=arguments[arguments.length-1]),t.reduce((function(r,n,i){var s=r[n];return void 0===s&&(s=r[n]={}),i===t.length-1?(s.data=e,e):s}),this)},nt.formatter=xt,o(nt.prototype,{units:function(){if(void 0!==this._units)return this._units;var t=s(this.numerator,g),e=s(this.denominator,g);if(t&&e)return this._units="",this._units;var r=Mt(this.numerator),n=Mt(this.denominator);return this._units=r+(e?"":"/"+n),this._units},toString:function(e,n){var i;if(r(e))i=this.units(),n=e;else if(t(e))i=e;else if(rt(e))return this.toPrec(e).toString(n);var s=this.to(i),o=void 0!==n?h(s.scalar,n):s.scalar;return s=(o+" "+s.units()).trim(),s},format:function(t,e){1===arguments.length&&"function"===typeof t&&(e=t,t=void 0),e=e||nt.formatter;var r=this.to(t);return e.call(this,r.scalar,r.units())}});var kt=new _t;function Mt(t){var e=kt.get(t);if(e)return e;var r=s(t,g);return e=r?"1":At(Et(t)).join("*"),kt.set(t,e),e}function Et(t){for(var e,r,n=[],i=0;i<t.length;i++)e=t[i],r=t[i+1],b[e]?(n.push(x[e]+x[r]),i++):n.push(x[e]);return n}function At(t){var e=t.reduce((function(t,e){var r=t[e];return r||t.push(r=t[e]=[e,0]),r[1]++,t}),[]);return e.map((function(t){return t[0]+(t[1]>1?t[1]:"")}))}return nt.version="1.8.0",nt}))},5699:function(t){(function(){function e(t){for(var e=0,i=t.length-1,s=void 0,o=void 0,a=void 0,l=n(e,i);1;){if(i<=e)return t[l];if(i==e+1)return t[e]>t[i]&&r(t,e,i),t[l];for(s=n(e,i),t[s]>t[i]&&r(t,s,i),t[e]>t[i]&&r(t,e,i),t[s]>t[e]&&r(t,s,e),r(t,s,e+1),o=e+1,a=i;1;){do{o++}while(t[e]>t[o]);do{a--}while(t[a]>t[e]);if(a<o)break;r(t,o,a)}r(t,e,a),a<=l&&(e=o),a>=l&&(i=a-1)}}var r=function(t,e,r){var n;return n=[t[r],t[e]],t[e]=n[0],t[r]=n[1],n},n=function(t,e){return~~((t+e)/2)};t.exports?t.exports=e:window.median=e})()},6603:function(t){"use strict";class e{constructor(){this.nodes=new Map}add(t){var e=this.nodes.get(t);return e||(e=new r(t),this.nodes.set(t,e)),e}union(t,e){const r=this.find(t),n=this.find(e);r!==n&&(r.rank<n.rank?r.parent=n:r.rank>n.rank?n.parent=r:(n.parent=r,r.rank++))}find(t){var e=t;while(null!==e.parent)e=e.parent;var r=t;while(null!==r.parent){var n=r;r=r.parent,n.parent=e}return e}connected(t,e){return this.find(t)===this.find(e)}}function r(t){this.value=t,this.parent=null,this.rank=0}t.exports=e},9123:function(t,e,r){"use strict";function n(t,e){let r=0;for(let n=0;n<t.length;n++)r+=(t[n]-e[n])*(t[n]-e[n]);return r}function i(t,e){return Math.sqrt(n(t,e))}r.r(e),r.d(e,{euclidean:function(){return i},squaredEuclidean:function(){return n}})},1128:function(t,e,r){"use strict";var n=r(1232),i={DEBUG:!1,ifft2DArray:function(t,e,r){var i=new Array(e*r),s=e/2,o=2*(r-1);n.init(s);for(var a={re:new Array(s),im:new Array(s)},l=0;l<r;l++){for(var h=s-1;h>=0;h--)a.re[h]=t[2*h*r+l],a.im[h]=t[(2*h+1)*r+l];n.bt(a.re,a.im);for(h=s-1;h>=0;h--)i[2*h*r+l]=a.re[h],i[(2*h+1)*r+l]=a.im[h]}var u=new Array(s*o);n.init(o);var c={re:new Array(o),im:new Array(o)},f=o*s;for(h=0;h<e;h+=2){c.re[0]=i[h*r],c.im[0]=i[(h+1)*r];for(l=1;l<r;l++)c.re[l]=i[h*r+l],c.im[l]=i[(h+1)*r+l],c.re[o-l]=i[h*r+l],c.im[o-l]=-i[(h+1)*r+l];n.bt(c.re,c.im);var d=h/2*o;for(l=o-1;l>=0;l--)u[d+l]=c.re[l]/f}return u},fft2DArray:function(t,e,r,i){Object.assign({},{inplace:!0});var s=r/2+1,o=2*e,a=new Array(o*s);n.init(r);for(var l,h,u,c,f,d={re:new Array(r),im:new Array(r)},p={re:new Array(r),im:new Array(r)},m={re:new Array(r),im:new Array(r)},g=0;g<e/2;g++){l=2*g*r,d.re=t.slice(l,l+r),l=(2*g+1)*r,d.im=t.slice(l,l+r),n.fft1d(d.re,d.im),this.reconstructTwoRealFFT(d,p,m),h=4*g*s,u=(4*g+1)*s,c=(4*g+2)*s,f=(4*g+3)*s;for(var w=s-1;w>=0;w--)a[h+w]=p.re[w],a[u+w]=p.im[w],a[c+w]=m.re[w],a[f+w]=m.im[w]}p=null,m=null;var b=new Array(o*s);n.init(e);for(var y={re:new Array(e),im:new Array(e)},v=s-1;v>=0;v--){for(g=e-1;g>=0;g--)y.re[g]=a[2*g*s+v],y.im[g]=a[(2*g+1)*s+v],isNaN(y.re[g])&&(y.re[g]=0),isNaN(y.im[g])&&(y.im[g]=0);n.fft1d(y.re,y.im);for(g=e-1;g>=0;g--)b[2*g*s+v]=y.re[g],b[(2*g+1)*s+v]=y.im[g]}return b},reconstructTwoRealFFT:function(t,e,r){var n,i,s,o,a,l=t.re.length;e.re[0]=t.re[0],e.im[0]=0,r.re[0]=t.im[0],r.im[0]=0;for(var h=l/2;h>0;h--)a=l-h,n=.5*(t.re[h]-t.re[a]),i=.5*(t.re[h]+t.re[a]),s=.5*(t.im[h]-t.im[a]),o=.5*(t.im[h]+t.im[a]),e.re[h]=i,e.im[h]=s,e.re[a]=i,e.im[a]=-s,r.re[h]=o,r.im[h]=-n,r.re[a]=o,r.im[a]=n},convolute2DI:function(t,e,r,n){for(var i,s,o=0;o<r/2;o++)for(var a=0;a<n;a++)i=t[2*o*n+a]*e[2*o*n+a]-t[(2*o+1)*n+a]*e[(2*o+1)*n+a],s=t[2*o*n+a]*e[(2*o+1)*n+a]+t[(2*o+1)*n+a]*e[2*o*n+a],t[2*o*n+a]=i,t[(2*o+1)*n+a]=s},convolute:function(t,e,r,n,i){for(var s=new Array(n*r),o=0;o<r*n;o++)s[o]=t[o];s=this.fft2DArray(s,r,n);var a,l,h=e.length,u=e[0].length,c=new Array(n*r);for(o=0;o<n*r;o++)c[o]=0;for(var f=Math.floor((h-1)/2),d=Math.floor((u-1)/2),p=0;p<h;p++){a=(p-f+r)%r;for(var m=0;m<u;m++)l=(m-d+n)%n,c[a*n+l]=e[p][m]}c=this.fft2DArray(c,r,n);var g=2*r,w=n/2+1;return this.convolute2DI(s,c,g,w),this.ifft2DArray(s,g,w)},toRadix2:function(t,e,r){var n,i,s,o,a=r,l=e;if(0===r||0!==(r&r-1)){a=0;while(r>>++a!=0);a=1<<a,a-r}if(0===e||0!==(e&e-1)){l=0;while(e>>++l!=0);l=1<<l,(l-e)*a}if(l==e&&a==r)return{data:t,rows:e,cols:r};var h=new Array(l*a),u=Math.floor((l-e)/2)-e,c=Math.floor((a-r)/2)-r;for(n=0;n<l;n++)for(s=n*a,o=(n-u)%e*r,i=0;i<a;i++)h[s+i]=t[o+(i-c)%r];return{data:h,rows:l,cols:a}},crop:function(t,e,r,n,i,s){if(e==n&&r==i)return t;Object.assign({},s);var o,a,l,h,u=new Array(i*n),c=Math.floor((e-n)/2),f=Math.floor((r-i)/2);for(l=0;l<n;l++)for(o=l*i,a=(l+c)*r,h=0;h<i;h++)u[o+h]=t[a+(h+f)];return u}};t.exports=i},1232:function(t,e,r){r(1439),r(7585),r(5315);(function(){var t;t=e;var r={release:"0.3.0",date:"2013-03"};t.toString=function(){return"version "+r.release+", released "+r.date};for(var n=0,i=null,s=null,o={init:function(t){if(0===t||0!==(t&t-1))throw new Error("init: radix-2 required");n=t,o._initArray(),o._makeBitReversalTable(),o._makeCosSinTable()},fft1d:function(t,e){o.fft(t,e,1)},ifft1d:function(t,e){var r=1/n;o.fft(t,e,-1);for(var i=0;i<n;i++)t[i]*=r,e[i]*=r},bt1d:function(t,e){o.fft(t,e,-1)},fft2d:function(t,e){for(var r=[],i=[],s=0,a=0;a<n;a++){s=a*n;for(var l=0;l<n;l++)r[l]=t[l+s],i[l]=e[l+s];o.fft1d(r,i);for(var h=0;h<n;h++)t[h+s]=r[h],e[h+s]=i[h]}for(var u=0;u<n;u++){for(var c=0;c<n;c++)s=u+c*n,r[c]=t[s],i[c]=e[s];o.fft1d(r,i);for(var f=0;f<n;f++)s=u+f*n,t[s]=r[f],e[s]=i[f]}},ifft2d:function(t,e){for(var r=[],i=[],s=0,a=0;a<n;a++){s=a*n;for(var l=0;l<n;l++)r[l]=t[l+s],i[l]=e[l+s];o.ifft1d(r,i);for(var h=0;h<n;h++)t[h+s]=r[h],e[h+s]=i[h]}for(var u=0;u<n;u++){for(var c=0;c<n;c++)s=u+c*n,r[c]=t[s],i[c]=e[s];o.ifft1d(r,i);for(var f=0;f<n;f++)s=u+f*n,t[s]=r[f],e[s]=i[f]}},fft:function(t,e,r){for(var o,a,l,h,u,c,f,d,p,m=n>>2,g=0;g<n;g++)h=i[g],g<h&&(u=t[g],t[g]=t[h],t[h]=u,u=e[g],e[g]=e[h],e[h]=u);for(var w=1;w<n;w<<=1){a=0,o=n/(w<<1);for(var b=0;b<w;b++){c=s[a+m],f=r*s[a];for(var y=b;y<n;y+=w<<1)l=y+w,d=c*t[l]+f*e[l],p=c*e[l]-f*t[l],t[l]=t[y]-d,t[y]+=d,e[l]=e[y]-p,e[y]+=p;a+=o}}},_initArray:function(){i="undefined"!==typeof Uint32Array?new Uint32Array(n):[],s="undefined"!==typeof Float64Array?new Float64Array(1.25*n):[]},_paddingZero:function(){},_makeBitReversalTable:function(){var t=0,e=0,r=0;i[0]=0;while(++t<n){r=n>>1;while(r<=e)e-=r,r>>=1;e+=r,i[t]=e}},_makeCosSinTable:function(){var t=n>>1,e=n>>2,r=n>>3,i=t+e,o=Math.sin(Math.PI/n),a=2*o*o,l=Math.sqrt(a*(2-a)),h=s[e]=1,u=s[0]=0;o=2*a;for(var c=1;c<r;c++)h-=a,a+=o*h,u+=l,l-=o*u,s[c]=u,s[e-c]=h;0!==r&&(s[r]=Math.sqrt(.5));for(var f=0;f<e;f++)s[t-f]=s[f];for(var d=0;d<i;d++)s[d+t]=-s[d]}},a=["init","fft1d","ifft1d","fft2d","ifft2d"],l=0;l<a.length;l++)t[a[l]]=o[a[l]];return t.bt=o.bt1d,t.fft=o.fft1d,t.ifft=o.ifft1d,t}).call(this)},9458:function(t,e,r){"use strict";e.FFTUtils=r(1128),r(1232)},2606:function(t,e,r){"use strict";const{squaredEuclidean:n}=r(9123),i={sigma:1};class s{constructor(t){t=Object.assign({},i,t),this.sigma=t.sigma,this.divisor=2*t.sigma*t.sigma}compute(t,e){const r=n(t,e);return Math.exp(-r/this.divisor)}}t.exports=s},9252:function(t){"use strict";const e={degree:1,constant:1,scale:1};class r{constructor(t){t=Object.assign({},e,t),this.degree=t.degree,this.constant=t.constant,this.scale=t.scale}compute(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return Math.pow(this.scale*r+this.constant,this.degree)}}t.exports=r},3309:function(t){"use strict";const e={alpha:.01,constant:-Math.E};class r{constructor(t){t=Object.assign({},e,t),this.alpha=t.alpha,this.constant=t.constant}compute(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return Math.tanh(this.alpha*r+this.constant)}}t.exports=r},8709:function(t,e,r){"use strict";const{Matrix:n,MatrixTransposeView:i}=r(6857),s=r(2606),o=r(9252),a=r(3309),l=r(7855),h=r(2333),u=r(3941),c=r(5259),f=r(1022),d=r(4899),p=r(4587),m={gaussian:s,rbf:s,polynomial:o,poly:o,anova:l,cauchy:h,exponential:u,histogram:c,min:c,laplacian:f,multiquadratic:d,rational:p,sigmoid:a,mlp:a};class g{constructor(t,e){if(this.kernelType=t,"linear"!==t)if("string"===typeof t){t=t.toLowerCase();var r=m[t];if(!r)throw new Error(`unsupported kernel type: ${t}`);this.kernelFunction=new r(e)}else{if("object"!==typeof t||"function"!==typeof t.compute)throw new TypeError("first argument must be a valid kernel type or instance");this.kernelFunction=t}}compute(t,e){if(t=n.checkMatrix(t),e=void 0===e?t:n.checkMatrix(e),"linear"===this.kernelType)return t.mmul(new i(e));const r=new n(t.rows,e.rows);if(t===e)for(let n=0;n<t.rows;n++)for(let e=n;e<t.rows;e++){const i=this.kernelFunction.compute(t.getRow(n),t.getRow(e));r.set(n,e,i),r.set(e,n,i)}else for(let n=0;n<t.rows;n++)for(let i=0;i<e.rows;i++)r.set(n,i,this.kernelFunction.compute(t.getRow(n),e.getRow(i)));return r}}t.exports=g},7855:function(t){"use strict";const e={sigma:1,degree:1};class r{constructor(t){t=Object.assign({},e,t),this.sigma=t.sigma,this.degree=t.degree}compute(t,e){for(var r=0,n=Math.min(t.length,e.length),i=1;i<=n;++i)r+=Math.pow(Math.exp(-this.sigma*Math.pow(Math.pow(t[i-1],i)-Math.pow(e[i-1],i),2)),this.degree);return r}}t.exports=r},2333:function(t,e,r){"use strict";const{squaredEuclidean:n}=r(9123),i={sigma:1};class s{constructor(t){t=Object.assign({},i,t),this.sigma=t.sigma}compute(t,e){return 1/(1+n(t,e)/(this.sigma*this.sigma))}}t.exports=s},3941:function(t,e,r){"use strict";const{euclidean:n}=r(9123),i={sigma:1};class s{constructor(t){t=Object.assign({},i,t),this.sigma=t.sigma,this.divisor=2*t.sigma*t.sigma}compute(t,e){const r=n(t,e);return Math.exp(-r/this.divisor)}}t.exports=s},5259:function(t){"use strict";class e{compute(t,e){for(var r=Math.min(t.length,e.length),n=0,i=0;i<r;++i)n+=Math.min(t[i],e[i]);return n}}t.exports=e},1022:function(t,e,r){"use strict";const{euclidean:n}=r(9123),i={sigma:1};class s{constructor(t){t=Object.assign({},i,t),this.sigma=t.sigma}compute(t,e){const r=n(t,e);return Math.exp(-r/this.sigma)}}t.exports=s},4899:function(t,e,r){"use strict";const{squaredEuclidean:n}=r(9123),i={constant:1};class s{constructor(t){t=Object.assign({},i,t),this.constant=t.constant}compute(t,e){return Math.sqrt(n(t,e)+this.constant*this.constant)}}t.exports=s},4587:function(t,e,r){"use strict";const{squaredEuclidean:n}=r(9123),i={constant:1};class s{constructor(t){t=Object.assign({},i,t),this.constant=t.constant}compute(t,e){const r=n(t,e);return 1-r/(r+this.constant)}}t.exports=s},2708:function(t,e,r){var n=r(9458).FFTUtils;function i(t,e,r){var i,s,o=a(t),l=o.data,h=Object.assign({normalize:!1,divisor:1,rows:o.rows,cols:o.cols},r);if(!h.rows||!h.cols)throw new Error("Invalid number of rows or columns "+i+" "+s);i=h.rows,s=h.cols;var u,c,f=h.divisor,d=e.length,p=e[0].length;if(h.normalize)for(f=0,u=0;u<d;u++)for(c=0;c<p;c++)f+=e[u][c];if(0===f)throw new RangeError("convolution: The divisor is equal to zero");var m=n.toRadix2(l,i,s),g=n.convolute(m.data,e,m.rows,m.cols);if(g=n.crop(g,m.rows,m.cols,i,s),0!=f&&1!=f)for(u=0;u<g.length;u++)g[u]/=f;return g}function s(t,e,r){var n,i,s=a(t),o=s.data,l=Object.assign({normalize:!1,divisor:1,rows:s.rows,cols:s.cols},r);if(!l.rows||!l.cols)throw new Error("Invalid number of rows or columns "+n+" "+i);n=l.rows,i=l.cols;var h,u,c,f,d,p,m,g,w,b=l.divisor,y=e.length,v=e[0].length;if(l.normalize)for(b=0,h=0;h<y;h++)for(u=0;u<v;u++)b+=e[h][u];if(0===b)throw new RangeError("convolution: The divisor is equal to zero");var _=new Array(n*i),x=Math.floor(y/2),k=Math.floor(v/2);for(f=0;f<n;f++)for(c=0;c<i;c++){for(p=0,u=0;u<y;u++)for(h=0;h<v;h++)m=e[y-u-1][v-h-1],g=(f+u-x+n)%n,w=(c+h-k+i)%i,d=g*i+w,p+=o[d]*m;d=f*i+c,_[d]=p/b}return _}function o(t,e,r){var n=1e3;r&&r.factor&&(n=r.factor);var i,s,o,a,l=new Array(e);n*=-1;var h=(e-1)/2,u=2*t*t;for(i=0;i<e;i++)for(l[i]=new Array(e),a=(i-h)*(i-h),s=0;s<e;s++)o=-((s-h)*(s-h)+a)/u,l[i][s]=Math.round(n*(1+o)*Math.exp(o));return l}function a(t){var e,r,n=t;if("number"!=typeof t[0]){e=t.length,r=t[0].length,n=new Array(e*r);for(var i=0;i<e;i++)for(var s=0;s<r;s++)n[i*r+s]=t[i][s]}else{var o=Math.sqrt(t.length);Number.isInteger(o)&&(e=o,r=o)}return{data:n,rows:e,cols:r}}t.exports={fft:i,direct:s,kernelFactory:{LoG:o},matrix2Array:a}},7308:function(t,e,r){"use strict";r.d(e,{Z:function(){return s}});r(1439),r(7585),r(5315);var n=r(6873),i=r(6214);class s{constructor(t){t=i.Z.checkMatrix(t);let e,r,n,s,o,a,l,h,u,c=t.clone(),f=c.rows,d=c.columns,p=new Float64Array(f),m=1;for(e=0;e<f;e++)p[e]=e;for(h=new Float64Array(f),r=0;r<d;r++){for(e=0;e<f;e++)h[e]=c.get(e,r);for(e=0;e<f;e++){for(u=Math.min(e,r),o=0,n=0;n<u;n++)o+=c.get(e,n)*h[n];h[e]-=o,c.set(e,r,h[e])}for(s=r,e=r+1;e<f;e++)Math.abs(h[e])>Math.abs(h[s])&&(s=e);if(s!==r){for(n=0;n<d;n++)a=c.get(s,n),c.set(s,n,c.get(r,n)),c.set(r,n,a);l=p[s],p[s]=p[r],p[r]=l,m=-m}if(r<f&&0!==c.get(r,r))for(e=r+1;e<f;e++)c.set(e,r,c.get(e,r)/c.get(r,r))}this.LU=c,this.pivotVector=p,this.pivotSign=m}isSingular(){let t=this.LU,e=t.columns;for(let r=0;r<e;r++)if(0===t.get(r,r))return!0;return!1}solve(t){t=n.Z.checkMatrix(t);let e=this.LU,r=e.rows;if(r!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let i,s,o,a=t.columns,l=t.subMatrixRow(this.pivotVector,0,a-1),h=e.columns;for(o=0;o<h;o++)for(i=o+1;i<h;i++)for(s=0;s<a;s++)l.set(i,s,l.get(i,s)-l.get(o,s)*e.get(i,o));for(o=h-1;o>=0;o--){for(s=0;s<a;s++)l.set(o,s,l.get(o,s)/e.get(o,o));for(i=0;i<o;i++)for(s=0;s<a;s++)l.set(i,s,l.get(i,s)-l.get(o,s)*e.get(i,o))}return l}get determinant(){let t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");let e=this.pivotSign,r=t.columns;for(let n=0;n<r;n++)e*=t.get(n,n);return e}get lowerTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,i=new n.Z(e,r);for(let n=0;n<e;n++)for(let e=0;e<r;e++)n>e?i.set(n,e,t.get(n,e)):n===e?i.set(n,e,1):i.set(n,e,0);return i}get upperTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,i=new n.Z(e,r);for(let n=0;n<e;n++)for(let e=0;e<r;e++)n<=e?i.set(n,e,t.get(n,e)):i.set(n,e,0);return i}get pivotPermutationVector(){return Array.from(this.pivotVector)}}},3707:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});r(1439),r(7585),r(5315);var n=r(6873),i=r(6214),s=r(146);class o{constructor(t){t=i.Z.checkMatrix(t);let e,r,n,o,a=t.clone(),l=t.rows,h=t.columns,u=new Float64Array(h);for(n=0;n<h;n++){let t=0;for(e=n;e<l;e++)t=(0,s.G)(t,a.get(e,n));if(0!==t){for(a.get(n,n)<0&&(t=-t),e=n;e<l;e++)a.set(e,n,a.get(e,n)/t);for(a.set(n,n,a.get(n,n)+1),r=n+1;r<h;r++){for(o=0,e=n;e<l;e++)o+=a.get(e,n)*a.get(e,r);for(o=-o/a.get(n,n),e=n;e<l;e++)a.set(e,r,a.get(e,r)+o*a.get(e,n))}}u[n]=-t}this.QR=a,this.Rdiag=u}solve(t){t=n.Z.checkMatrix(t);let e=this.QR,r=e.rows;if(t.rows!==r)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let i,s,o,a,l=t.columns,h=t.clone(),u=e.columns;for(o=0;o<u;o++)for(s=0;s<l;s++){for(a=0,i=o;i<r;i++)a+=e.get(i,o)*h.get(i,s);for(a=-a/e.get(o,o),i=o;i<r;i++)h.set(i,s,h.get(i,s)+a*e.get(i,o))}for(o=u-1;o>=0;o--){for(s=0;s<l;s++)h.set(o,s,h.get(o,s)/this.Rdiag[o]);for(i=0;i<o;i++)for(s=0;s<l;s++)h.set(i,s,h.get(i,s)-h.get(o,s)*e.get(i,o))}return h.subMatrix(0,u-1,0,l-1)}isFullRank(){let t=this.QR.columns;for(let e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){let t,e,r=this.QR,i=r.columns,s=new n.Z(i,i);for(t=0;t<i;t++)for(e=0;e<i;e++)t<e?s.set(t,e,r.get(t,e)):t===e?s.set(t,e,this.Rdiag[t]):s.set(t,e,0);return s}get orthogonalMatrix(){let t,e,r,i,s=this.QR,o=s.rows,a=s.columns,l=new n.Z(o,a);for(r=a-1;r>=0;r--){for(t=0;t<o;t++)l.set(t,r,0);for(l.set(r,r,1),e=r;e<a;e++)if(0!==s.get(r,r)){for(i=0,t=r;t<o;t++)i+=s.get(t,r)*l.get(t,e);for(i=-i/s.get(r,r),t=r;t<o;t++)l.set(t,e,l.get(t,e)+i*s.get(t,r))}}return l}}},571:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});r(1439),r(7585),r(5315);var n=r(6873),i=r(6214),s=r(146);class o{constructor(t,e={}){if(t=i.Z.checkMatrix(t),t.isEmpty())throw new Error("Matrix must be non-empty");let r=t.rows,o=t.columns;const{computeLeftSingularVectors:a=!0,computeRightSingularVectors:l=!0,autoTranspose:h=!1}=e;let u,c=Boolean(a),f=Boolean(l),d=!1;if(r<o)if(h){u=t.transpose(),r=u.rows,o=u.columns,d=!0;let e=c;c=f,f=e}else u=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else u=t.clone();let p=Math.min(r,o),m=Math.min(r+1,o),g=new Float64Array(m),w=new n.Z(r,p),b=new n.Z(o,o),y=new Float64Array(o),v=new Float64Array(r),_=new Float64Array(m);for(let n=0;n<m;n++)_[n]=n;let x=Math.min(r-1,o),k=Math.max(0,Math.min(o-2,r)),M=Math.max(x,k);for(let n=0;n<M;n++){if(n<x){g[n]=0;for(let t=n;t<r;t++)g[n]=(0,s.G)(g[n],u.get(t,n));if(0!==g[n]){u.get(n,n)<0&&(g[n]=-g[n]);for(let t=n;t<r;t++)u.set(t,n,u.get(t,n)/g[n]);u.set(n,n,u.get(n,n)+1)}g[n]=-g[n]}for(let t=n+1;t<o;t++){if(n<x&&0!==g[n]){let e=0;for(let i=n;i<r;i++)e+=u.get(i,n)*u.get(i,t);e=-e/u.get(n,n);for(let i=n;i<r;i++)u.set(i,t,u.get(i,t)+e*u.get(i,n))}y[t]=u.get(n,t)}if(c&&n<x)for(let t=n;t<r;t++)w.set(t,n,u.get(t,n));if(n<k){y[n]=0;for(let t=n+1;t<o;t++)y[n]=(0,s.G)(y[n],y[t]);if(0!==y[n]){y[n+1]<0&&(y[n]=0-y[n]);for(let t=n+1;t<o;t++)y[t]/=y[n];y[n+1]+=1}if(y[n]=-y[n],n+1<r&&0!==y[n]){for(let t=n+1;t<r;t++)v[t]=0;for(let t=n+1;t<r;t++)for(let e=n+1;e<o;e++)v[t]+=y[e]*u.get(t,e);for(let t=n+1;t<o;t++){let e=-y[t]/y[n+1];for(let i=n+1;i<r;i++)u.set(i,t,u.get(i,t)+e*v[i])}}if(f)for(let t=n+1;t<o;t++)b.set(t,n,y[t])}}let E=Math.min(o,r+1);if(x<o&&(g[x]=u.get(x,x)),r<E&&(g[E-1]=0),k+1<E&&(y[k]=u.get(k,E-1)),y[E-1]=0,c){for(let t=x;t<p;t++){for(let e=0;e<r;e++)w.set(e,t,0);w.set(t,t,1)}for(let t=x-1;t>=0;t--)if(0!==g[t]){for(let e=t+1;e<p;e++){let n=0;for(let i=t;i<r;i++)n+=w.get(i,t)*w.get(i,e);n=-n/w.get(t,t);for(let i=t;i<r;i++)w.set(i,e,w.get(i,e)+n*w.get(i,t))}for(let e=t;e<r;e++)w.set(e,t,-w.get(e,t));w.set(t,t,1+w.get(t,t));for(let e=0;e<t-1;e++)w.set(e,t,0)}else{for(let e=0;e<r;e++)w.set(e,t,0);w.set(t,t,1)}}if(f)for(let n=o-1;n>=0;n--){if(n<k&&0!==y[n])for(let t=n+1;t<o;t++){let e=0;for(let r=n+1;r<o;r++)e+=b.get(r,n)*b.get(r,t);e=-e/b.get(n+1,n);for(let r=n+1;r<o;r++)b.set(r,t,b.get(r,t)+e*b.get(r,n))}for(let t=0;t<o;t++)b.set(t,n,0);b.set(n,n,1)}let A=E-1,S=0,R=Number.EPSILON;while(E>0){let t,e;for(t=E-2;t>=-1;t--){if(-1===t)break;const e=Number.MIN_VALUE+R*Math.abs(g[t]+Math.abs(g[t+1]));if(Math.abs(y[t])<=e||Number.isNaN(y[t])){y[t]=0;break}}if(t===E-2)e=4;else{let r;for(r=E-1;r>=t;r--){if(r===t)break;let e=(r!==E?Math.abs(y[r]):0)+(r!==t+1?Math.abs(y[r-1]):0);if(Math.abs(g[r])<=R*e){g[r]=0;break}}r===t?e=3:r===E-1?e=1:(e=2,t=r)}switch(t++,e){case 1:{let e=y[E-2];y[E-2]=0;for(let r=E-2;r>=t;r--){let n=(0,s.G)(g[r],e),i=g[r]/n,a=e/n;if(g[r]=n,r!==t&&(e=-a*y[r-1],y[r-1]=i*y[r-1]),f)for(let t=0;t<o;t++)n=i*b.get(t,r)+a*b.get(t,E-1),b.set(t,E-1,-a*b.get(t,r)+i*b.get(t,E-1)),b.set(t,r,n)}break}case 2:{let e=y[t-1];y[t-1]=0;for(let n=t;n<E;n++){let i=(0,s.G)(g[n],e),o=g[n]/i,a=e/i;if(g[n]=i,e=-a*y[n],y[n]=o*y[n],c)for(let e=0;e<r;e++)i=o*w.get(e,n)+a*w.get(e,t-1),w.set(e,t-1,-a*w.get(e,n)+o*w.get(e,t-1)),w.set(e,n,i)}break}case 3:{const e=Math.max(Math.abs(g[E-1]),Math.abs(g[E-2]),Math.abs(y[E-2]),Math.abs(g[t]),Math.abs(y[t])),n=g[E-1]/e,i=g[E-2]/e,a=y[E-2]/e,l=g[t]/e,h=y[t]/e,u=((i+n)*(i-n)+a*a)/2,d=n*a*(n*a);let p=0;0===u&&0===d||(p=u<0?0-Math.sqrt(u*u+d):Math.sqrt(u*u+d),p=d/(u+p));let m=(l+n)*(l-n)+p,v=l*h;for(let _=t;_<E-1;_++){let e=(0,s.G)(m,v);0===e&&(e=Number.MIN_VALUE);let n=m/e,i=v/e;if(_!==t&&(y[_-1]=e),m=n*g[_]+i*y[_],y[_]=n*y[_]-i*g[_],v=i*g[_+1],g[_+1]=n*g[_+1],f)for(let t=0;t<o;t++)e=n*b.get(t,_)+i*b.get(t,_+1),b.set(t,_+1,-i*b.get(t,_)+n*b.get(t,_+1)),b.set(t,_,e);if(e=(0,s.G)(m,v),0===e&&(e=Number.MIN_VALUE),n=m/e,i=v/e,g[_]=e,m=n*y[_]+i*g[_+1],g[_+1]=-i*y[_]+n*g[_+1],v=i*y[_+1],y[_+1]=n*y[_+1],c&&_<r-1)for(let t=0;t<r;t++)e=n*w.get(t,_)+i*w.get(t,_+1),w.set(t,_+1,-i*w.get(t,_)+n*w.get(t,_+1)),w.set(t,_,e)}y[E-2]=m,S+=1;break}case 4:if(g[t]<=0&&(g[t]=g[t]<0?-g[t]:0,f))for(let e=0;e<=A;e++)b.set(e,t,-b.get(e,t));while(t<A){if(g[t]>=g[t+1])break;let e=g[t];if(g[t]=g[t+1],g[t+1]=e,f&&t<o-1)for(let r=0;r<o;r++)e=b.get(r,t+1),b.set(r,t+1,b.get(r,t)),b.set(r,t,e);if(c&&t<r-1)for(let n=0;n<r;n++)e=w.get(n,t+1),w.set(n,t+1,w.get(n,t)),w.set(n,t,e);t++}S=0,E--;break}}if(d){let t=b;b=w,w=t}this.m=r,this.n=o,this.s=g,this.U=w,this.V=b}solve(t){let e=t,r=this.threshold,i=this.s.length,s=n.Z.zeros(i,i);for(let n=0;n<i;n++)Math.abs(this.s[n])<=r?s.set(n,n,0):s.set(n,n,1/this.s[n]);let o=this.U,a=this.rightSingularVectors,l=a.mmul(s),h=a.rows,u=o.rows,c=n.Z.zeros(h,u);for(let n=0;n<h;n++)for(let t=0;t<u;t++){let e=0;for(let r=0;r<i;r++)e+=l.get(n,r)*o.get(t,r);c.set(n,t,e)}return c.mmul(e)}solveForDiagonal(t){return this.solve(n.Z.diag(t))}inverse(){let t=this.V,e=this.threshold,r=t.rows,i=t.columns,s=new n.Z(r,this.s.length);for(let n=0;n<r;n++)for(let r=0;r<i;r++)Math.abs(this.s[r])>e&&s.set(n,r,t.get(n,r)/this.s[r]);let o=this.U,a=o.rows,l=o.columns,h=new n.Z(r,a);for(let n=0;n<r;n++)for(let t=0;t<a;t++){let e=0;for(let r=0;r<l;r++)e+=s.get(n,r)*o.get(t,r);h.set(n,t,e)}return h}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s;for(let n=0,i=r.length;n<i;n++)r[n]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return n.Z.diag(this.s)}}},146:function(t,e,r){"use strict";function n(t,e){let r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==e?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}r.d(e,{G:function(){return n}})},1610:function(t,e,r){"use strict";r.d(e,{F:function(){return h},S:function(){return l}});var n=r(7308),i=r(3707),s=r(571),o=r(6873),a=r(6214);function l(t,e=!1){return t=a.Z.checkMatrix(t),e?new s.Z(t).inverse():h(t,o.Z.eye(t.rows))}function h(t,e,r=!1){return t=a.Z.checkMatrix(t),e=a.Z.checkMatrix(e),r?new s.Z(t).solve(e):t.isSquare()?new n.Z(t).solve(e):new i.Z(t).solve(e)}},6857:function(t,e,r){"use strict";r.r(e),r.d(e,{AbstractMatrix:function(){return n.X},CHO:function(){return U},CholeskyDecomposition:function(){return U},EVD:function(){return T},EigenvalueDecomposition:function(){return T},LU:function(){return v.Z},LuDecomposition:function(){return v.Z},Matrix:function(){return n.Z},MatrixColumnSelectionView:function(){return a},MatrixColumnView:function(){return o},MatrixFlipColumnView:function(){return l},MatrixFlipRowView:function(){return h},MatrixRowSelectionView:function(){return c},MatrixRowView:function(){return u},MatrixSelectionView:function(){return f},MatrixSubView:function(){return d},MatrixTransposeView:function(){return p.Z},NIPALS:function(){return F},Nipals:function(){return F},QR:function(){return N.Z},QrDecomposition:function(){return N.Z},SVD:function(){return x.Z},SingularValueDecomposition:function(){return x.Z},WrapperMatrix1D:function(){return g},WrapperMatrix2D:function(){return w.Z},correlation:function(){return R},covariance:function(){return S},default:function(){return n.Z},determinant:function(){return _},inverse:function(){return y.S},linearDependencies:function(){return E},pseudoInverse:function(){return A},solve:function(){return y.F},wrap:function(){return b}});var n=r(6873),i=r(4896),s=r(1646);class o extends s.Z{constructor(t,e){(0,i.bp)(t,e),super(t,t.rows,1),this.column=e}set(t,e,r){return this.matrix.set(t,this.column,r),this}get(t){return this.matrix.get(t,this.column)}}class a extends s.Z{constructor(t,e){(0,i.g)(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,r){return this.matrix.set(t,this.columnIndices[e],r),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}}class l extends s.Z{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(t,this.columns-e-1,r),this}get(t,e){return this.matrix.get(t,this.columns-e-1)}}class h extends s.Z{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(this.rows-t-1,e,r),this}get(t,e){return this.matrix.get(this.rows-t-1,e)}}class u extends s.Z{constructor(t,e){(0,i.zb)(t,e),super(t,1,t.columns),this.row=e}set(t,e,r){return this.matrix.set(this.row,e,r),this}get(t,e){return this.matrix.get(this.row,e)}}class c extends s.Z{constructor(t,e){(0,i.ZR)(t,e),super(t,e.length,t.columns),this.rowIndices=e}set(t,e,r){return this.matrix.set(this.rowIndices[t],e,r),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}}class f extends s.Z{constructor(t,e,r){(0,i.ZR)(t,e),(0,i.g)(t,r),super(t,e.length,r.length),this.rowIndices=e,this.columnIndices=r}set(t,e,r){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],r),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}class d extends s.Z{constructor(t,e,r,n,s){(0,i.J5)(t,e,r,n,s),super(t,r-e+1,s-n+1),this.startRow=e,this.startColumn=n}set(t,e,r){return this.matrix.set(this.startRow+t,this.startColumn+e,r),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}}var p=r(5766),m=r(2273);class g extends n.X{constructor(t,e={}){const{rows:r=1}=e;if(t.length%r!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=r,this.columns=t.length/r,this.data=t}set(t,e,r){let n=this._calculateIndex(t,e);return this.data[n]=r,this}get(t,e){let r=this._calculateIndex(t,e);return this.data[r]}_calculateIndex(t,e){return t*this.columns+e}}var w=r(6214);function b(t,e){if((0,m.N)(t))return t[0]&&(0,m.N)(t[0])?new w.Z(t):new g(t,e);throw new Error("the argument is not an array")}var y=r(1610),v=r(7308);function _(t){if(t=n.Z.checkMatrix(t),t.isSquare()){if(0===t.columns)return 1;let e,r,n,i;if(2===t.columns)return e=t.get(0,0),r=t.get(0,1),n=t.get(1,0),i=t.get(1,1),e*i-r*n;if(3===t.columns){let i,s,o;return i=new f(t,[1,2],[1,2]),s=new f(t,[1,2],[0,2]),o=new f(t,[1,2],[0,1]),e=t.get(0,0),r=t.get(0,1),n=t.get(0,2),e*_(i)-r*_(s)+n*_(o)}return new v.Z(t).determinant}throw Error("determinant can only be calculated for a square matrix")}r(7658);var x=r(571);function k(t,e){let r=[];for(let n=0;n<t;n++)n!==e&&r.push(n);return r}function M(t,e,r,n=1e-9,i=1e-9){if(t>i)return new Array(e.rows+1).fill(0);{let t=e.addRow(r,[0]);for(let e=0;e<t.rows;e++)Math.abs(t.get(e,0))<n&&t.set(e,0,0);return t.to1DArray()}}function E(t,e={}){const{thresholdValue:r=1e-9,thresholdError:i=1e-9}=e;t=n.Z.checkMatrix(t);let s=t.rows,o=new n.Z(s,s);for(let a=0;a<s;a++){let e=n.Z.columnVector(t.getRow(a)),l=t.subMatrixRow(k(s,a)).transpose(),h=new x.Z(l),u=h.solve(e),c=n.Z.sub(e,l.mmul(u)).abs().max();o.setRow(a,M(c,u,a,r,i))}return o}function A(t,e=Number.EPSILON){if(t=n.Z.checkMatrix(t),t.isEmpty())return t.transpose();let r=new x.Z(t,{autoTranspose:!0}),i=r.leftSingularVectors,s=r.rightSingularVectors,o=r.diagonal;for(let n=0;n<o.length;n++)Math.abs(o[n])>e?o[n]=1/o[n]:o[n]=0;return s.mmul(n.Z.diag(o).mmul(i.transpose()))}function S(t,e=t,r={}){t=new n.Z(t);let i=!1;if("object"!==typeof e||n.Z.isMatrix(e)||(0,m.N)(e)?e=new n.Z(e):(r=e,e=t,i=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:s=!0}=r;s&&(t=t.center("column"),i||(e=e.center("column")));const o=t.transpose().mmul(e);for(let n=0;n<o.rows;n++)for(let e=0;e<o.columns;e++)o.set(n,e,o.get(n,e)*(1/(t.rows-1)));return o}function R(t,e=t,r={}){t=new n.Z(t);let i=!1;if("object"!==typeof e||n.Z.isMatrix(e)||(0,m.N)(e)?e=new n.Z(e):(r=e,e=t,i=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:s=!0,scale:o=!0}=r;s&&(t.center("column"),i||e.center("column")),o&&(t.scale("column"),i||e.scale("column"));const a=t.standardDeviation("column",{unbiased:!0}),l=i?a:e.standardDeviation("column",{unbiased:!0}),h=t.transpose().mmul(e);for(let n=0;n<h.rows;n++)for(let e=0;e<h.columns;e++)h.set(n,e,h.get(n,e)*(1/(a[n]*l[e]))*(1/(t.rows-1)));return h}r(1439),r(7585),r(5315);var P=r(146);class T{constructor(t,e={}){const{assumeSymmetric:r=!1}=e;if(t=w.Z.checkMatrix(t),!t.isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");let i,s,o=t.columns,a=new n.Z(o,o),l=new Float64Array(o),h=new Float64Array(o),u=t,c=!1;if(c=!!r||t.isSymmetric(),c){for(i=0;i<o;i++)for(s=0;s<o;s++)a.set(i,s,u.get(i,s));I(o,h,l,a),C(o,h,l,a)}else{let t=new n.Z(o,o),e=new Float64Array(o);for(s=0;s<o;s++)for(i=0;i<o;i++)t.set(i,s,u.get(i,s));D(o,t,e,a),O(o,h,l,a,t)}this.n=o,this.e=h,this.d=l,this.V=a}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let t,e,r=this.n,i=this.e,s=this.d,o=new n.Z(r,r);for(t=0;t<r;t++){for(e=0;e<r;e++)o.set(t,e,0);o.set(t,t,s[t]),i[t]>0?o.set(t,t+1,i[t]):i[t]<0&&o.set(t,t-1,i[t])}return o}}function I(t,e,r,n){let i,s,o,a,l,h,u,c;for(l=0;l<t;l++)r[l]=n.get(t-1,l);for(a=t-1;a>0;a--){for(c=0,o=0,h=0;h<a;h++)c+=Math.abs(r[h]);if(0===c)for(e[a]=r[a-1],l=0;l<a;l++)r[l]=n.get(a-1,l),n.set(a,l,0),n.set(l,a,0);else{for(h=0;h<a;h++)r[h]/=c,o+=r[h]*r[h];for(i=r[a-1],s=Math.sqrt(o),i>0&&(s=-s),e[a]=c*s,o-=i*s,r[a-1]=i-s,l=0;l<a;l++)e[l]=0;for(l=0;l<a;l++){for(i=r[l],n.set(l,a,i),s=e[l]+n.get(l,l)*i,h=l+1;h<=a-1;h++)s+=n.get(h,l)*r[h],e[h]+=n.get(h,l)*i;e[l]=s}for(i=0,l=0;l<a;l++)e[l]/=o,i+=e[l]*r[l];for(u=i/(o+o),l=0;l<a;l++)e[l]-=u*r[l];for(l=0;l<a;l++){for(i=r[l],s=e[l],h=l;h<=a-1;h++)n.set(h,l,n.get(h,l)-(i*e[h]+s*r[h]));r[l]=n.get(a-1,l),n.set(a,l,0)}}r[a]=o}for(a=0;a<t-1;a++){if(n.set(t-1,a,n.get(a,a)),n.set(a,a,1),o=r[a+1],0!==o){for(h=0;h<=a;h++)r[h]=n.get(h,a+1)/o;for(l=0;l<=a;l++){for(s=0,h=0;h<=a;h++)s+=n.get(h,a+1)*n.get(h,l);for(h=0;h<=a;h++)n.set(h,l,n.get(h,l)-s*r[h])}}for(h=0;h<=a;h++)n.set(h,a+1,0)}for(l=0;l<t;l++)r[l]=n.get(t-1,l),n.set(t-1,l,0);n.set(t-1,t-1,1),e[0]=0}function C(t,e,r,n){let i,s,o,a,l,h,u,c,f,d,p,m,g,w,b,y,v;for(o=1;o<t;o++)e[o-1]=e[o];e[t-1]=0;let _=0,x=0,k=Number.EPSILON;for(h=0;h<t;h++){x=Math.max(x,Math.abs(r[h])+Math.abs(e[h])),u=h;while(u<t){if(Math.abs(e[u])<=k*x)break;u++}if(u>h){v=0;do{for(v+=1,i=r[h],c=(r[h+1]-i)/(2*e[h]),f=(0,P.G)(c,1),c<0&&(f=-f),r[h]=e[h]/(c+f),r[h+1]=e[h]*(c+f),d=r[h+1],s=i-r[h],o=h+2;o<t;o++)r[o]-=s;for(_+=s,c=r[u],p=1,m=p,g=p,w=e[h+1],b=0,y=0,o=u-1;o>=h;o--)for(g=m,m=p,y=b,i=p*e[o],s=p*c,f=(0,P.G)(c,e[o]),e[o+1]=b*f,b=e[o]/f,p=c/f,c=p*r[o]-b*i,r[o+1]=s+b*(p*i+b*r[o]),l=0;l<t;l++)s=n.get(l,o+1),n.set(l,o+1,b*n.get(l,o)+p*s),n.set(l,o,p*n.get(l,o)-b*s);c=-b*y*g*w*e[h]/d,e[h]=b*c,r[h]=p*c}while(Math.abs(e[h])>k*x)}r[h]=r[h]+_,e[h]=0}for(o=0;o<t-1;o++){for(l=o,c=r[o],a=o+1;a<t;a++)r[a]<c&&(l=a,c=r[a]);if(l!==o)for(r[l]=r[o],r[o]=c,a=0;a<t;a++)c=n.get(a,o),n.set(a,o,n.get(a,l)),n.set(a,l,c)}}function D(t,e,r,n){let i,s,o,a,l,h,u,c=0,f=t-1;for(h=c+1;h<=f-1;h++){for(u=0,a=h;a<=f;a++)u+=Math.abs(e.get(a,h-1));if(0!==u){for(o=0,a=f;a>=h;a--)r[a]=e.get(a,h-1)/u,o+=r[a]*r[a];for(s=Math.sqrt(o),r[h]>0&&(s=-s),o-=r[h]*s,r[h]=r[h]-s,l=h;l<t;l++){for(i=0,a=f;a>=h;a--)i+=r[a]*e.get(a,l);for(i/=o,a=h;a<=f;a++)e.set(a,l,e.get(a,l)-i*r[a])}for(a=0;a<=f;a++){for(i=0,l=f;l>=h;l--)i+=r[l]*e.get(a,l);for(i/=o,l=h;l<=f;l++)e.set(a,l,e.get(a,l)-i*r[l])}r[h]=u*r[h],e.set(h,h-1,u*s)}}for(a=0;a<t;a++)for(l=0;l<t;l++)n.set(a,l,a===l?1:0);for(h=f-1;h>=c+1;h--)if(0!==e.get(h,h-1)){for(a=h+1;a<=f;a++)r[a]=e.get(a,h-1);for(l=h;l<=f;l++){for(s=0,a=h;a<=f;a++)s+=r[a]*n.get(a,l);for(s=s/r[h]/e.get(h,h-1),a=h;a<=f;a++)n.set(a,l,n.get(a,l)+s*r[a])}}}function O(t,e,r,n,i){let s,o,a,l,h,u,c,f,d,p,m,g,w,b,y,v=t-1,_=0,x=t-1,k=Number.EPSILON,M=0,E=0,A=0,S=0,R=0,P=0,T=0,I=0;for(s=0;s<t;s++)for((s<_||s>x)&&(r[s]=i.get(s,s),e[s]=0),o=Math.max(s-1,0);o<t;o++)E+=Math.abs(i.get(s,o));while(v>=_){l=v;while(l>_){if(P=Math.abs(i.get(l-1,l-1))+Math.abs(i.get(l,l)),0===P&&(P=E),Math.abs(i.get(l,l-1))<k*P)break;l--}if(l===v)i.set(v,v,i.get(v,v)+M),r[v]=i.get(v,v),e[v]=0,v--,I=0;else if(l===v-1){if(c=i.get(v,v-1)*i.get(v-1,v),A=(i.get(v-1,v-1)-i.get(v,v))/2,S=A*A+c,T=Math.sqrt(Math.abs(S)),i.set(v,v,i.get(v,v)+M),i.set(v-1,v-1,i.get(v-1,v-1)+M),f=i.get(v,v),S>=0){for(T=A>=0?A+T:A-T,r[v-1]=f+T,r[v]=r[v-1],0!==T&&(r[v]=f-c/T),e[v-1]=0,e[v]=0,f=i.get(v,v-1),P=Math.abs(f)+Math.abs(T),A=f/P,S=T/P,R=Math.sqrt(A*A+S*S),A/=R,S/=R,o=v-1;o<t;o++)T=i.get(v-1,o),i.set(v-1,o,S*T+A*i.get(v,o)),i.set(v,o,S*i.get(v,o)-A*T);for(s=0;s<=v;s++)T=i.get(s,v-1),i.set(s,v-1,S*T+A*i.get(s,v)),i.set(s,v,S*i.get(s,v)-A*T);for(s=_;s<=x;s++)T=n.get(s,v-1),n.set(s,v-1,S*T+A*n.get(s,v)),n.set(s,v,S*n.get(s,v)-A*T)}else r[v-1]=f+A,r[v]=f+A,e[v-1]=T,e[v]=-T;v-=2,I=0}else{if(f=i.get(v,v),d=0,c=0,l<v&&(d=i.get(v-1,v-1),c=i.get(v,v-1)*i.get(v-1,v)),10===I){for(M+=f,s=_;s<=v;s++)i.set(s,s,i.get(s,s)-f);P=Math.abs(i.get(v,v-1))+Math.abs(i.get(v-1,v-2)),f=d=.75*P,c=-.4375*P*P}if(30===I&&(P=(d-f)/2,P=P*P+c,P>0)){for(P=Math.sqrt(P),d<f&&(P=-P),P=f-c/((d-f)/2+P),s=_;s<=v;s++)i.set(s,s,i.get(s,s)-P);M+=P,f=d=c=.964}I+=1,h=v-2;while(h>=l){if(T=i.get(h,h),R=f-T,P=d-T,A=(R*P-c)/i.get(h+1,h)+i.get(h,h+1),S=i.get(h+1,h+1)-T-R-P,R=i.get(h+2,h+1),P=Math.abs(A)+Math.abs(S)+Math.abs(R),A/=P,S/=P,R/=P,h===l)break;if(Math.abs(i.get(h,h-1))*(Math.abs(S)+Math.abs(R))<k*(Math.abs(A)*(Math.abs(i.get(h-1,h-1))+Math.abs(T)+Math.abs(i.get(h+1,h+1)))))break;h--}for(s=h+2;s<=v;s++)i.set(s,s-2,0),s>h+2&&i.set(s,s-3,0);for(a=h;a<=v-1;a++){if(b=a!==v-1,a!==h&&(A=i.get(a,a-1),S=i.get(a+1,a-1),R=b?i.get(a+2,a-1):0,f=Math.abs(A)+Math.abs(S)+Math.abs(R),0!==f&&(A/=f,S/=f,R/=f)),0===f)break;if(P=Math.sqrt(A*A+S*S+R*R),A<0&&(P=-P),0!==P){for(a!==h?i.set(a,a-1,-P*f):l!==h&&i.set(a,a-1,-i.get(a,a-1)),A+=P,f=A/P,d=S/P,T=R/P,S/=A,R/=A,o=a;o<t;o++)A=i.get(a,o)+S*i.get(a+1,o),b&&(A+=R*i.get(a+2,o),i.set(a+2,o,i.get(a+2,o)-A*T)),i.set(a,o,i.get(a,o)-A*f),i.set(a+1,o,i.get(a+1,o)-A*d);for(s=0;s<=Math.min(v,a+3);s++)A=f*i.get(s,a)+d*i.get(s,a+1),b&&(A+=T*i.get(s,a+2),i.set(s,a+2,i.get(s,a+2)-A*R)),i.set(s,a,i.get(s,a)-A),i.set(s,a+1,i.get(s,a+1)-A*S);for(s=_;s<=x;s++)A=f*n.get(s,a)+d*n.get(s,a+1),b&&(A+=T*n.get(s,a+2),n.set(s,a+2,n.get(s,a+2)-A*R)),n.set(s,a,n.get(s,a)-A),n.set(s,a+1,n.get(s,a+1)-A*S)}}}}if(0!==E){for(v=t-1;v>=0;v--)if(A=r[v],S=e[v],0===S)for(l=v,i.set(v,v,1),s=v-1;s>=0;s--){for(c=i.get(s,s)-A,R=0,o=l;o<=v;o++)R+=i.get(s,o)*i.get(o,v);if(e[s]<0)T=c,P=R;else if(l=s,0===e[s]?i.set(s,v,0!==c?-R/c:-R/(k*E)):(f=i.get(s,s+1),d=i.get(s+1,s),S=(r[s]-A)*(r[s]-A)+e[s]*e[s],u=(f*P-T*R)/S,i.set(s,v,u),i.set(s+1,v,Math.abs(f)>Math.abs(T)?(-R-c*u)/f:(-P-d*u)/T)),u=Math.abs(i.get(s,v)),k*u*u>1)for(o=s;o<=v;o++)i.set(o,v,i.get(o,v)/u)}else if(S<0)for(l=v-1,Math.abs(i.get(v,v-1))>Math.abs(i.get(v-1,v))?(i.set(v-1,v-1,S/i.get(v,v-1)),i.set(v-1,v,-(i.get(v,v)-A)/i.get(v,v-1))):(y=B(0,-i.get(v-1,v),i.get(v-1,v-1)-A,S),i.set(v-1,v-1,y[0]),i.set(v-1,v,y[1])),i.set(v,v-1,0),i.set(v,v,1),s=v-2;s>=0;s--){for(p=0,m=0,o=l;o<=v;o++)p+=i.get(s,o)*i.get(o,v-1),m+=i.get(s,o)*i.get(o,v);if(c=i.get(s,s)-A,e[s]<0)T=c,R=p,P=m;else if(l=s,0===e[s]?(y=B(-p,-m,c,S),i.set(s,v-1,y[0]),i.set(s,v,y[1])):(f=i.get(s,s+1),d=i.get(s+1,s),g=(r[s]-A)*(r[s]-A)+e[s]*e[s]-S*S,w=2*(r[s]-A)*S,0===g&&0===w&&(g=k*E*(Math.abs(c)+Math.abs(S)+Math.abs(f)+Math.abs(d)+Math.abs(T))),y=B(f*R-T*p+S*m,f*P-T*m-S*p,g,w),i.set(s,v-1,y[0]),i.set(s,v,y[1]),Math.abs(f)>Math.abs(T)+Math.abs(S)?(i.set(s+1,v-1,(-p-c*i.get(s,v-1)+S*i.get(s,v))/f),i.set(s+1,v,(-m-c*i.get(s,v)-S*i.get(s,v-1))/f)):(y=B(-R-d*i.get(s,v-1),-P-d*i.get(s,v),T,S),i.set(s+1,v-1,y[0]),i.set(s+1,v,y[1]))),u=Math.max(Math.abs(i.get(s,v-1)),Math.abs(i.get(s,v))),k*u*u>1)for(o=s;o<=v;o++)i.set(o,v-1,i.get(o,v-1)/u),i.set(o,v,i.get(o,v)/u)}for(s=0;s<t;s++)if(s<_||s>x)for(o=s;o<t;o++)n.set(s,o,i.get(s,o));for(o=t-1;o>=_;o--)for(s=_;s<=x;s++){for(T=0,a=_;a<=Math.min(o,x);a++)T+=n.get(s,a)*i.get(a,o);n.set(s,o,T)}}}function B(t,e,r,n){let i,s;return Math.abs(r)>Math.abs(n)?(i=n/r,s=r+i*n,[(t+i*e)/s,(e-i*t)/s]):(i=r/n,s=n+i*r,[(i*t+e)/s,(i*e-t)/s])}class U{constructor(t){if(t=w.Z.checkMatrix(t),!t.isSymmetric())throw new Error("Matrix is not symmetric");let e,r,i,s=t,o=s.rows,a=new n.Z(o,o),l=!0;for(r=0;r<o;r++){let t=0;for(i=0;i<r;i++){let n=0;for(e=0;e<i;e++)n+=a.get(i,e)*a.get(r,e);n=(s.get(r,i)-n)/a.get(i,i),a.set(r,i,n),t+=n*n}for(t=s.get(r,r)-t,l&=t>0,a.set(r,r,Math.sqrt(Math.max(t,0))),i=r+1;i<o;i++)a.set(r,i,0)}this.L=a,this.positiveDefinite=Boolean(l)}isPositiveDefinite(){return this.positiveDefinite}solve(t){t=w.Z.checkMatrix(t);let e=this.L,r=e.rows;if(t.rows!==r)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let n,i,s,o=t.columns,a=t.clone();for(s=0;s<r;s++)for(i=0;i<o;i++){for(n=0;n<s;n++)a.set(s,i,a.get(s,i)-a.get(n,i)*e.get(s,n));a.set(s,i,a.get(s,i)/e.get(s,s))}for(s=r-1;s>=0;s--)for(i=0;i<o;i++){for(n=s+1;n<r;n++)a.set(s,i,a.get(s,i)-a.get(n,i)*e.get(n,s));a.set(s,i,a.get(s,i)/e.get(s,s))}return a}get lowerTriangularMatrix(){return this.L}}var N=r(3707);class F{constructor(t,e={}){t=w.Z.checkMatrix(t);let{Y:r}=e;const{scaleScores:i=!1,maxIterations:s=1e3,terminationCriteria:o=1e-10}=e;let a;if(r){if(r=(0,m.N)(r)&&"number"===typeof r[0]?n.Z.columnVector(r):w.Z.checkMatrix(r),r.rows!==t.rows)throw new Error("Y should have the same number of rows as X");a=r.getColumnVector(0)}else a=t.getColumnVector(0);let l,h,u,c,f=1;for(let n=0;n<s&&f>o;n++)u=t.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0)),u=u.div(u.norm()),l=t.mmul(u).div(u.transpose().mmul(u).get(0,0)),n>0&&(f=l.clone().sub(c).pow(2).sum()),c=l.clone(),r?(h=r.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0)),h=h.div(h.norm()),a=r.mmul(h).div(h.transpose().mmul(h).get(0,0))):a=l;if(r){let e=t.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0));e=e.div(e.norm());let n=t.clone().sub(l.clone().mmul(e.transpose())),i=a.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0)),s=r.clone().sub(l.clone().mulS(i.get(0,0)).mmul(h.transpose()));this.t=l,this.p=e.transpose(),this.w=u.transpose(),this.q=h,this.u=a,this.s=l.transpose().mmul(l),this.xResidual=n,this.yResidual=s,this.betas=i}else this.w=u.transpose(),this.s=l.transpose().mmul(l).sqrt(),this.t=i?l.clone().div(this.s.get(0,0)):l,this.xResidual=t.sub(l.mmul(u.transpose()))}}},6873:function(t,e,r){"use strict";r.d(e,{X:function(){return O},Z:function(){return N}});r(7658),r(1439),r(7585),r(5315);var n=r(2273);function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,n.N)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,i=void 0===r?0:r,s=e.toIndex,o=void 0===s?t.length:s;if(i<0||i>=t.length||!Number.isInteger(i))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=i||o>t.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[i],l=i+1;l<o;l++)t[l]>a&&(a=t[l]);return a}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,n.N)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,i=void 0===r?0:r,s=e.toIndex,o=void 0===s?t.length:s;if(i<0||i>=t.length||!Number.isInteger(i))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=i||o>t.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[i],l=i+1;l<o;l++)t[l]<a&&(a=t[l]);return a}function o(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,n.N)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==r.output){if(!(0,n.N)(r.output))throw new TypeError("output option must be an array if specified");e=r.output}else e=new Array(t.length);var o=s(t),a=i(t);if(o===a)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var l=r.min,h=void 0===l?r.autoMinMax?o:0:l,u=r.max,c=void 0===u?r.autoMinMax?a:1:u;if(h>=c)throw new RangeError("min option must be smaller than max option");for(var f=(c-h)/(a-o),d=0;d<t.length;d++)e[d]=(t[d]-o)*f+h;return e}const a=" ".repeat(2),l=" ".repeat(4);function h(){return u(this)}function u(t,e={}){const{maxRows:r=15,maxColumns:n=10,maxNumSize:i=8,padMinus:s="auto"}=e;return`${t.constructor.name} {\n${a}[\n${l}${c(t,r,n,i,s)}\n${a}]\n${a}rows: ${t.rows}\n${a}columns: ${t.columns}\n}`}function c(t,e,r,n,i){const{rows:s,columns:o}=t,a=Math.min(s,e),h=Math.min(o,r),u=[];if("auto"===i){i=!1;t:for(let e=0;e<a;e++)for(let r=0;r<h;r++)if(t.get(e,r)<0){i=!0;break t}}for(let l=0;l<a;l++){let e=[];for(let r=0;r<h;r++)e.push(f(t.get(l,r),n,i));u.push(`${e.join(" ")}`)}return h!==o&&(u[u.length-1]+=` ... ${o-r} more columns`),a!==s&&u.push(`... ${s-e} more rows`),u.join(`\n${l}`)}function f(t,e,r){return(t>=0&&r?` ${d(t,e-1)}`:d(t,e)).padEnd(e)}function d(t,e){let r=t.toString();if(r.length<=e)return r;let n=t.toFixed(e);if(n.length>e&&(n=t.toFixed(Math.max(0,e-(n.length-e)))),n.length<=e&&!n.startsWith("0.000")&&!n.startsWith("-0.000"))return n;let i=t.toExponential(e);return i.length>e&&(i=t.toExponential(Math.max(0,e-(i.length-e)))),i.slice(0)}function p(t,e){t.prototype.add=function(t){return"number"===typeof t?this.addS(t):this.addM(t)},t.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t);return this},t.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t.get(e,r));return this},t.add=function(t,r){const n=new e(t);return n.add(r)},t.prototype.sub=function(t){return"number"===typeof t?this.subS(t):this.subM(t)},t.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t);return this},t.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t.get(e,r));return this},t.sub=function(t,r){const n=new e(t);return n.sub(r)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(t){return"number"===typeof t?this.mulS(t):this.mulM(t)},t.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t);return this},t.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t.get(e,r));return this},t.mul=function(t,r){const n=new e(t);return n.mul(r)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(t){return"number"===typeof t?this.divS(t):this.divM(t)},t.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t);return this},t.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t.get(e,r));return this},t.div=function(t,r){const n=new e(t);return n.div(r)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(t){return"number"===typeof t?this.modS(t):this.modM(t)},t.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t);return this},t.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t.get(e,r));return this},t.mod=function(t,r){const n=new e(t);return n.mod(r)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(t){return"number"===typeof t?this.andS(t):this.andM(t)},t.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t);return this},t.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t.get(e,r));return this},t.and=function(t,r){const n=new e(t);return n.and(r)},t.prototype.or=function(t){return"number"===typeof t?this.orS(t):this.orM(t)},t.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t);return this},t.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t.get(e,r));return this},t.or=function(t,r){const n=new e(t);return n.or(r)},t.prototype.xor=function(t){return"number"===typeof t?this.xorS(t):this.xorM(t)},t.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t);return this},t.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t.get(e,r));return this},t.xor=function(t,r){const n=new e(t);return n.xor(r)},t.prototype.leftShift=function(t){return"number"===typeof t?this.leftShiftS(t):this.leftShiftM(t)},t.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t);return this},t.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t.get(e,r));return this},t.leftShift=function(t,r){const n=new e(t);return n.leftShift(r)},t.prototype.signPropagatingRightShift=function(t){return"number"===typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},t.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t);return this},t.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t.get(e,r));return this},t.signPropagatingRightShift=function(t,r){const n=new e(t);return n.signPropagatingRightShift(r)},t.prototype.rightShift=function(t){return"number"===typeof t?this.rightShiftS(t):this.rightShiftM(t)},t.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t);return this},t.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t.get(e,r));return this},t.rightShift=function(t,r){const n=new e(t);return n.rightShift(r)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},t.not=function(t){const r=new e(t);return r.not()},t.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},t.abs=function(t){const r=new e(t);return r.abs()},t.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},t.acos=function(t){const r=new e(t);return r.acos()},t.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},t.acosh=function(t){const r=new e(t);return r.acosh()},t.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},t.asin=function(t){const r=new e(t);return r.asin()},t.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},t.asinh=function(t){const r=new e(t);return r.asinh()},t.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},t.atan=function(t){const r=new e(t);return r.atan()},t.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},t.atanh=function(t){const r=new e(t);return r.atanh()},t.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},t.cbrt=function(t){const r=new e(t);return r.cbrt()},t.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},t.ceil=function(t){const r=new e(t);return r.ceil()},t.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},t.clz32=function(t){const r=new e(t);return r.clz32()},t.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},t.cos=function(t){const r=new e(t);return r.cos()},t.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},t.cosh=function(t){const r=new e(t);return r.cosh()},t.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},t.exp=function(t){const r=new e(t);return r.exp()},t.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},t.expm1=function(t){const r=new e(t);return r.expm1()},t.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},t.floor=function(t){const r=new e(t);return r.floor()},t.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},t.fround=function(t){const r=new e(t);return r.fround()},t.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},t.log=function(t){const r=new e(t);return r.log()},t.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},t.log1p=function(t){const r=new e(t);return r.log1p()},t.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},t.log10=function(t){const r=new e(t);return r.log10()},t.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},t.log2=function(t){const r=new e(t);return r.log2()},t.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},t.round=function(t){const r=new e(t);return r.round()},t.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},t.sign=function(t){const r=new e(t);return r.sign()},t.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},t.sin=function(t){const r=new e(t);return r.sin()},t.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},t.sinh=function(t){const r=new e(t);return r.sinh()},t.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},t.sqrt=function(t){const r=new e(t);return r.sqrt()},t.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},t.tan=function(t){const r=new e(t);return r.tan()},t.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},t.tanh=function(t){const r=new e(t);return r.tanh()},t.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},t.trunc=function(t){const r=new e(t);return r.trunc()},t.pow=function(t,r){const n=new e(t);return n.pow(r)},t.prototype.pow=function(t){return"number"===typeof t?this.powS(t):this.powM(t)},t.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,Math.pow(this.get(e,r),t));return this},t.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,Math.pow(this.get(e,r),t.get(e,r)));return this}}var m=r(4896);function g(t){let e=(0,m.B4)(t.rows);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[r]+=t.get(r,n);return e}function w(t){let e=(0,m.B4)(t.columns);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[n]+=t.get(r,n);return e}function b(t){let e=0;for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)e+=t.get(r,n);return e}function y(t){let e=(0,m.B4)(t.rows,1);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[r]*=t.get(r,n);return e}function v(t){let e=(0,m.B4)(t.columns,1);for(let r=0;r<t.rows;++r)for(let n=0;n<t.columns;++n)e[n]*=t.get(r,n);return e}function _(t){let e=1;for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)e*=t.get(r,n);return e}function x(t,e,r){const n=t.rows,i=t.columns,s=[];for(let o=0;o<n;o++){let n=0,a=0,l=0;for(let e=0;e<i;e++)l=t.get(o,e)-r[o],n+=l,a+=l*l;e?s.push((a-n*n/i)/(i-1)):s.push((a-n*n/i)/i)}return s}function k(t,e,r){const n=t.rows,i=t.columns,s=[];for(let o=0;o<i;o++){let i=0,a=0,l=0;for(let e=0;e<n;e++)l=t.get(e,o)-r[o],i+=l,a+=l*l;e?s.push((a-i*i/n)/(n-1)):s.push((a-i*i/n)/n)}return s}function M(t,e,r){const n=t.rows,i=t.columns,s=n*i;let o=0,a=0,l=0;for(let h=0;h<n;h++)for(let e=0;e<i;e++)l=t.get(h,e)-r,o+=l,a+=l*l;return e?(a-o*o/s)/(s-1):(a-o*o/s)/s}function E(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[r])}function A(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[n])}function S(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e)}function R(t){const e=[];for(let r=0;r<t.rows;r++){let n=0;for(let e=0;e<t.columns;e++)n+=Math.pow(t.get(r,e),2)/(t.columns-1);e.push(Math.sqrt(n))}return e}function P(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[r])}function T(t){const e=[];for(let r=0;r<t.columns;r++){let n=0;for(let e=0;e<t.rows;e++)n+=Math.pow(t.get(e,r),2)/(t.rows-1);e.push(Math.sqrt(n))}return e}function I(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[n])}function C(t){const e=t.size-1;let r=0;for(let n=0;n<t.columns;n++)for(let i=0;i<t.rows;i++)r+=Math.pow(t.get(i,n),2)/e;return Math.sqrt(r)}function D(t,e){for(let r=0;r<t.rows;r++)for(let n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e)}class O{static from1DArray(t,e,r){let n=t*e;if(n!==r.length)throw new RangeError("data length does not match given dimensions");let i=new N(t,e);for(let s=0;s<t;s++)for(let t=0;t<e;t++)i.set(s,t,r[s*e+t]);return i}static rowVector(t){let e=new N(1,t.length);for(let r=0;r<t.length;r++)e.set(0,r,t[r]);return e}static columnVector(t){let e=new N(t.length,1);for(let r=0;r<t.length;r++)e.set(r,0,t[r]);return e}static zeros(t,e){return new N(t,e)}static ones(t,e){return new N(t,e).fill(1)}static rand(t,e,r={}){if("object"!==typeof r)throw new TypeError("options must be an object");const{random:n=Math.random}=r;let i=new N(t,e);for(let s=0;s<t;s++)for(let t=0;t<e;t++)i.set(s,t,n());return i}static randInt(t,e,r={}){if("object"!==typeof r)throw new TypeError("options must be an object");const{min:n=0,max:i=1e3,random:s=Math.random}=r;if(!Number.isInteger(n))throw new TypeError("min must be an integer");if(!Number.isInteger(i))throw new TypeError("max must be an integer");if(n>=i)throw new RangeError("min must be smaller than max");let o=i-n,a=new N(t,e);for(let l=0;l<t;l++)for(let t=0;t<e;t++){let e=n+Math.round(s()*o);a.set(l,t,e)}return a}static eye(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);let n=Math.min(t,e),i=this.zeros(t,e);for(let s=0;s<n;s++)i.set(s,s,r);return i}static diag(t,e,r){let n=t.length;void 0===e&&(e=n),void 0===r&&(r=e);let i=Math.min(n,e,r),s=this.zeros(e,r);for(let o=0;o<i;o++)s.set(o,o,t[o]);return s}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,n=t.columns,i=new N(r,n);for(let s=0;s<r;s++)for(let r=0;r<n;r++)i.set(s,r,Math.min(t.get(s,r),e.get(s,r)));return i}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,n=t.columns,i=new this(r,n);for(let s=0;s<r;s++)for(let r=0;r<n;r++)i.set(s,r,Math.max(t.get(s,r),e.get(s,r)));return i}static checkMatrix(t){return O.isMatrix(t)?t:new N(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!==typeof t)throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.call(this,e,r);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.push(this.get(e,r));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isEchelonForm(){let t=0,e=0,r=-1,n=!0,i=!1;while(t<this.rows&&n){e=0,i=!1;while(e<this.columns&&!1===i)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(i=!0,r=e):(n=!1,i=!0);t++}return n}isReducedEchelonForm(){let t=0,e=0,r=-1,n=!0,i=!1;while(t<this.rows&&n){e=0,i=!1;while(e<this.columns&&!1===i)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(i=!0,r=e):(n=!1,i=!0);for(let r=e+1;r<this.rows;r++)0!==this.get(t,r)&&(n=!1);t++}return n}echelonForm(){let t=this.clone(),e=0,r=0;while(e<t.rows&&r<t.columns){let n=e;for(let i=e;i<t.rows;i++)t.get(i,r)>t.get(n,r)&&(n=i);if(0===t.get(n,r))r++;else{t.swapRows(e,n);let i=t.get(e,r);for(let n=r;n<t.columns;n++)t.set(e,n,t.get(e,n)/i);for(let n=e+1;n<t.rows;n++){let i=t.get(n,r)/t.get(e,r);t.set(n,r,0);for(let s=r+1;s<t.columns;s++)t.set(n,s,t.get(n,s)-t.get(e,s)*i)}e++,r++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,r=t.rows,n=r-1;while(n>=0)if(0===t.maxRow(n))n--;else{let i=0,s=!1;while(i<r&&!1===s)1===t.get(n,i)?s=!0:i++;for(let r=0;r<n;r++){let s=t.get(r,i);for(let o=i;o<e;o++){let e=t.get(r,o)-s*t.get(n,o);t.set(r,o,e)}}n--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if("object"!==typeof t)throw new TypeError("options must be an object");const{rows:e=1,columns:r=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let n=new N(this.rows*e,this.columns*r);for(let i=0;i<e;i++)for(let t=0;t<r;t++)n.setSubMatrix(this,this.rows*i,this.columns*t);return n}fill(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,t);return this}neg(){return this.mulS(-1)}getRow(t){(0,m.zb)(this,t);let e=[];for(let r=0;r<this.columns;r++)e.push(this.get(t,r));return e}getRowVector(t){return N.rowVector(this.getRow(t))}setRow(t,e){(0,m.zb)(this,t),e=(0,m.on)(this,e);for(let r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}swapRows(t,e){(0,m.zb)(this,t),(0,m.zb)(this,e);for(let r=0;r<this.columns;r++){let n=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,n)}return this}getColumn(t){(0,m.bp)(this,t);let e=[];for(let r=0;r<this.rows;r++)e.push(this.get(r,t));return e}getColumnVector(t){return N.columnVector(this.getColumn(t))}setColumn(t,e){(0,m.bp)(this,t),e=(0,m.Um)(this,e);for(let r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}swapColumns(t,e){(0,m.bp)(this,t),(0,m.bp)(this,e);for(let r=0;r<this.rows;r++){let n=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,n)}return this}addRowVector(t){t=(0,m.on)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}subRowVector(t){t=(0,m.on)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}mulRowVector(t){t=(0,m.on)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}divRowVector(t){t=(0,m.on)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}addColumnVector(t){t=(0,m.Um)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}subColumnVector(t){t=(0,m.Um)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}mulColumnVector(t){t=(0,m.Um)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}divColumnVector(t){t=(0,m.Um)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}mulRow(t,e){(0,m.zb)(this,t);for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}mulColumn(t,e){(0,m.bp)(this,t);for(let r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[e]&&(t[e]=this.get(e,r));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}default:throw new Error(`invalid option: ${t}`)}}maxIndex(){(0,m.cT)(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.get(r,n)>t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[e]&&(t[e]=this.get(e,r));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}default:throw new Error(`invalid option: ${t}`)}}minIndex(){(0,m.cT)(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.get(r,n)<t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}maxRow(t){if((0,m.zb)(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}maxRowIndex(t){(0,m.zb)(this,t),(0,m.cT)(this);let e=this.get(t,0),r=[t,0];for(let n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n),r[1]=n);return r}minRow(t){if((0,m.zb)(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}minRowIndex(t){(0,m.zb)(this,t),(0,m.cT)(this);let e=this.get(t,0),r=[t,0];for(let n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n),r[1]=n);return r}maxColumn(t){if((0,m.bp)(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}maxColumnIndex(t){(0,m.bp)(this,t),(0,m.cT)(this);let e=this.get(0,t),r=[0,t];for(let n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t),r[0]=n);return r}minColumn(t){if((0,m.bp)(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}minColumnIndex(t){(0,m.bp)(this,t),(0,m.cT)(this);let e=this.get(0,t),r=[0,t];for(let n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t),r[0]=n);return r}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let r=0;r<t;r++)e.push(this.get(r,r));return e}norm(t="frobenius"){let e=0;if("max"===t)return this.max();if("frobenius"===t){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)e+=this.get(t,r)*this.get(t,r);return Math.sqrt(e)}throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}dot(t){O.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let r=0;for(let n=0;n<e.length;n++)r+=e[n]*t[n];return r}mmul(t){t=N.checkMatrix(t);let e=this.rows,r=this.columns,n=t.columns,i=new N(e,n),s=new Float64Array(r);for(let o=0;o<n;o++){for(let e=0;e<r;e++)s[e]=t.get(e,o);for(let t=0;t<e;t++){let e=0;for(let n=0;n<r;n++)e+=this.get(t,n)*s[n];i.set(t,o,e)}}return i}strassen2x2(t){t=N.checkMatrix(t);let e=new N(2,2);const r=this.get(0,0),n=t.get(0,0),i=this.get(0,1),s=t.get(0,1),o=this.get(1,0),a=t.get(1,0),l=this.get(1,1),h=t.get(1,1),u=(r+l)*(n+h),c=(o+l)*n,f=r*(s-h),d=l*(a-n),p=(r+i)*h,m=(o-r)*(n+s),g=(i-l)*(a+h),w=u+d-p+g,b=f+p,y=c+d,v=u-c+f+m;return e.set(0,0,w),e.set(0,1,b),e.set(1,0,y),e.set(1,1,v),e}strassen3x3(t){t=N.checkMatrix(t);let e=new N(3,3);const r=this.get(0,0),n=this.get(0,1),i=this.get(0,2),s=this.get(1,0),o=this.get(1,1),a=this.get(1,2),l=this.get(2,0),h=this.get(2,1),u=this.get(2,2),c=t.get(0,0),f=t.get(0,1),d=t.get(0,2),p=t.get(1,0),m=t.get(1,1),g=t.get(1,2),w=t.get(2,0),b=t.get(2,1),y=t.get(2,2),v=(r+n+i-s-o-h-u)*m,_=(r-s)*(-f+m),x=o*(-c+f+p-m-g-w+y),k=(-r+s+o)*(c-f+m),M=(s+o)*(-c+f),E=r*c,A=(-r+l+h)*(c-d+g),S=(-r+l)*(d-g),R=(l+h)*(-c+d),P=(r+n+i-o-a-l-h)*g,T=h*(-c+d+p-m-g-w+b),I=(-i+h+u)*(m+w-b),C=(i-u)*(m-b),D=i*w,O=(h+u)*(-w+b),B=(-i+o+a)*(g+w-y),U=(i-a)*(g-y),F=(o+a)*(-w+y),L=n*p,z=a*b,j=s*d,V=l*f,Y=u*y,X=E+D+L,G=v+k+M+E+I+D+O,q=E+A+R+P+D+B+F,$=_+x+k+E+D+B+U,H=_+k+M+E+z,Z=D+B+U+F+j,W=E+A+S+T+I+C+D,K=I+C+D+O+V,J=E+A+S+R+Y;return e.set(0,0,X),e.set(0,1,G),e.set(0,2,q),e.set(1,0,$),e.set(1,1,H),e.set(1,2,Z),e.set(2,0,W),e.set(2,1,K),e.set(2,2,J),e}mmulStrassen(t){t=N.checkMatrix(t);let e=this.clone(),r=e.rows,n=e.columns,i=t.rows,s=t.columns;function o(t,e,r){let n=t.rows,i=t.columns;if(n===e&&i===r)return t;{let n=O.zeros(e,r);return n=n.setSubMatrix(t,0,0),n}}n!==i&&console.warn(`Multiplying ${r} x ${n} and ${i} x ${s} matrix: dimensions do not match.`);let a=Math.max(r,i),l=Math.max(n,s);function h(t,e,r,n){if(r<=512||n<=512)return t.mmul(e);r%2===1&&n%2===1?(t=o(t,r+1,n+1),e=o(e,r+1,n+1)):r%2===1?(t=o(t,r+1,n),e=o(e,r+1,n)):n%2===1&&(t=o(t,r,n+1),e=o(e,r,n+1));let i=parseInt(t.rows/2,10),s=parseInt(t.columns/2,10),a=t.subMatrix(0,i-1,0,s-1),l=e.subMatrix(0,i-1,0,s-1),u=t.subMatrix(0,i-1,s,t.columns-1),c=e.subMatrix(0,i-1,s,e.columns-1),f=t.subMatrix(i,t.rows-1,0,s-1),d=e.subMatrix(i,e.rows-1,0,s-1),p=t.subMatrix(i,t.rows-1,s,t.columns-1),m=e.subMatrix(i,e.rows-1,s,e.columns-1),g=h(O.add(a,p),O.add(l,m),i,s),w=h(O.add(f,p),l,i,s),b=h(a,O.sub(c,m),i,s),y=h(p,O.sub(d,l),i,s),v=h(O.add(a,u),m,i,s),_=h(O.sub(f,a),O.add(l,c),i,s),x=h(O.sub(u,p),O.add(d,m),i,s),k=O.add(g,y);k.sub(v),k.add(x);let M=O.add(b,v),E=O.add(w,y),A=O.sub(g,w);A.add(b),A.add(_);let S=O.zeros(2*k.rows,2*k.columns);return S=S.setSubMatrix(k,0,0),S=S.setSubMatrix(M,k.rows,0),S=S.setSubMatrix(E,0,k.columns),S=S.setSubMatrix(A,k.rows,k.columns),S.subMatrix(0,r-1,0,n-1)}return e=o(e,a,l),t=o(t,a,l),h(e,t,a,l)}scaleRows(t={}){if("object"!==typeof t)throw new TypeError("options must be an object");const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(e>=r)throw new RangeError("min must be smaller than max");let n=new N(this.rows,this.columns);for(let i=0;i<this.rows;i++){const t=this.getRow(i);t.length>0&&o(t,{min:e,max:r,output:t}),n.setRow(i,t)}return n}scaleColumns(t={}){if("object"!==typeof t)throw new TypeError("options must be an object");const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(e>=r)throw new RangeError("min must be smaller than max");let n=new N(this.rows,this.columns);for(let i=0;i<this.columns;i++){const t=this.getColumn(i);t.length&&o(t,{min:e,max:r,output:t}),n.setColumn(i,t)}return n}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let r=0;r<t;r++){let t=this.get(e,r),n=this.get(e,this.columns-1-r);this.set(e,r,n),this.set(e,this.columns-1-r,t)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let r=0;r<t;r++){let t=this.get(r,e),n=this.get(this.rows-1-r,e);this.set(r,e,n),this.set(this.rows-1-r,e,t)}return this}kroneckerProduct(t){t=N.checkMatrix(t);let e=this.rows,r=this.columns,n=t.rows,i=t.columns,s=new N(e*n,r*i);for(let o=0;o<e;o++)for(let e=0;e<r;e++)for(let r=0;r<n;r++)for(let a=0;a<i;a++)s.set(n*o+r,i*e+a,this.get(o,e)*t.get(r,a));return s}kroneckerSum(t){if(t=N.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let e=this.rows,r=t.rows,n=this.kroneckerProduct(N.eye(r,r)),i=N.eye(e,e).kroneckerProduct(t);return n.add(i)}transpose(){let t=new N(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}sortRows(t=B){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=B){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,r,n){(0,m.J5)(this,t,e,r,n);let i=new N(e-t+1,n-r+1);for(let s=t;s<=e;s++)for(let e=r;e<=n;e++)i.set(s-t,e-r,this.get(s,e));return i}subMatrixRow(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let n=new N(t.length,r-e+1);for(let i=0;i<t.length;i++)for(let s=e;s<=r;s++){if(t[i]<0||t[i]>=this.rows)throw new RangeError(`Row index out of range: ${t[i]}`);n.set(i,s-e,this.get(t[i],s))}return n}subMatrixColumn(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let n=new N(r-e+1,t.length);for(let i=0;i<t.length;i++)for(let s=e;s<=r;s++){if(t[i]<0||t[i]>=this.columns)throw new RangeError(`Column index out of range: ${t[i]}`);n.set(s-e,i,this.get(s,t[i]))}return n}setSubMatrix(t,e,r){if(t=N.checkMatrix(t),t.isEmpty())return this;let n=e+t.rows-1,i=r+t.columns-1;(0,m.J5)(this,e,n,r,i);for(let s=0;s<t.rows;s++)for(let n=0;n<t.columns;n++)this.set(e+s,r+n,t.get(s,n));return this}selection(t,e){(0,m.ZR)(this,t),(0,m.g)(this,e);let r=new N(t.length,e.length);for(let n=0;n<t.length;n++){let i=t[n];for(let t=0;t<e.length;t++){let s=e[t];r.set(n,t,this.get(i,s))}}return r}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let r=0;r<t;r++)e+=this.get(r,r);return e}clone(){let t=new N(this.rows,this.columns);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.set(e,r,this.get(e,r));return t}sum(t){switch(t){case"row":return g(this);case"column":return w(this);case void 0:return b(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return y(this);case"column":return v(this);case void 0:return _(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,e={}){if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");const{unbiased:r=!0,mean:i=this.mean(t)}=e;if("boolean"!==typeof r)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!(0,n.N)(i))throw new TypeError("mean must be an array");return x(this,r,i);case"column":if(!(0,n.N)(i))throw new TypeError("mean must be an array");return k(this,r,i);case void 0:if("number"!==typeof i)throw new TypeError("mean must be a number");return M(this,r,i);default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"===typeof t&&(e=t,t=void 0);const r=this.variance(t,e);if(void 0===t)return Math.sqrt(r);for(let n=0;n<r.length;n++)r[n]=Math.sqrt(r[n]);return r}center(t,e={}){if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");const{center:r=this.mean(t)}=e;switch(t){case"row":if(!(0,n.N)(r))throw new TypeError("center must be an array");return E(this,r),this;case"column":if(!(0,n.N)(r))throw new TypeError("center must be an array");return A(this,r),this;case void 0:if("number"!==typeof r)throw new TypeError("center must be a number");return S(this,r),this;default:throw new Error(`invalid option: ${t}`)}}scale(t,e={}){if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");let r=e.scale;switch(t){case"row":if(void 0===r)r=R(this);else if(!(0,n.N)(r))throw new TypeError("scale must be an array");return P(this,r),this;case"column":if(void 0===r)r=T(this);else if(!(0,n.N)(r))throw new TypeError("scale must be an array");return I(this,r),this;case void 0:if(void 0===r)r=C(this);else if("number"!==typeof r)throw new TypeError("scale must be a number");return D(this,r),this;default:throw new Error(`invalid option: ${t}`)}}toString(t){return u(this,t)}}function B(t,e){return t-e}function U(t){return t.every((t=>"number"===typeof t))}O.prototype.klass="Matrix","undefined"!==typeof Symbol&&(O.prototype[Symbol.for("nodejs.util.inspect.custom")]=h),O.random=O.rand,O.randomInt=O.randInt,O.diagonal=O.diag,O.prototype.diagonal=O.prototype.diag,O.identity=O.eye,O.prototype.negate=O.prototype.neg,O.prototype.tensorProduct=O.prototype.kroneckerProduct;class N extends O{constructor(t,e){if(super(),N.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>=0){if(this.data=[],!(Number.isInteger(e)&&e>=0))throw new TypeError("nColumns must be a positive integer");for(let r=0;r<t;r++)this.data.push(new Float64Array(e))}else{if(!(0,n.N)(t))throw new TypeError("First argument must be a positive number or an array");{const r=t;if(t=r.length,e=t?r[0].length:0,"number"!==typeof e)throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let n=0;n<t;n++){if(r[n].length!==e)throw new RangeError("Inconsistent array dimensions");if(!U(r[n]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(r[n]))}}}this.rows=t,this.columns=e}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}removeRow(t){return(0,m.zb)(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),(0,m.zb)(this,t,!0),e=Float64Array.from((0,m.on)(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){(0,m.bp)(this,t);for(let e=0;e<this.rows;e++){const r=new Float64Array(this.columns-1);for(let n=0;n<t;n++)r[n]=this.data[e][n];for(let n=t+1;n<this.columns;n++)r[n-1]=this.data[e][n];this.data[e]=r}return this.columns-=1,this}addColumn(t,e){"undefined"===typeof e&&(e=t,t=this.columns),(0,m.bp)(this,t,!0),e=(0,m.Um)(this,e);for(let r=0;r<this.rows;r++){const n=new Float64Array(this.columns+1);let i=0;for(;i<t;i++)n[i]=this.data[r][i];for(n[i++]=e[r];i<this.columns+1;i++)n[i]=this.data[r][i-1];this.data[r]=n}return this.columns+=1,this}}p(O,N)},4896:function(t,e,r){"use strict";r.d(e,{B4:function(){return c},J5:function(){return u},Um:function(){return a},ZR:function(){return l},bp:function(){return s},cT:function(){return d},g:function(){return h},on:function(){return o},zb:function(){return i}});r(7658);var n=r(2273);function i(t,e,r){let n=r?t.rows:t.rows-1;if(e<0||e>n)throw new RangeError("Row index out of range")}function s(t,e,r){let n=r?t.columns:t.columns-1;if(e<0||e>n)throw new RangeError("Column index out of range")}function o(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function a(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function l(t,e){if(!(0,n.N)(e))throw new TypeError("row indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.rows)throw new RangeError("row indices are out of range")}function h(t,e){if(!(0,n.N)(e))throw new TypeError("column indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.columns)throw new RangeError("column indices are out of range")}function u(t,e,r,n,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(f("startRow",e),f("endRow",r),f("startColumn",n),f("endColumn",i),e>r||n>i||e<0||e>=t.rows||r<0||r>=t.rows||n<0||n>=t.columns||i<0||i>=t.columns)throw new RangeError("Submatrix indices are out of range")}function c(t,e=0){let r=[];for(let n=0;n<t;n++)r.push(e);return r}function f(t,e){if("number"!==typeof e)throw new TypeError(`${t} must be a number`)}function d(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}},1646:function(t,e,r){"use strict";r.d(e,{Z:function(){return i}});var n=r(6873);class i extends n.X{constructor(t,e,r){super(),this.matrix=t,this.rows=e,this.columns=r}}},5766:function(t,e,r){"use strict";r.d(e,{Z:function(){return i}});var n=r(1646);class i extends n.Z{constructor(t){super(t,t.columns,t.rows)}set(t,e,r){return this.matrix.set(e,t,r),this}get(t,e){return this.matrix.get(e,t)}}},6214:function(t,e,r){"use strict";r.d(e,{Z:function(){return i}});var n=r(6873);class i extends n.X{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}}},4670:function(t){function e(t,e){t=t||0;for(var r=new Array(t),n=0;n<t;n++)r[n]=e;return r}t.exports=e},4623:function(t){function e(t){return 0===t?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t+1)}t.exports=e},5330:function(t,e,r){"use strict";r(7658);var n=r(1533),i=r(3052),s=r(6258),o=r(2150),a=5,l=11102230246251565e-32,h=(3+16*l)*l,u=(7+56*l)*l;function c(t,e,r,n){return function(r,i,s){var o=t(t(e(i[1],s[0]),e(-s[1],i[0])),t(e(r[1],i[0]),e(-i[1],r[0]))),a=t(e(r[1],s[0]),e(-s[1],r[0])),l=n(o,a);return l[l.length-1]}}function f(t,e,r,n){return function(i,s,o,a){var l=t(t(r(t(e(o[1],a[0]),e(-a[1],o[0])),s[2]),t(r(t(e(s[1],a[0]),e(-a[1],s[0])),-o[2]),r(t(e(s[1],o[0]),e(-o[1],s[0])),a[2]))),t(r(t(e(s[1],a[0]),e(-a[1],s[0])),i[2]),t(r(t(e(i[1],a[0]),e(-a[1],i[0])),-s[2]),r(t(e(i[1],s[0]),e(-s[1],i[0])),a[2])))),h=t(t(r(t(e(o[1],a[0]),e(-a[1],o[0])),i[2]),t(r(t(e(i[1],a[0]),e(-a[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),a[2]))),t(r(t(e(s[1],o[0]),e(-o[1],s[0])),i[2]),t(r(t(e(i[1],o[0]),e(-o[1],i[0])),-s[2]),r(t(e(i[1],s[0]),e(-s[1],i[0])),o[2])))),u=n(l,h);return u[u.length-1]}}function d(t,e,r,n){return function(i,s,o,a,l){var h=t(t(t(r(t(r(t(e(a[1],l[0]),e(-l[1],a[0])),o[2]),t(r(t(e(o[1],l[0]),e(-l[1],o[0])),-a[2]),r(t(e(o[1],a[0]),e(-a[1],o[0])),l[2]))),s[3]),t(r(t(r(t(e(a[1],l[0]),e(-l[1],a[0])),s[2]),t(r(t(e(s[1],l[0]),e(-l[1],s[0])),-a[2]),r(t(e(s[1],a[0]),e(-a[1],s[0])),l[2]))),-o[3]),r(t(r(t(e(o[1],l[0]),e(-l[1],o[0])),s[2]),t(r(t(e(s[1],l[0]),e(-l[1],s[0])),-o[2]),r(t(e(s[1],o[0]),e(-o[1],s[0])),l[2]))),a[3]))),t(r(t(r(t(e(o[1],a[0]),e(-a[1],o[0])),s[2]),t(r(t(e(s[1],a[0]),e(-a[1],s[0])),-o[2]),r(t(e(s[1],o[0]),e(-o[1],s[0])),a[2]))),-l[3]),t(r(t(r(t(e(a[1],l[0]),e(-l[1],a[0])),s[2]),t(r(t(e(s[1],l[0]),e(-l[1],s[0])),-a[2]),r(t(e(s[1],a[0]),e(-a[1],s[0])),l[2]))),i[3]),r(t(r(t(e(a[1],l[0]),e(-l[1],a[0])),i[2]),t(r(t(e(i[1],l[0]),e(-l[1],i[0])),-a[2]),r(t(e(i[1],a[0]),e(-a[1],i[0])),l[2]))),-s[3])))),t(t(r(t(r(t(e(s[1],l[0]),e(-l[1],s[0])),i[2]),t(r(t(e(i[1],l[0]),e(-l[1],i[0])),-s[2]),r(t(e(i[1],s[0]),e(-s[1],i[0])),l[2]))),a[3]),t(r(t(r(t(e(s[1],a[0]),e(-a[1],s[0])),i[2]),t(r(t(e(i[1],a[0]),e(-a[1],i[0])),-s[2]),r(t(e(i[1],s[0]),e(-s[1],i[0])),a[2]))),-l[3]),r(t(r(t(e(o[1],a[0]),e(-a[1],o[0])),s[2]),t(r(t(e(s[1],a[0]),e(-a[1],s[0])),-o[2]),r(t(e(s[1],o[0]),e(-o[1],s[0])),a[2]))),i[3]))),t(r(t(r(t(e(o[1],a[0]),e(-a[1],o[0])),i[2]),t(r(t(e(i[1],a[0]),e(-a[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),a[2]))),-s[3]),t(r(t(r(t(e(s[1],a[0]),e(-a[1],s[0])),i[2]),t(r(t(e(i[1],a[0]),e(-a[1],i[0])),-s[2]),r(t(e(i[1],s[0]),e(-s[1],i[0])),a[2]))),o[3]),r(t(r(t(e(s[1],o[0]),e(-o[1],s[0])),i[2]),t(r(t(e(i[1],o[0]),e(-o[1],i[0])),-s[2]),r(t(e(i[1],s[0]),e(-s[1],i[0])),o[2]))),-a[3]))))),u=t(t(t(r(t(r(t(e(a[1],l[0]),e(-l[1],a[0])),o[2]),t(r(t(e(o[1],l[0]),e(-l[1],o[0])),-a[2]),r(t(e(o[1],a[0]),e(-a[1],o[0])),l[2]))),i[3]),r(t(r(t(e(a[1],l[0]),e(-l[1],a[0])),i[2]),t(r(t(e(i[1],l[0]),e(-l[1],i[0])),-a[2]),r(t(e(i[1],a[0]),e(-a[1],i[0])),l[2]))),-o[3])),t(r(t(r(t(e(o[1],l[0]),e(-l[1],o[0])),i[2]),t(r(t(e(i[1],l[0]),e(-l[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),l[2]))),a[3]),r(t(r(t(e(o[1],a[0]),e(-a[1],o[0])),i[2]),t(r(t(e(i[1],a[0]),e(-a[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),a[2]))),-l[3]))),t(t(r(t(r(t(e(o[1],l[0]),e(-l[1],o[0])),s[2]),t(r(t(e(s[1],l[0]),e(-l[1],s[0])),-o[2]),r(t(e(s[1],o[0]),e(-o[1],s[0])),l[2]))),i[3]),r(t(r(t(e(o[1],l[0]),e(-l[1],o[0])),i[2]),t(r(t(e(i[1],l[0]),e(-l[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),l[2]))),-s[3])),t(r(t(r(t(e(s[1],l[0]),e(-l[1],s[0])),i[2]),t(r(t(e(i[1],l[0]),e(-l[1],i[0])),-s[2]),r(t(e(i[1],s[0]),e(-s[1],i[0])),l[2]))),o[3]),r(t(r(t(e(s[1],o[0]),e(-o[1],s[0])),i[2]),t(r(t(e(i[1],o[0]),e(-o[1],i[0])),-s[2]),r(t(e(i[1],s[0]),e(-s[1],i[0])),o[2]))),-l[3])))),c=n(h,u);return c[c.length-1]}}function p(t){var e=3===t?c:4===t?f:d;return e(i,n,s,o)}var m=p(3),g=p(4),w=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,r){var n,i=(t[1]-r[1])*(e[0]-r[0]),s=(t[0]-r[0])*(e[1]-r[1]),o=i-s;if(i>0){if(s<=0)return o;n=i+s}else{if(!(i<0))return o;if(s>=0)return o;n=-(i+s)}var a=h*n;return o>=a||o<=-a?o:m(t,e,r)},function(t,e,r,n){var i=t[0]-n[0],s=e[0]-n[0],o=r[0]-n[0],a=t[1]-n[1],l=e[1]-n[1],h=r[1]-n[1],c=t[2]-n[2],f=e[2]-n[2],d=r[2]-n[2],p=s*h,m=o*l,w=o*a,b=i*h,y=i*l,v=s*a,_=c*(p-m)+f*(w-b)+d*(y-v),x=(Math.abs(p)+Math.abs(m))*Math.abs(c)+(Math.abs(w)+Math.abs(b))*Math.abs(f)+(Math.abs(y)+Math.abs(v))*Math.abs(d),k=u*x;return _>k||-_>k?_:g(t,e,r,n)}];function b(t){var e=w[t.length];return e||(e=w[t.length]=p(t.length)),e.apply(void 0,t)}function y(t,e,r,n,i,s,o){return function(e,r,a,l,h){switch(arguments.length){case 0:case 1:return 0;case 2:return n(e,r);case 3:return i(e,r,a);case 4:return s(e,r,a,l);case 5:return o(e,r,a,l,h)}for(var u=new Array(arguments.length),c=0;c<arguments.length;++c)u[c]=arguments[c];return t(u)}}function v(){while(w.length<=a)w.push(p(w.length));t.exports=y.apply(void 0,[b].concat(w));for(var e=0;e<=a;++e)t.exports[e]=w[e]}v()},9339:function(t,e,r){t.exports=i;var n=r(5330);function i(t,e){for(var r=e[0],i=e[1],s=t.length,o=1,a=s,l=0,h=s-1;l<a;h=l++){var u=t[l],c=t[h],f=u[1],d=c[1];if(d<f){if(d<i&&i<f){var p=n(u,c,e);if(0===p)return 0;o^=0<p|0}else if(i===f){var m=t[(l+1)%s],g=m[1];if(f<g){p=n(u,c,e);if(0===p)return 0;o^=0<p|0}}}else if(f<d){if(f<i&&i<d){p=n(u,c,e);if(0===p)return 0;o^=p<0|0}else if(i===f){m=t[(l+1)%s],g=m[1];if(g<f){p=n(u,c,e);if(0===p)return 0;o^=p<0|0}}}else if(i===f){var w=Math.min(u[0],c[0]),b=Math.max(u[0],c[0]);if(0===l){while(h>0){var y=(h+s-1)%s,v=t[y];if(v[1]!==i)break;var _=v[0];w=Math.min(w,_),b=Math.max(b,_),h=y}if(0===h)return w<=r&&r<=b?0:1;a=h+1}var x=t[(h+s-1)%s][1];while(l+1<a){v=t[l+1];if(v[1]!==i)break;_=v[0];w=Math.min(w,_),b=Math.max(b,_),l+=1}if(w<=r&&r<=b)return 0;var k=t[(l+1)%s][1];r<w&&x<i!==k<i&&(o^=1)}}return 2*o-1}},6258:function(t,e,r){"use strict";var n=r(1533),i=r(558);function s(t,e){var r=t.length;if(1===r){var s=n(t[0],e);return s[0]?s:[s[1]]}var o=new Array(2*r),a=[.1,.1],l=[.1,.1],h=0;n(t[0],e,a),a[0]&&(o[h++]=a[0]);for(var u=1;u<r;++u){n(t[u],e,l);var c=a[1];i(c,l[0],a),a[0]&&(o[h++]=a[0]);var f=l[1],d=a[1],p=f+d,m=p-f,g=d-m;a[1]=p,g&&(o[h++]=g)}return a[1]&&(o[h++]=a[1]),0===h&&(o[h++]=0),o.length=h,o}t.exports=s},2150:function(t){"use strict";function e(t,e){var r=t+e,n=r-t,i=r-n,s=e-n,o=t-i,a=o+s;return a?[a,r]:[r]}function r(t,r){var n=0|t.length,i=0|r.length;if(1===n&&1===i)return e(t[0],-r[0]);var s,o,a=n+i,l=new Array(a),h=0,u=0,c=0,f=Math.abs,d=t[u],p=f(d),m=-r[c],g=f(m);p<g?(o=d,u+=1,u<n&&(d=t[u],p=f(d))):(o=m,c+=1,c<i&&(m=-r[c],g=f(m))),u<n&&p<g||c>=i?(s=d,u+=1,u<n&&(d=t[u],p=f(d))):(s=m,c+=1,c<i&&(m=-r[c],g=f(m)));var w,b,y,v,_,x=s+o,k=x-s,M=o-k,E=M,A=x;while(u<n&&c<i)p<g?(s=d,u+=1,u<n&&(d=t[u],p=f(d))):(s=m,c+=1,c<i&&(m=-r[c],g=f(m))),o=E,x=s+o,k=x-s,M=o-k,M&&(l[h++]=M),w=A+x,b=w-A,y=w-b,v=x-b,_=A-y,E=_+v,A=w;while(u<n)s=d,o=E,x=s+o,k=x-s,M=o-k,M&&(l[h++]=M),w=A+x,b=w-A,y=w-b,v=x-b,_=A-y,E=_+v,A=w,u+=1,u<n&&(d=t[u]);while(c<i)s=m,o=E,x=s+o,k=x-s,M=o-k,M&&(l[h++]=M),w=A+x,b=w-A,y=w-b,v=x-b,_=A-y,E=_+v,A=w,c+=1,c<i&&(m=-r[c]);return E&&(l[h++]=E),A&&(l[h++]=A),h||(l[h++]=0),l.length=h,l}t.exports=r},3052:function(t){"use strict";function e(t,e){var r=t+e,n=r-t,i=r-n,s=e-n,o=t-i,a=o+s;return a?[a,r]:[r]}function r(t,r){var n=0|t.length,i=0|r.length;if(1===n&&1===i)return e(t[0],r[0]);var s,o,a=n+i,l=new Array(a),h=0,u=0,c=0,f=Math.abs,d=t[u],p=f(d),m=r[c],g=f(m);p<g?(o=d,u+=1,u<n&&(d=t[u],p=f(d))):(o=m,c+=1,c<i&&(m=r[c],g=f(m))),u<n&&p<g||c>=i?(s=d,u+=1,u<n&&(d=t[u],p=f(d))):(s=m,c+=1,c<i&&(m=r[c],g=f(m)));var w,b,y,v,_,x=s+o,k=x-s,M=o-k,E=M,A=x;while(u<n&&c<i)p<g?(s=d,u+=1,u<n&&(d=t[u],p=f(d))):(s=m,c+=1,c<i&&(m=r[c],g=f(m))),o=E,x=s+o,k=x-s,M=o-k,M&&(l[h++]=M),w=A+x,b=w-A,y=w-b,v=x-b,_=A-y,E=_+v,A=w;while(u<n)s=d,o=E,x=s+o,k=x-s,M=o-k,M&&(l[h++]=M),w=A+x,b=w-A,y=w-b,v=x-b,_=A-y,E=_+v,A=w,u+=1,u<n&&(d=t[u]);while(c<i)s=m,o=E,x=s+o,k=x-s,M=o-k,M&&(l[h++]=M),w=A+x,b=w-A,y=w-b,v=x-b,_=A-y,E=_+v,A=w,c+=1,c<i&&(m=r[c]);return E&&(l[h++]=E),A&&(l[h++]=A),h||(l[h++]=0),l.length=h,l}t.exports=r},1533:function(t){"use strict";t.exports=r;var e=+(Math.pow(2,27)+1);function r(t,r,n){var i=t*r,s=e*t,o=s-t,a=s-o,l=t-a,h=e*r,u=h-r,c=h-u,f=r-c,d=i-a*c,p=d-l*c,m=p-a*f,g=l*f-m;return n?(n[0]=g,n[1]=i,n):[g,i]}},558:function(t){"use strict";function e(t,e,r){var n=t+e,i=n-t,s=n-i,o=e-i,a=t-s;return r?(r[0]=a+o,r[1]=n,r):[a+o,n]}t.exports=e},89:function(t,e){"use strict";e.Z=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r}},4877:function(t,e,r){"use strict";r(6229),r(7330),r(2062),r(7658);var n=r(1713),i=navigator.hardwareConcurrency||1;Function.prototype;function s(t,e){if("string"!==typeof t&&"function"!==typeof t)throw new TypeError("func argument must be a function");if(void 0===e&&(e={}),"object"!==typeof e||null===e)throw new TypeError("options argument must be an object");this._workerCode=t.toString(),void 0===e.maxWorkers||"auto"===e.maxWorkers?this._numWorkers=Math.min(i-1,1):e.maxWorkers>0?this._numWorkers=Math.min(e.maxWorkers,i):this._numWorkers=i,this._workers=new Map,this._timeout=e.timeout||0,this._terminateOnError=!!e.terminateOnError;var r=e.deps;"string"===typeof r&&(r=[r]),Array.isArray(r)||(r=void 0),this._id=0,this._terminated=!1,this._working=0,this._waiting=[],this._init(r)}s.prototype._init=function(t){for(var e=n.newWorkerURL(this._workerCode,t),r=0;r<this._numWorkers;r++){var i=new Worker(e);i.onmessage=this._onmessage.bind(this,i),i.onerror=this._onerror.bind(this,i),i.running=!1,i.id=r,this._workers.set(i,null)}URL.revokeObjectURL(e)},s.prototype._onerror=function(t,e){if(!this._terminated){this._working--,t.running=!1;var r=this._workers.get(t);r&&r[1](e.message),this._workers.set(t,null),this._terminateOnError?this.terminate():this._exec()}},s.prototype._onmessage=function(t,e){if(!this._terminated){this._working--,t.running=!1;var r=this._workers.get(t);r&&r[0](e.data.data),this._workers.set(t,null),this._exec()}},s.prototype._exec=function(){for(var t of this._workers.keys()){if(this._working===this._numWorkers||0===this._waiting.length)return;if(!t.running)for(var e=0;e<this._waiting.length;e++){var r=this._waiting[e];if("number"!==typeof r[4]||r[4]===t.id){this._waiting.splice(e,1),t.postMessage({action:"exec",event:r[0],args:r[1]},r[2]),t.running=!0,t.time=Date.now(),this._workers.set(t,r[3]),this._working++;break}}}},s.prototype.terminate=function(){if(!this._terminated){for(var t of this._workers)t[0].terminate(),t[1]&&t[1][1](new Error("Terminated"));this._workers.clear(),this._waiting=[],this._working=0,this._terminated=!0}},s.prototype.postAll=function(t,e){if(this._terminated)throw new Error("Cannot post (terminated)");var r=[];for(var n of this._workers.keys())r.push(this.post(t,e,[],n.id));return Promise.all(r)},s.prototype.post=function(t,e,r,n){void 0===e&&(e=[]),void 0===r&&(r=[]),Array.isArray(e)||(e=[e]),Array.isArray(r)||(r=[r]);var i=this;return new Promise((function(s,o){if(i._terminated)throw new Error("Cannot post (terminated)");i._waiting.push([t,e,r,[s,o],n]),i._exec()}))},t.exports=s},1713:function(t,e,r){"use strict";r(6229),r(7330),r(2062);var n=function(){self.window=self;function t(){this._listeners={}}t.prototype.on=function(t,e){if(this._listeners[t])throw new RangeError("there is already a listener for "+t);if("function"!==typeof e)throw new TypeError("callback argument must be a function");this._listeners[t]=e},t.prototype._send=function(t,e,r){void 0===r?r=[]:Array.isArray(r)||(r=[r]),self.postMessage({id:t,data:e},r)},t.prototype._trigger=function(t,e){if(!this._listeners[t])throw new Error("event "+t+" is not defined");this._listeners[t].apply(null,e)};var e=new t;self.onmessage=function(t){switch(t.data.action){case"exec":t.data.args.unshift((function(r,n){e._send(t.data.id,r,n)})),e._trigger(t.data.event,t.data.args);break;case"ping":e._send(t.data.id,"pong");break;default:throw new Error("unexpected action: "+t.data.action)}}},i=n.toString().split('"CODE";');e.newWorkerURL=function(t,e){var r=new Blob(["(",i[0],"importScripts.apply(self, "+JSON.stringify(e)+");\n","(",t,")();",i[1],")();"],{type:"application/javascript"});return URL.createObjectURL(r)}},4161:function(t,e,r){"use strict";r.d(e,{Z:function(){return Fe}});r(1439),r(7585),r(5315),r(7658);function n(t,e){return function(){return t.apply(e,arguments)}}const{toString:i}=Object.prototype,{getPrototypeOf:s}=Object,o=(t=>e=>{const r=i.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),a=t=>(t=t.toLowerCase(),e=>o(e)===t),l=t=>e=>typeof e===t,{isArray:h}=Array,u=l("undefined");function c(t){return null!==t&&!u(t)&&null!==t.constructor&&!u(t.constructor)&&m(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const f=a("ArrayBuffer");function d(t){let e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&f(t.buffer),e}const p=l("string"),m=l("function"),g=l("number"),w=t=>null!==t&&"object"===typeof t,b=t=>!0===t||!1===t,y=t=>{if("object"!==o(t))return!1;const e=s(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},v=a("Date"),_=a("File"),x=a("Blob"),k=a("FileList"),M=t=>w(t)&&m(t.pipe),E=t=>{let e;return t&&("function"===typeof FormData&&t instanceof FormData||m(t.append)&&("formdata"===(e=o(t))||"object"===e&&m(t.toString)&&"[object FormData]"===t.toString()))},A=a("URLSearchParams"),S=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function R(t,e,{allOwnKeys:r=!1}={}){if(null===t||"undefined"===typeof t)return;let n,i;if("object"!==typeof t&&(t=[t]),h(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let o;for(n=0;n<s;n++)o=i[n],e.call(null,t[o],o,t)}}function P(t,e){e=e.toLowerCase();const r=Object.keys(t);let n,i=r.length;while(i-- >0)if(n=r[i],e===n.toLowerCase())return n;return null}const T=(()=>"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global)(),I=t=>!u(t)&&t!==T;function C(){const{caseless:t}=I(this)&&this||{},e={},r=(r,n)=>{const i=t&&P(e,n)||n;y(e[i])&&y(r)?e[i]=C(e[i],r):y(r)?e[i]=C({},r):h(r)?e[i]=r.slice():e[i]=r};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&R(arguments[n],r);return e}const D=(t,e,r,{allOwnKeys:i}={})=>(R(e,((e,i)=>{r&&m(e)?t[i]=n(e,r):t[i]=e}),{allOwnKeys:i}),t),O=t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),B=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},U=(t,e,r,n)=>{let i,o,a;const l={};if(e=e||{},null==t)return e;do{i=Object.getOwnPropertyNames(t),o=i.length;while(o-- >0)a=i[o],n&&!n(a,t,e)||l[a]||(e[a]=t[a],l[a]=!0);t=!1!==r&&s(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},N=(t,e,r)=>{t=String(t),(void 0===r||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return-1!==n&&n===r},F=t=>{if(!t)return null;if(h(t))return t;let e=t.length;if(!g(e))return null;const r=new Array(e);while(e-- >0)r[e]=t[e];return r},L=(t=>e=>t&&e instanceof t)("undefined"!==typeof Uint8Array&&s(Uint8Array)),z=(t,e)=>{const r=t&&t[Symbol.iterator],n=r.call(t);let i;while((i=n.next())&&!i.done){const r=i.value;e.call(t,r[0],r[1])}},j=(t,e)=>{let r;const n=[];while(null!==(r=t.exec(e)))n.push(r);return n},V=a("HTMLFormElement"),Y=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,r){return e.toUpperCase()+r})),X=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),G=a("RegExp"),q=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};R(r,((r,i)=>{!1!==e(r,i,t)&&(n[i]=r)})),Object.defineProperties(t,n)},$=t=>{q(t,((e,r)=>{if(m(t)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=t[r];m(n)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},H=(t,e)=>{const r={},n=t=>{t.forEach((t=>{r[t]=!0}))};return h(t)?n(t):n(String(t).split(e)),r},Z=()=>{},W=(t,e)=>(t=+t,Number.isFinite(t)?t:e),K="abcdefghijklmnopqrstuvwxyz",J="0123456789",Q={DIGIT:J,ALPHA:K,ALPHA_DIGIT:K+K.toUpperCase()+J},tt=(t=16,e=Q.ALPHA_DIGIT)=>{let r="";const{length:n}=e;while(t--)r+=e[Math.random()*n|0];return r};function et(t){return!!(t&&m(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])}const rt=t=>{const e=new Array(10),r=(t,n)=>{if(w(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[n]=t;const i=h(t)?[]:{};return R(t,((t,e)=>{const s=r(t,n+1);!u(s)&&(i[e]=s)})),e[n]=void 0,i}}return t};return r(t,0)},nt=a("AsyncFunction"),it=t=>t&&(w(t)||m(t))&&m(t.then)&&m(t.catch);var st={isArray:h,isArrayBuffer:f,isBuffer:c,isFormData:E,isArrayBufferView:d,isString:p,isNumber:g,isBoolean:b,isObject:w,isPlainObject:y,isUndefined:u,isDate:v,isFile:_,isBlob:x,isRegExp:G,isFunction:m,isStream:M,isURLSearchParams:A,isTypedArray:L,isFileList:k,forEach:R,merge:C,extend:D,trim:S,stripBOM:O,inherits:B,toFlatObject:U,kindOf:o,kindOfTest:a,endsWith:N,toArray:F,forEachEntry:z,matchAll:j,isHTMLForm:V,hasOwnProperty:X,hasOwnProp:X,reduceDescriptors:q,freezeMethods:$,toObjectSet:H,toCamelCase:Y,noop:Z,toFiniteNumber:W,findKey:P,global:T,isContextDefined:I,ALPHABET:Q,generateString:tt,isSpecCompliantForm:et,toJSONObject:rt,isAsyncFn:nt,isThenable:it};function ot(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}st.inherits(ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:st.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const at=ot.prototype,lt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{lt[t]={value:t}})),Object.defineProperties(ot,lt),Object.defineProperty(at,"isAxiosError",{value:!0}),ot.from=(t,e,r,n,i,s)=>{const o=Object.create(at);return st.toFlatObject(t,o,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),ot.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};var ht=ot,ut=null;function ct(t){return st.isPlainObject(t)||st.isArray(t)}function ft(t){return st.endsWith(t,"[]")?t.slice(0,-2):t}function dt(t,e,r){return t?t.concat(e).map((function(t,e){return t=ft(t),!r&&e?"["+t+"]":t})).join(r?".":""):e}function pt(t){return st.isArray(t)&&!t.some(ct)}const mt=st.toFlatObject(st,{},null,(function(t){return/^is[A-Z]/.test(t)}));function gt(t,e,r){if(!st.isObject(t))throw new TypeError("target must be an object");e=e||new(ut||FormData),r=st.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!st.isUndefined(e[t])}));const n=r.metaTokens,i=r.visitor||u,s=r.dots,o=r.indexes,a=r.Blob||"undefined"!==typeof Blob&&Blob,l=a&&st.isSpecCompliantForm(e);if(!st.isFunction(i))throw new TypeError("visitor must be a function");function h(t){if(null===t)return"";if(st.isDate(t))return t.toISOString();if(!l&&st.isBlob(t))throw new ht("Blob is not supported. Use a Buffer instead.");return st.isArrayBuffer(t)||st.isTypedArray(t)?l&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function u(t,r,i){let a=t;if(t&&!i&&"object"===typeof t)if(st.endsWith(r,"{}"))r=n?r:r.slice(0,-2),t=JSON.stringify(t);else if(st.isArray(t)&&pt(t)||(st.isFileList(t)||st.endsWith(r,"[]"))&&(a=st.toArray(t)))return r=ft(r),a.forEach((function(t,n){!st.isUndefined(t)&&null!==t&&e.append(!0===o?dt([r],n,s):null===o?r:r+"[]",h(t))})),!1;return!!ct(t)||(e.append(dt(i,r,s),h(t)),!1)}const c=[],f=Object.assign(mt,{defaultVisitor:u,convertValue:h,isVisitable:ct});function d(t,r){if(!st.isUndefined(t)){if(-1!==c.indexOf(t))throw Error("Circular reference detected in "+r.join("."));c.push(t),st.forEach(t,(function(t,n){const s=!(st.isUndefined(t)||null===t)&&i.call(e,t,st.isString(n)?n.trim():n,r,f);!0===s&&d(t,r?r.concat(n):[n])})),c.pop()}}if(!st.isObject(t))throw new TypeError("data must be an object");return d(t),e}var wt=gt;function bt(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function yt(t,e){this._pairs=[],t&&wt(t,this,e)}const vt=yt.prototype;vt.append=function(t,e){this._pairs.push([t,e])},vt.toString=function(t){const e=t?function(e){return t.call(this,e,bt)}:bt;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var _t=yt;function xt(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kt(t,e,r){if(!e)return t;const n=r&&r.encode||xt,i=r&&r.serialize;let s;if(s=i?i(e,r):st.isURLSearchParams(e)?e.toString():new _t(e,r).toString(n),s){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}class Mt{constructor(){this.handlers=[]}use(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){st.forEach(this.handlers,(function(e){null!==e&&t(e)}))}}var Et=Mt,At={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},St=(r(6229),r(7330),r(2062),"undefined"!==typeof URLSearchParams?URLSearchParams:_t),Rt="undefined"!==typeof FormData?FormData:null,Pt="undefined"!==typeof Blob?Blob:null;const Tt=(()=>{let t;return("undefined"===typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&("undefined"!==typeof window&&"undefined"!==typeof document)})(),It=(()=>"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts)();var Ct={isBrowser:!0,classes:{URLSearchParams:St,FormData:Rt,Blob:Pt},isStandardBrowserEnv:Tt,isStandardBrowserWebWorkerEnv:It,protocols:["http","https","file","blob","url","data"]};function Dt(t,e){return wt(t,new Ct.classes.URLSearchParams,Object.assign({visitor:function(t,e,r,n){return Ct.isNode&&st.isBuffer(t)?(this.append(e,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}function Ot(t){return st.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}function Bt(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function Ut(t){function e(t,r,n,i){let s=t[i++];const o=Number.isFinite(+s),a=i>=t.length;if(s=!s&&st.isArray(n)?n.length:s,a)return st.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!o;n[s]&&st.isObject(n[s])||(n[s]=[]);const l=e(t,r,n[s],i);return l&&st.isArray(n[s])&&(n[s]=Bt(n[s])),!o}if(st.isFormData(t)&&st.isFunction(t.entries)){const r={};return st.forEachEntry(t,((t,n)=>{e(Ot(t),n,r,0)})),r}return null}var Nt=Ut;const Ft={"Content-Type":void 0};function Lt(t,e,r){if(st.isString(t))try{return(e||JSON.parse)(t),st.trim(t)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(t)}const zt={transitional:At,adapter:["xhr","http"],transformRequest:[function(t,e){const r=e.getContentType()||"",n=r.indexOf("application/json")>-1,i=st.isObject(t);i&&st.isHTMLForm(t)&&(t=new FormData(t));const s=st.isFormData(t);if(s)return n&&n?JSON.stringify(Nt(t)):t;if(st.isArrayBuffer(t)||st.isBuffer(t)||st.isStream(t)||st.isFile(t)||st.isBlob(t))return t;if(st.isArrayBufferView(t))return t.buffer;if(st.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Dt(t,this.formSerializer).toString();if((o=st.isFileList(t))||r.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return wt(o?{"files[]":t}:t,e&&new e,this.formSerializer)}}return i||n?(e.setContentType("application/json",!1),Lt(t)):t}],transformResponse:[function(t){const e=this.transitional||zt.transitional,r=e&&e.forcedJSONParsing,n="json"===this.responseType;if(t&&st.isString(t)&&(r&&!this.responseType||n)){const r=e&&e.silentJSONParsing,s=!r&&n;try{return JSON.parse(t)}catch(i){if(s){if("SyntaxError"===i.name)throw ht.from(i,ht.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ct.classes.FormData,Blob:Ct.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};st.forEach(["delete","get","head"],(function(t){zt.headers[t]={}})),st.forEach(["post","put","patch"],(function(t){zt.headers[t]=st.merge(Ft)}));var jt=zt;const Vt=st.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Yt=t=>{const e={};let r,n,i;return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),r=t.substring(0,i).trim().toLowerCase(),n=t.substring(i+1).trim(),!r||e[r]&&Vt[r]||("set-cookie"===r?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)})),e};const Xt=Symbol("internals");function Gt(t){return t&&String(t).trim().toLowerCase()}function qt(t){return!1===t||null==t?t:st.isArray(t)?t.map(qt):String(t)}function $t(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;while(n=r.exec(t))e[n[1]]=n[2];return e}const Ht=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Zt(t,e,r,n,i){return st.isFunction(n)?n.call(this,e,r):(i&&(e=r),st.isString(e)?st.isString(n)?-1!==e.indexOf(n):st.isRegExp(n)?n.test(e):void 0:void 0)}function Wt(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,r)=>e.toUpperCase()+r))}function Kt(t,e){const r=st.toCamelCase(" "+e);["get","set","has"].forEach((n=>{Object.defineProperty(t,n+r,{value:function(t,r,i){return this[n].call(this,e,t,r,i)},configurable:!0})}))}class Jt{constructor(t){t&&this.set(t)}set(t,e,r){const n=this;function i(t,e,r){const i=Gt(e);if(!i)throw new Error("header name must be a non-empty string");const s=st.findKey(n,i);(!s||void 0===n[s]||!0===r||void 0===r&&!1!==n[s])&&(n[s||e]=qt(t))}const s=(t,e)=>st.forEach(t,((t,r)=>i(t,r,e)));return st.isPlainObject(t)||t instanceof this.constructor?s(t,e):st.isString(t)&&(t=t.trim())&&!Ht(t)?s(Yt(t),e):null!=t&&i(e,t,r),this}get(t,e){if(t=Gt(t),t){const r=st.findKey(this,t);if(r){const t=this[r];if(!e)return t;if(!0===e)return $t(t);if(st.isFunction(e))return e.call(this,t,r);if(st.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Gt(t),t){const r=st.findKey(this,t);return!(!r||void 0===this[r]||e&&!Zt(this,this[r],r,e))}return!1}delete(t,e){const r=this;let n=!1;function i(t){if(t=Gt(t),t){const i=st.findKey(r,t);!i||e&&!Zt(r,r[i],i,e)||(delete r[i],n=!0)}}return st.isArray(t)?t.forEach(i):i(t),n}clear(t){const e=Object.keys(this);let r=e.length,n=!1;while(r--){const i=e[r];t&&!Zt(this,this[i],i,t,!0)||(delete this[i],n=!0)}return n}normalize(t){const e=this,r={};return st.forEach(this,((n,i)=>{const s=st.findKey(r,i);if(s)return e[s]=qt(n),void delete e[i];const o=t?Wt(i):String(i).trim();o!==i&&delete e[i],e[o]=qt(n),r[o]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return st.forEach(this,((r,n)=>{null!=r&&!1!==r&&(e[n]=t&&st.isArray(r)?r.join(", "):r)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const r=new this(t);return e.forEach((t=>r.set(t))),r}static accessor(t){const e=this[Xt]=this[Xt]={accessors:{}},r=e.accessors,n=this.prototype;function i(t){const e=Gt(t);r[e]||(Kt(n,t),r[e]=!0)}return st.isArray(t)?t.forEach(i):i(t),this}}Jt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),st.freezeMethods(Jt.prototype),st.freezeMethods(Jt);var Qt=Jt;function te(t,e){const r=this||jt,n=e||r,i=Qt.from(n.headers);let s=n.data;return st.forEach(t,(function(t){s=t.call(r,s,i.normalize(),e?e.status:void 0)})),i.normalize(),s}function ee(t){return!(!t||!t.__CANCEL__)}function re(t,e,r){ht.call(this,null==t?"canceled":t,ht.ERR_CANCELED,e,r),this.name="CanceledError"}st.inherits(re,ht,{__CANCEL__:!0});var ne=re;r(2801);function ie(t,e,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(new ht("Request failed with status code "+r.status,[ht.ERR_BAD_REQUEST,ht.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):t(r)}var se=Ct.isStandardBrowserEnv?function(){return{write:function(t,e,r,n,i,s){const o=[];o.push(t+"="+encodeURIComponent(e)),st.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),st.isString(n)&&o.push("path="+n),st.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function oe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ae(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function le(t,e){return t&&!oe(e)?ae(t,e):e}var he=Ct.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let r;function n(r){let n=r;return t&&(e.setAttribute("href",n),n=e.href),e.setAttribute("href",n),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return r=n(window.location.href),function(t){const e=st.isString(t)?n(t):t;return e.protocol===r.protocol&&e.host===r.host}}():function(){return function(){return!0}}();function ue(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ce(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i,s=0,o=0;return e=void 0!==e?e:1e3,function(a){const l=Date.now(),h=n[o];i||(i=l),r[s]=a,n[s]=l;let u=o,c=0;while(u!==s)c+=r[u++],u%=t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),l-i<e)return;const f=h&&l-h;return f?Math.round(1e3*c/f):void 0}}var fe=ce;function de(t,e){let r=0;const n=fe(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-r,l=n(a),h=s<=o;r=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&h?(o-s)/l:void 0,event:i};u[e?"download":"upload"]=!0,t(u)}}const pe="undefined"!==typeof XMLHttpRequest;var me=pe&&function(t){return new Promise((function(e,r){let n=t.data;const i=Qt.from(t.headers).normalize(),s=t.responseType;let o;function a(){t.cancelToken&&t.cancelToken.unsubscribe(o),t.signal&&t.signal.removeEventListener("abort",o)}st.isFormData(n)&&(Ct.isStandardBrowserEnv||Ct.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let l=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",r=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(e+":"+r))}const h=le(t.baseURL,t.url);function u(){if(!l)return;const n=Qt.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),i=s&&"text"!==s&&"json"!==s?l.response:l.responseText,o={data:i,status:l.status,statusText:l.statusText,headers:n,config:t,request:l};ie((function(t){e(t),a()}),(function(t){r(t),a()}),o),l=null}if(l.open(t.method.toUpperCase(),kt(h,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,"onloadend"in l?l.onloadend=u:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(u)},l.onabort=function(){l&&(r(new ht("Request aborted",ht.ECONNABORTED,t,l)),l=null)},l.onerror=function(){r(new ht("Network Error",ht.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const n=t.transitional||At;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(new ht(e,n.clarifyTimeoutError?ht.ETIMEDOUT:ht.ECONNABORTED,t,l)),l=null},Ct.isStandardBrowserEnv){const e=(t.withCredentials||he(h))&&t.xsrfCookieName&&se.read(t.xsrfCookieName);e&&i.set(t.xsrfHeaderName,e)}void 0===n&&i.setContentType(null),"setRequestHeader"in l&&st.forEach(i.toJSON(),(function(t,e){l.setRequestHeader(e,t)})),st.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),s&&"json"!==s&&(l.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&l.addEventListener("progress",de(t.onDownloadProgress,!0)),"function"===typeof t.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",de(t.onUploadProgress)),(t.cancelToken||t.signal)&&(o=e=>{l&&(r(!e||e.type?new ne(null,t,l):e),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(o),t.signal&&(t.signal.aborted?o():t.signal.addEventListener("abort",o)));const c=ue(h);c&&-1===Ct.protocols.indexOf(c)?r(new ht("Unsupported protocol "+c+":",ht.ERR_BAD_REQUEST,t)):l.send(n||null)}))};const ge={http:ut,xhr:me};st.forEach(ge,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(r){}Object.defineProperty(t,"adapterName",{value:e})}}));var we={getAdapter:t=>{t=st.isArray(t)?t:[t];const{length:e}=t;let r,n;for(let i=0;i<e;i++)if(r=t[i],n=st.isString(r)?ge[r.toLowerCase()]:r)break;if(!n){if(!1===n)throw new ht(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(st.hasOwnProp(ge,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`)}if(!st.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:ge};function be(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ne(null,t)}function ye(t){be(t),t.headers=Qt.from(t.headers),t.data=te.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);const e=we.getAdapter(t.adapter||jt.adapter);return e(t).then((function(e){return be(t),e.data=te.call(t,t.transformResponse,e),e.headers=Qt.from(e.headers),e}),(function(e){return ee(e)||(be(t),e&&e.response&&(e.response.data=te.call(t,t.transformResponse,e.response),e.response.headers=Qt.from(e.response.headers))),Promise.reject(e)}))}const ve=t=>t instanceof Qt?t.toJSON():t;function _e(t,e){e=e||{};const r={};function n(t,e,r){return st.isPlainObject(t)&&st.isPlainObject(e)?st.merge.call({caseless:r},t,e):st.isPlainObject(e)?st.merge({},e):st.isArray(e)?e.slice():e}function i(t,e,r){return st.isUndefined(e)?st.isUndefined(t)?void 0:n(void 0,t,r):n(t,e,r)}function s(t,e){if(!st.isUndefined(e))return n(void 0,e)}function o(t,e){return st.isUndefined(e)?st.isUndefined(t)?void 0:n(void 0,t):n(void 0,e)}function a(r,i,s){return s in e?n(r,i):s in t?n(void 0,r):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(t,e)=>i(ve(t),ve(e),!0)};return st.forEach(Object.keys(Object.assign({},t,e)),(function(n){const s=l[n]||i,o=s(t[n],e[n],n);st.isUndefined(o)&&s!==a||(r[n]=o)})),r}const xe="1.4.0",ke={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{ke[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));const Me={};function Ee(t,e,r){if("object"!==typeof t)throw new ht("options must be an object",ht.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;while(i-- >0){const s=n[i],o=e[s];if(o){const e=t[s],r=void 0===e||o(e,s,t);if(!0!==r)throw new ht("option "+s+" must be "+r,ht.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new ht("Unknown option "+s,ht.ERR_BAD_OPTION)}}ke.transitional=function(t,e,r){function n(t,e){return"[Axios v"+xe+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return(r,i,s)=>{if(!1===t)throw new ht(n(i," has been removed"+(e?" in "+e:"")),ht.ERR_DEPRECATED);return e&&!Me[i]&&(Me[i]=!0,console.warn(n(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,i,s)}};var Ae={assertOptions:Ee,validators:ke};const Se=Ae.validators;class Re{constructor(t){this.defaults=t,this.interceptors={request:new Et,response:new Et}}request(t,e){"string"===typeof t?(e=e||{},e.url=t):e=t||{},e=_e(this.defaults,e);const{transitional:r,paramsSerializer:n,headers:i}=e;let s;void 0!==r&&Ae.assertOptions(r,{silentJSONParsing:Se.transitional(Se.boolean),forcedJSONParsing:Se.transitional(Se.boolean),clarifyTimeoutError:Se.transitional(Se.boolean)},!1),null!=n&&(st.isFunction(n)?e.paramsSerializer={serialize:n}:Ae.assertOptions(n,{encode:Se.function,serialize:Se.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase(),s=i&&st.merge(i.common,i[e.method]),s&&st.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete i[t]})),e.headers=Qt.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,o.unshift(t.fulfilled,t.rejected))}));const l=[];let h;this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)}));let u,c=0;if(!a){const t=[ye.bind(this),void 0];t.unshift.apply(t,o),t.push.apply(t,l),u=t.length,h=Promise.resolve(e);while(c<u)h=h.then(t[c++],t[c++]);return h}u=o.length;let f=e;c=0;while(c<u){const t=o[c++],e=o[c++];try{f=t(f)}catch(d){e.call(this,d);break}}try{h=ye.call(this,f)}catch(d){return Promise.reject(d)}c=0,u=l.length;while(c<u)h=h.then(l[c++],l[c++]);return h}getUri(t){t=_e(this.defaults,t);const e=le(t.baseURL,t.url);return kt(e,t.params,t.paramsSerializer)}}st.forEach(["delete","get","head","options"],(function(t){Re.prototype[t]=function(e,r){return this.request(_e(r||{},{method:t,url:e,data:(r||{}).data}))}})),st.forEach(["post","put","patch"],(function(t){function e(e){return function(r,n,i){return this.request(_e(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Re.prototype[t]=e(),Re.prototype[t+"Form"]=e(!0)}));var Pe=Re;class Te{constructor(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const r=this;this.promise.then((t=>{if(!r._listeners)return;let e=r._listeners.length;while(e-- >0)r._listeners[e](t);r._listeners=null})),this.promise.then=t=>{let e;const n=new Promise((t=>{r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t,n,i){r.reason||(r.reason=new ne(t,n,i),e(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;const e=new Te((function(e){t=e}));return{token:e,cancel:t}}}var Ie=Te;function Ce(t){return function(e){return t.apply(null,e)}}function De(t){return st.isObject(t)&&!0===t.isAxiosError}const Oe={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Oe).forEach((([t,e])=>{Oe[e]=t}));var Be=Oe;function Ue(t){const e=new Pe(t),r=n(Pe.prototype.request,e);return st.extend(r,Pe.prototype,e,{allOwnKeys:!0}),st.extend(r,e,null,{allOwnKeys:!0}),r.create=function(e){return Ue(_e(t,e))},r}const Ne=Ue(jt);Ne.Axios=Pe,Ne.CanceledError=ne,Ne.CancelToken=Ie,Ne.isCancel=ee,Ne.VERSION=xe,Ne.toFormData=wt,Ne.AxiosError=ht,Ne.Cancel=Ne.CanceledError,Ne.all=function(t){return Promise.all(t)},Ne.spread=Ce,Ne.isAxiosError=De,Ne.mergeConfig=_e,Ne.AxiosHeaders=Qt,Ne.formToJSON=t=>Nt(st.isHTMLForm(t)?new FormData(t):t),Ne.HttpStatusCode=Be,Ne.default=Ne;var Fe=Ne},2898:function(t){"use strict";t.exports={version:"1.0.1"}}}]);
//# sourceMappingURL=chunk-vendors.dc6092fb.js.map